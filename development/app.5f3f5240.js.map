{"version":3,"sources":["../src/js/utils.js","../node_modules/animejs/lib/anime.es.js","../src/js/animations.js","../src/js/menu.js","../node_modules/core-js/library/modules/_to-integer.js","../node_modules/core-js/library/modules/_defined.js","../node_modules/core-js/library/modules/_string-at.js","../node_modules/core-js/library/modules/_library.js","../node_modules/core-js/library/modules/_global.js","../node_modules/core-js/library/modules/_core.js","../node_modules/core-js/library/modules/_a-function.js","../node_modules/core-js/library/modules/_ctx.js","../node_modules/core-js/library/modules/_is-object.js","../node_modules/core-js/library/modules/_an-object.js","../node_modules/core-js/library/modules/_fails.js","../node_modules/core-js/library/modules/_descriptors.js","../node_modules/core-js/library/modules/_dom-create.js","../node_modules/core-js/library/modules/_ie8-dom-define.js","../node_modules/core-js/library/modules/_to-primitive.js","../node_modules/core-js/library/modules/_object-dp.js","../node_modules/core-js/library/modules/_property-desc.js","../node_modules/core-js/library/modules/_hide.js","../node_modules/core-js/library/modules/_has.js","../node_modules/core-js/library/modules/_export.js","../node_modules/core-js/library/modules/_redefine.js","../node_modules/core-js/library/modules/_iterators.js","../node_modules/core-js/library/modules/_cof.js","../node_modules/core-js/library/modules/_iobject.js","../node_modules/core-js/library/modules/_to-iobject.js","../node_modules/core-js/library/modules/_to-length.js","../node_modules/core-js/library/modules/_to-absolute-index.js","../node_modules/core-js/library/modules/_array-includes.js","../node_modules/core-js/library/modules/_shared.js","../node_modules/core-js/library/modules/_uid.js","../node_modules/core-js/library/modules/_shared-key.js","../node_modules/core-js/library/modules/_object-keys-internal.js","../node_modules/core-js/library/modules/_enum-bug-keys.js","../node_modules/core-js/library/modules/_object-keys.js","../node_modules/core-js/library/modules/_object-dps.js","../node_modules/core-js/library/modules/_html.js","../node_modules/core-js/library/modules/_object-create.js","../node_modules/core-js/library/modules/_wks.js","../node_modules/core-js/library/modules/_set-to-string-tag.js","../node_modules/core-js/library/modules/_iter-create.js","../node_modules/core-js/library/modules/_to-object.js","../node_modules/core-js/library/modules/_object-gpo.js","../node_modules/core-js/library/modules/_iter-define.js","../node_modules/core-js/library/modules/es6.string.iterator.js","../node_modules/core-js/library/modules/_iter-call.js","../node_modules/core-js/library/modules/_is-array-iter.js","../node_modules/core-js/library/modules/_create-property.js","../node_modules/core-js/library/modules/_classof.js","../node_modules/core-js/library/modules/core.get-iterator-method.js","../node_modules/core-js/library/modules/_iter-detect.js","../node_modules/core-js/library/modules/es6.array.from.js","../node_modules/core-js/library/fn/array/from.js","../node_modules/@babel/runtime-corejs2/core-js/array/from.js","../node_modules/core-js/library/modules/_is-array.js","../node_modules/core-js/library/modules/es6.array.is-array.js","../node_modules/core-js/library/fn/array/is-array.js","../node_modules/@babel/runtime-corejs2/core-js/array/is-array.js","../node_modules/@babel/runtime-corejs2/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime-corejs2/helpers/arrayWithoutHoles.js","../node_modules/core-js/library/modules/_add-to-unscopables.js","../node_modules/core-js/library/modules/_iter-step.js","../node_modules/core-js/library/modules/es6.array.iterator.js","../node_modules/core-js/library/modules/web.dom.iterable.js","../node_modules/core-js/library/modules/core.is-iterable.js","../node_modules/core-js/library/fn/is-iterable.js","../node_modules/@babel/runtime-corejs2/core-js/is-iterable.js","../node_modules/core-js/library/modules/_meta.js","../node_modules/core-js/library/modules/_wks-ext.js","../node_modules/core-js/library/modules/_wks-define.js","../node_modules/core-js/library/modules/_object-gops.js","../node_modules/core-js/library/modules/_object-pie.js","../node_modules/core-js/library/modules/_enum-keys.js","../node_modules/core-js/library/modules/_object-gopn.js","../node_modules/core-js/library/modules/_object-gopn-ext.js","../node_modules/core-js/library/modules/_object-gopd.js","../node_modules/core-js/library/modules/es6.symbol.js","../node_modules/core-js/library/modules/es6.object.to-string.js","../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../node_modules/core-js/library/modules/es7.symbol.observable.js","../node_modules/core-js/library/fn/symbol/index.js","../node_modules/@babel/runtime-corejs2/core-js/symbol.js","../node_modules/@babel/runtime-corejs2/helpers/iterableToArray.js","../node_modules/@babel/runtime-corejs2/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime-corejs2/helpers/nonIterableSpread.js","../node_modules/@babel/runtime-corejs2/helpers/toConsumableArray.js","../node_modules/@babel/runtime-corejs2/helpers/classCallCheck.js","../node_modules/core-js/library/modules/es6.object.define-property.js","../node_modules/core-js/library/fn/object/define-property.js","../node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","../node_modules/@babel/runtime-corejs2/helpers/createClass.js","../src/js/parallax.js","../node_modules/core-js/library/modules/_string-ws.js","../node_modules/core-js/library/modules/_string-trim.js","../node_modules/core-js/library/modules/_parse-int.js","../node_modules/core-js/library/modules/es6.parse-int.js","../node_modules/core-js/library/fn/parse-int.js","../node_modules/@babel/runtime-corejs2/core-js/parse-int.js","../node_modules/core-js/library/modules/_object-sap.js","../node_modules/core-js/library/modules/es6.object.keys.js","../node_modules/core-js/library/fn/object/keys.js","../node_modules/@babel/runtime-corejs2/core-js/object/keys.js","../node_modules/core-js/library/fn/symbol/iterator.js","../node_modules/@babel/runtime-corejs2/core-js/symbol/iterator.js","../node_modules/@babel/runtime-corejs2/helpers/typeof.js","../src/vendors/fullpage.js","../../../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/modules/Logger.ts","../src/defs/hooks.ts","../../../node_modules/path-to-regexp/index.js","../src/schemas/attribute.ts","../src/utils/dom.ts","../src/utils/history.ts","../src/utils/helpers.ts","../src/utils/url.ts","../src/utils/request.ts","../../../node_modules/is-promise/index.js","../src/utils/run-async.ts","../src/hooks.ts","../src/modules/Ignore.ts","../src/modules/Cache.ts","../src/modules/Prevent.ts","../src/modules/Error.ts","../src/modules/Store.ts","../src/modules/Transitions.ts","../src/modules/Views.ts","../src/polyfills/index.ts","../src/schemas/page.ts","../src/core.ts","../src/js/app.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["addClasses","el","classes","split","forEach","className","classList","add","removeClasses","remove","toggleClasses","toggle","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","text","indexOf","applyArguments","func","args","apply","is","arr","a","Array","isArray","obj","Object","prototype","toString","call","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","nil","hex","test","rgb","hsl","col","key","parseEasingParameters","string","match","exec","map","p","parseFloat","spring","params","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","b","solver","t","progress","exp","cos","sin","getDuration","cached","frame","elapsed","rest","steps","ceil","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","abs","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","Float32Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","x","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","baseEasings","name","keys","easeIn","parseEasings","ease","selectString","nodes","document","querySelectorAll","e","filterArray","callback","len","length","thisArg","arguments","result","push","flattenArray","reduce","concat","toArray","o","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","replace","m","r","g","parseInt","hslToRgba","hslValue","h","s","l","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","target","id","total","getAttribute","prop","convertPxToUnit","value","unit","valueUnit","baseline","tempEl","createElement","tagName","parentEl","parentNode","body","appendChild","style","position","width","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","set","getTransformValue","defaultVal","get","list","getOriginalTargetValue","getRelativeValue","to","from","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","points","totalLength","previousPos","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","setAttribute","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","getBoundingClientRect","viewBoxAttr","height","viewBox","w","vW","vH","getPath","path","percent","property","getPathProgress","isPathTargetInsideSVG","point","offset","getPointAtLength","p0","scaleX","scaleY","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targets","targetsArray","item","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","isFromTo","propArray","v","k","flattenKeyframes","keyframes","propertyNames","properties","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","attribute","object","manual","last","setTargetsValue","animatables","animType","createAnimation","lastTween","type","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","children","activeInstances","engine","raf","play","isDocumentHidden","anime","suspendWhenDocumentHidden","requestAnimationFrame","step","activeInstancesLength","activeInstance","paused","tick","splice","undefined","handleVisibilityChange","cancelAnimationFrame","instance","_onDocumentVisibility","addEventListener","hidden","startTime","lastTime","now","childrenLength","resolve","makePromise","promise","window","Promise","_resolve","finished","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","reset","pause","reverse","restart","removeTargetsFromInstance","removeTargetsFromAnimations","c","childAnimations","removeTargetsFromActiveInstances","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","index","fromX","fromY","floor","toX","toY","distanceX","distanceY","spacing","timeline","tl","instanceParams","tlIndex","ins","insParams","tlDuration","version","running","convertPx","random","DURATION","revealMenu","menuEl","oper","translateY","translateZ","closeMenu","revealImage","image","imageCoverSelector","elsToSlide","imageCovers","translateX","querySelector","opacity","slideFromLeft","elements","leavePage","element","mobileToggler","globalNav","isOpen","options","layers","nameSpaces","wrapper","depth","init","parallaxWrappers","moveHandler","clientX","clientY","layer","itemX","itemY","root","factory","define","amd","fullpage","exports","module","WRAPPER","WRAPPER_SEL","SCROLLABLE","SCROLLABLE_SEL","RESPONSIVE","NO_TRANSITION","DESTROYED","ENABLED","VIEWING_PREFIX","ACTIVE","ACTIVE_SEL","COMPLETELY","COMPLETELY_SEL","SECTION_DEFAULT_SEL","SECTION","SECTION_SEL","SECTION_ACTIVE_SEL","TABLE_CELL","TABLE_CELL_SEL","AUTO_HEIGHT","AUTO_HEIGHT_SEL","AUTO_HEIGHT_RESPONSIVE","AUTO_HEIGHT_RESPONSIVE_SEL","NORMAL_SCROLL","NORMAL_SCROLL_SEL","SECTION_NAV","SECTION_NAV_SEL","SECTION_NAV_TOOLTIP","SECTION_NAV_TOOLTIP_SEL","SHOW_ACTIVE_TOOLTIP","SLIDE_DEFAULT_SEL","SLIDE","SLIDE_SEL","SLIDE_ACTIVE_SEL","SLIDES_WRAPPER","SLIDES_WRAPPER_SEL","SLIDES_CONTAINER","SLIDES_CONTAINER_SEL","TABLE","SLIDES_NAV","SLIDES_NAV_SEL","SLIDES_NAV_LINK_SEL","SLIDES_ARROW","SLIDES_ARROW_SEL","SLIDES_PREV","SLIDES_PREV_SEL","SLIDES_ARROW_PREV","SLIDES_ARROW_PREV_SEL","SLIDES_NEXT","SLIDES_NEXT_SEL","SLIDES_ARROW_NEXT","SLIDES_ARROW_NEXT_SEL","initialise","containerSelector","isOK","RegExp","domain","$htmlBody","$","$html","$body","hasClass","displayWarnings","FP","deepExtend","menu","anchors","lockAnchors","navigation","navigationPosition","navigationTooltips","showActiveTooltip","slidesNavigation","slidesNavPosition","scrollBar","hybrid","css3","scrollingSpeed","autoScrolling","fitToSection","fitToSectionDelay","easingcss3","loopBottom","loopTop","loopHorizontal","continuousVertical","continuousHorizontal","scrollHorizontally","interlockedSlides","dragAndMove","offsetSections","resetSliders","fadingEffect","normalScrollElements","scrollOverflow","scrollOverflowReset","scrollOverflowHandler","fp_scrolloverflow","iscrollHandler","scrollOverflowOptions","touchSensitivity","touchWrapper","bigSectionsDestination","keyboardScrolling","animateAnchor","recordHistory","controlArrows","controlArrowColor","verticalCentered","sectionsColor","paddingTop","paddingBottom","fixedElements","responsive","responsiveWidth","responsiveHeight","responsiveSlides","parallax","parallaxOptions","percentage","cards","cardsOptions","perspective","fadeContent","fadeBackground","sectionSelector","slideSelector","v2compatible","afterLoad","onLeave","afterRender","afterResize","afterReBuild","afterSlideLoad","onSlideLeave","afterResponsive","lazyLoading","slideMoving","isTouchDevice","navigator","userAgent","isTouch","msMaxTouchPoints","maxTouchPoints","container","windowsHeight","getWindowHeight","windowsWidth","getWindowWidth","isResizing","isWindowFocused","lastScrolledDestiny","lastScrolledSlide","canScroll","scrollings","controlPressed","startingSection","isScrollAllowed","MSPointer","getMSPointer","events","touchmove","move","touchstart","down","scrollBarHandler","focusableElementsString","g_supportsPassive","opts","removeEventListener","resizeId","resizeHandlerId","afterSectionLoadsId","afterSlideLoadsId","scrollId","scrollId2","keydownId","g_doubleCheckHeightId","originals","activeAnimation","g_initialAnchorsInDom","g_canFireMouseEnterNormalScroll","g_mediaLoadedId","g_transitionLapseId","extensions","fp_easings","easeInOutCubic","d","setAutoScrolling","silentScroll","setVariableState","setRecordHistory","offsetTop","scrollSettings","getScrollSettings","scrollTo","setScrollingSpeed","setFitToSection","setLockAnchors","setMouseWheelScrolling","addMouseWheelHandler","addMiddleWheelHandler","removeMouseWheelHandler","removeMiddleWheelHandler","setAllowScrolling","directions","setIsScrollAllowed","setMouseHijack","addTouchHandler","removeTouchHandler","setKeyboardScrolling","moveSectionUp","prev","prevUntil","scrollPage","moveSectionDown","next","nextUntil","silentMoveTo","sectionAnchor","slideAnchor","moveTo","destiny","getSectionByAnchor","scrollPageAndSlide","moveSlideRight","section","moveSlide","moveSlideLeft","reBuild","resizing","sections","slidesWrap","slides","getTableHeight","landscapeScroll","createScrollBarForAll","activeSection","sectionIndex","isFunction","innerWidth","innerHeight","isResponsiveMode","setResponsive","active","isResponsive","hide","addClass","show","removeClass","getFullpageData","destroy","getActiveSection","getActiveSlide","top","translate3d","translate3dH","left","shared","afterRenderActions","isNormalScrollElement","fullpage_api","fn","bindEvents","support3d","setOptionsFromDOM","prepareDom","setBodyClass","readyState","scrollToAnchor","doubleCheckHeight","scrollHandler","hashChangeHandler","focusHandler","blurHandler","resizeHandler","keydownHandler","keyUpHandler","eventName","delegatedEvents","forMouseLeaveOrTouch","closest","sectionBulletHandler","matches","tooltipTextHandler","slideArrowHandler","slideBulletHandler","menuItemsHandler","allowScrolling","onMouseEnterOrLeave","isInsideOneNormalScroll","isUsingScrollOverflow","toElement","relatedTarget","setIscroll","setTimeout","normalSelectors","normalSelector","isNormalScrollTarget","isNormalScrollChildFocused","adjustToNewViewport","newWindowHeight","newWindowWidth","anchorsAttribute","join","tooltipsAttribute","tooltips","addInternalSelectors","numSlides","styleSection","styleMenu","styleSlides","addTableClass","addVerticalNavigation","enableYoutubeAPI","sliderWidth","slideWidth","slidesWrapper","wrapAll","slidesContainer","createSlideArrows","addSlidesNavigation","slide","startingSlide","silentLandscapeScroll","activateMenuAndNav","arrows","createElementFromHTML","after","divUl","appendTo","nav","li","link","getBulletLinkName","tooltip","innerHTML","bullet","defaultName","anchor","addURLParam","newParam","originalSrc","getUrlParamSign","url","lazyLoad","lazyLoadOthers","playMedia","isDestinyTheStartingSection","fireCallback","anchorLink","getAnchorsURL","destinationSection","isScrolling","lastScroll","currentSection","currentScroll","getScrollTop","scrollDirection","getScrollDirection","visibleSectionIndex","screen_mid","isAtBottom","offsetHeight","isCompletelyInViewPort","siblings","leavingSection","leavingSectionIndex","yMovement","getYmovement","activeSlide","slideIndex","slideAnchorLink","callbacksParams","stopMedia","setState","clearTimeout","movement","bottom","isSectionInViewport","pixelOffset","isTopInView","isBottomInView","previousDestTop","scrolling","scrollSection","scrollable","check","isScrolled","preventBouncing","isReallyTouch","up","preventDefault","touchStartY","touchStartX","touchEndY","touchEndX","touchMoveHandler","touchEvents","getEventsPage","right","pointerType","touchStartHandler","getAverage","number","sum","lastElements","prevTime","Date","getTime","MouseWheelHandler","curTime","isNormalScroll","event","wheelDelta","deltaY","detail","delta","horizontalDetection","wheelDeltaX","deltaX","isScrollingVertically","shift","timeDiff","averageEnd","averageMiddle","isAccelerating","currentSlide","slideSiblings","isTesting","keepSlidesPosition","activeSlides","getDestinationPosition","elementHeight","elementTop","isScrollingDown","sectionBottom","isMovementUp","dtop","localIsResizing","createInfiniteSections","beforeLeave","performMovement","eventData","getEventData","trigger","nullOrSection","Section","nullOrSlide","Slide","paramsPerEvent","origin","destination","prevSlide","prevSlideIndex","isFastSpeed","transitionLapse","transformContainer","afterSectionLoads","scroll","prevAll","before","nextAll","wrapAroundElements","continuousVerticalFixSectionOrder","setSrc","removeAttribute","hasAutoHeightSections","panel","getSlideOrSection","onMediaLoad","elementToPlay","load","onloadeddata","createScrollBar","hasAttribute","playYoutube","onload","contentWindow","postMessage","isFirstSlideMove","isFirstScrollMove","hash","location","anchorsParts","isFunkyAnchor","decodeURIComponent","activeElement","keyCode","onTab","keyControls","ctrlKey","onkeydown","mouseDownHandler","which","oldPageY","pageY","mouseMoveHandler","mouseUpHandler","isShiftPressed","shiftKey","focusableElements","getFocusables","preventAndFocusFirst","focus","isFocusOutside","filter","offsetParent","allFocusables","currentFocusIndex","focusDestinationIndex","focusDestination","destinationItemSlide","destinationItemSection","indexBullet","shiftPressed","isMediaFocused","destinyPos","offsetLeft","slidesNav","getAnchor","xMovement","getXmovement","performHorizontalMove","afterSlideLoads","activeSlidesNavigation","addAnimation","getTransforms","previousHeight","resizeActions","currentHeight","widthLimit","heightLimit","isBreakingPointWidth","isBreakingPointHeight","transition","removeAnimation","activateNavDots","activateMenuElement","toIndex","wrapInner","sectionHeight","paddings","animated","getSlideByAnchor","scrollSlider","sectionHash","setUrlHash","history","replaceState","baseUrl","href","elementIndex","String","classRe","has3d","display","insertBefore","detachEvent","prefix","_addEventListener","support","onmousewheel","passiveEvent","passive","pointer","PointerEvent","pageX","touches","noCallbacks","roundedTop","setScrolling","all","timeoutId","destroyStructure","previousStyles","selector","unwrap","usedSelectors","variable","msgStyle","showError","console","warn","extension","nameAttr","idAttr","propertyName","getScrolledPosition","scrollLeft","increment","animateScroll","Item","isLast","parentElement","isFirst","context","out","contains","documentElement","items","props","getList","until","sibling","previousElementSibling","nextElementSibling","isArrayOrList","childNodes","num","classNames","parent","wrap","toWrap","isWrapAll","newParent","cloneNode","firstChild","wrapperContent","createDocumentFragment","replaceChild","reference","nextSibling","beforeElement","doc","pageYOffset","scrollTop","clientTop","returnValue","data","CustomEvent","createEvent","initCustomEvent","dispatchEvent","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","htmlString","div","trim","filterFn","untilAll","objectData","fp_utils","jQuery","extend","_catch","recover","then","Symbol","iterator","asyncIterator","LogLevels","HookMethods","_level","off","Logger","source","this","_source","getLevel","setLevel","error","objects","_log","warning","info","debug","log","level","pathToRegexp","regexpToFunction","parse","tokensToFunction","tokensToRegExp","DEFAULT_DELIMITER","PATH_REGEXP","res","tokens","defaultDelimiter","delimiter","whitelist","pathEscaped","escaped","capture","group","modifier","pattern","optional","repeat","escapeGroup","escapeString","re","pathname","decode","flags","encode","encodeURIComponent","validate","token","segment","TypeError","j","sensitive","strict","endsWith","route","endToken","isEndDelimited","groups","regexpToRegexp","parts","arrayToRegexp","stringToRegexp","schemaAttribute","namespace","prevent","DOMParser","outerHTML","toDocument","_parser","parseFromString","getHtml","getWrapper","scope","_attr","getContainer","removeContainer","addContainer","existingContainer","_insertAfter","getNamespace","ns","getHref","resolveUrl","baseVal","urls","numUrls","Error","base","head","getElementsByTagName","resolved","newNode","referenceNode","_session","state","scrollX","scrollY","_states","_pointer","states","_getDirection","size","action","_getAction","pushState","pop","clear","newStates","attr","diff","page","html","nextDocument","title","ptr","getOrigin","getPort","port","portString","substring","query","hashIndex","queryIndex","parseQuery","acc","clean","request","ttl","requestError","reject","xhr","XMLHttpRequest","onreadystatechange","DONE","status","responseText","statusText","ontimeout","err","onerror","open","timeout","setRequestHeader","send","runAsync","ctx","async","answer","isPromise","hooks","_this","registered","hook","_this2","has","Set","chain","_this3","logger","_this4","help","Ignore","ignore","_ignoreAll","paths","_ignoreRegexes","checkHref","regex","Cache","_state","getRequest","getAction","exists","newTab","metaKey","altKey","blank","corsDomain","protocol","hostname","corsPort","download","preventSelf","preventAll","Boolean","sameUrl","Prevent","suite","tests","run","checkLink","BarbaError","label","captureStackTrace","Store","transitions","_rules","filters","once","matching","find","valid","rule","_check","activeMatch","transitionType","infos","_addPriority","sort","priority","leave","enter","isValid","hasMatch","strRule","objRule","fnName","current","names","_calculatePriority","ruleName","ruleIndex","Transitions","store","doOnce","_running","_doAsyncHook","doPage","sync","_isTransitionError","leaveResult","helpers","message","Views","views","view","byNamespace","_createHook","Element","schemaPage","use","plugin","installedPlugins","plugins","install","schema","cacheIgnore","prefetchIgnore","preventRunning","preventCustom","logLevel","_requestCustomError","_wrapper","_resetData","_onLinkEnter","bind","_onLinkClick","_onStateChange","_bind","onceData","_unbind","force","assign","go","isRunning","hasSelf","stopPropagation","readyData","hasOnce","onRequestError","shouldWait","response","prefetch","_this5","_getLinkElement","_this6","_data","SCROLL_SPEED","prevAnimation","moonParallax","Parallax","fullPage","imageElement","elementsToSlide","bundleURL","getBundleURLCached","getBundleURL","stack","getBaseURL","bundle","require","updateLink","newLink","cssTimeout","reloadCSS","links","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","ws","onmessage","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","dep","Function","deps"],"mappings":"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QAFL;AAGLI,IAAAA,UAAU,EAAE,CAAC,OAAD,EAAU,MAAV,CAHP;AAILC,IAAAA,UAAU,EAAE,CAJP;AAKL/c,IAAAA,MAAM,EAAE;AALH,GAAN;AAOA,CARD;;;;;;AC3EA;;AACA;;AAEA,IAAM6d,aAAa,GAAGrV,QAAQ,CAAC+U,aAAT,CAAuB,YAAvB,CAAtB;AACA,IAAMO,SAAS,GAAGtV,QAAQ,CAAC+U,aAAT,CAAuB,aAAvB,CAAlB;AACA,IAAIQ,MAAM,GAAG,KAAb;AAEAF,aAAa,CAAClH,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC7C,4BAAckH,aAAd,EAA6B,MAA7B,EAD6C,CAE7C;;AACAE,EAAAA,MAAM,GAAG,2BAAUD,SAAV,CAAH,GAA0B,4BAAWA,SAAX,CAAhC;AACAC,EAAAA,MAAM,GAAG,CAACA,MAAV;AACA,CALD;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;;ACHA;;ACAA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;;ACFA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;;ACDA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;;ACHA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtPA;;ACAA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;;ACLA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;;ACLA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AClBI,oBAAYC,OAAZ,EAAqB;AAAA;AACjB,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKD,OAAL,GAAeA,OAAO,IAAI,EAA1B;AACA,SAAKE,UAAL,GAAkB;AACdC,MAAAA,OAAO,EAAE,KAAKH,OAAL,CAAaG,OAAb,IAAwB,WADnB;AAEdF,MAAAA,MAAM,EAAE,KAAKD,OAAL,CAAaC,MAAb,IAAuB,kBAFjB;AAGdG,MAAAA,KAAK,EAAE,KAAKJ,OAAL,CAAaI,KAAb,IAAsB;AAHf,KAAlB;AAMA,SAAKC,IAAL;AACH;;;;WAGD,gBA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","file":"app.5f3f5240.js","sourceRoot":"..\\public","sourcesContent":["const addClasses = (el, classes) => {\n\tclasses.split(' ').forEach(className => {\n\t\tel.classList.add(className);\n\t});\n}\n\nconst removeClasses = (el, classes) => {\n\tclasses.split(' ').forEach(className => {\n\t\tel.classList.remove(className);\n\t});\n}\n\nconst toggleClasses = (el, classes) => {\n\tclasses.split(' ').forEach(className => {\n\t\tel.classList.toggle(className);\n\t});\n}\n\nexport { addClasses, removeClasses, toggleClasses };","/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","import anime from 'animejs/lib/anime.es.js';\n\nconst DURATION = 400;\n\nconst revealMenu = (menuEl, oper) => {\n\tconst tl = anime.timeline({\n\t\teasing: 'easeInOutExpo',\n\t});\n\ttl\n\t.add({\n\t\ttargets: menuEl,\n\t\ttranslateY: ['-100%', 0],\n\t\ttranslateZ: 0,\n\t\tduration: DURATION,\n\t})\n\t.add({\n\t\ttargets: menuEl.querySelectorAll('li a'),\n\t\tscaleY: [0, 1],\n\t\ttranslateZ: 0,\n\t\tduration: DURATION,\n\t\tdelay: anime.stagger(100),\n\t});\n}\n\nconst closeMenu = (menuEl) => {\n\tanime({\n\t\ttargets: menuEl,\n\t\ttranslateY: '-100%',\n\t\ttranslateZ: 0,\n\t\tduration: 600,\n\t\teasing: 'easeInOutExpo'\n\t});\n}\n\n\nconst revealImage = (image, imageCoverSelector, elsToSlide) => {\n\tconst imageCovers = image.querySelectorAll(imageCoverSelector);\n\tconst tl = anime.timeline({\n\t\tduration: DURATION,\n\t \teasing: 'easeInOutQuad',\n\t});\n\ttl\n\t.add({\n\t\ttargets: imageCovers[0],\n\t\tscaleX: [0, 1],\n\t\ttranslateZ: 0,\n\t})\n\t.add({\n\t\ttargets: imageCovers,\n\t\ttranslateX: '100%',\n\t\ttranslateZ: 0,\n\t})\n\t.add({\n\t\ttargets: image.querySelector('img'),\n\t\topacity: 1,\n\t\tduration: 50,\n\t}, `-=${DURATION}`)\n\t.add({\n\t\ttargets: elsToSlide,\n\t\ttranslateX: ['-100%', 0],\n\t\ttranslateZ: 0,\n\t});\n\treturn tl;\n}\n\nconst slideFromLeft = (elements) => {\n\tanime({\n\t\ttargets: elements,\n\t\tduration: 400,\n\t\ttranslateX: 0,\n\t\teasing: 'linear',\n\t\tdelay: anime.stagger(100),\n\t})\n}\n\nconst leavePage = (element) => {\n\tanime({\n\t\ttargets: element,\n\t\tduration: DURATION,\n\t\ttranslateY: ['-100%', '100%'],\n\t\ttranslateZ: 0,\n\t\teasing: 'easeInOutQuad',\n\t});\n}\n\n\nexport {revealMenu, closeMenu, revealImage, slideFromLeft, leavePage};","import { toggleClasses } from './utils.js';\nimport { revealMenu, closeMenu } from './animations.js';\n\nconst mobileToggler = document.querySelector('.menu-icon');\nconst globalNav = document.querySelector('.global-nav');\nlet isOpen = false;\n\nmobileToggler.addEventListener('click', () => {\n\ttoggleClasses(mobileToggler, 'open');\n\t// toggleClasses(globalNav, 'open');\n\tisOpen ? closeMenu(globalNav) : revealMenu(globalNav);\n\tisOpen = !isOpen;\n});","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = true;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = require('./_hide');\n","module.exports = {};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","module.exports = require(\"core-js/library/fn/array/from\");","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","require('../../modules/es6.array.is-array');\nmodule.exports = require('../../modules/_core').Array.isArray;\n","module.exports = require(\"core-js/library/fn/array/is-array\");","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var _Array$isArray = require(\"@babel/runtime-corejs2/core-js/array/is-array\");\n\nvar arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n","module.exports = require(\"core-js/library/fn/is-iterable\");","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","exports.f = require('./_wks');\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = require(\"core-js/library/fn/symbol\");","var _Array$from = require(\"@babel/runtime-corejs2/core-js/array/from\");\n\nvar _isIterable = require(\"@babel/runtime-corejs2/core-js/is-iterable\");\n\nvar _Symbol = require(\"@babel/runtime-corejs2/core-js/symbol\");\n\nfunction _iterableToArray(iter) {\n  if (typeof _Symbol !== \"undefined\" && _isIterable(Object(iter))) return _Array$from(iter);\n}\n\nmodule.exports = _iterableToArray;","var _Array$from = require(\"@babel/runtime-corejs2/core-js/array/from\");\n\nvar arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","module.exports = require(\"core-js/library/fn/object/define-property\");","var _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","export default class {\n    constructor(options) {\n        this.layers = [];\n        this.options = options || {};\n        this.nameSpaces = {\n            wrapper: this.options.wrapper || '.parallax',\n            layers: this.options.layers || '.parallax__layer',\n            depth: this.options.depth || 'data-parallax-depth',\n\n        }\n        this.init();\n    }\n\n\n    init() {\n        this.parallaxWrappers = document.querySelectorAll(this.nameSpaces.wrapper);\n        this.parallaxWrappers.forEach(wrapper => {\n            wrapper.addEventListener('mousemove', (e) => {\n                this.moveHandler(e, wrapper);\n            });\n            this.layers.push(...Array.from(wrapper.querySelectorAll(this.nameSpaces.layers)));\n        });\n    }\n\n    moveHandler(e, wrapper) {\n        const x = e.clientX;\n        const y = e.clientY;\n        this.layers.forEach((layer) => {\n            const depth = layer.getAttribute(this.nameSpaces.depth);\n            const itemX = x / (+depth * 300);\n            const itemY = y / (+depth * 300);\n            layer.style.transform = `translate(${itemX}%, ${itemY}%)`;\n        });\n    }\n}","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","require('../modules/es6.parse-int');\nmodule.exports = require('../modules/_core').parseInt;\n","module.exports = require(\"core-js/library/fn/parse-int\");","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = require(\"core-js/library/fn/object/keys\");","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = require(\"core-js/library/fn/symbol/iterator\");","var _Symbol$iterator = require(\"@babel/runtime-corejs2/core-js/symbol/iterator\");\n\nvar _Symbol = require(\"@babel/runtime-corejs2/core-js/symbol\");\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/*!\n * fullPage 3.1.0\n * https://github.com/alvarotrigo/fullPage.js\n *\n * @license GPLv3 for open source use only\n * or Fullpage Commercial License for commercial use\n * http://alvarotrigo.com/fullPage/pricing/\n *\n * Copyright (C) 2018 http://alvarotrigo.com/fullPage - A project by Alvaro Trigo\n */\n(function( root, window, document, factory, undefined) {\n    if( typeof define === 'function' && define.amd ) {\n        // AMD. Register as an anonymous module.\n        define( function() {\n            root.fullpage = factory(window, document);\n            return root.fullpage;\n        } );\n    } else if( typeof exports === 'object' ) {\n        // Node. Does not work with strict CommonJS.\n        module.exports = factory(window, document);\n    } else {\n        // Browser globals.\n        window.fullpage = factory(window, document);\n    }\n}(this, window, document, function(window, document){\n    'use strict';\n\n    // keeping central set of classnames and selectors\n    var WRAPPER =               'fullpage-wrapper';\n    var WRAPPER_SEL =           '.' + WRAPPER;\n\n    // slimscroll\n    var SCROLLABLE =            'fp-scrollable';\n    var SCROLLABLE_SEL =        '.' + SCROLLABLE;\n\n    // util\n    var RESPONSIVE =            'fp-responsive';\n    var NO_TRANSITION =         'fp-notransition';\n    var DESTROYED =             'fp-destroyed';\n    var ENABLED =               'fp-enabled';\n    var VIEWING_PREFIX =        'fp-viewing';\n    var ACTIVE =                'active';\n    var ACTIVE_SEL =            '.' + ACTIVE;\n    var COMPLETELY =            'fp-completely';\n    var COMPLETELY_SEL =        '.' + COMPLETELY;\n\n    // section\n    var SECTION_DEFAULT_SEL =   '.section';\n    var SECTION =               'fp-section';\n    var SECTION_SEL =           '.' + SECTION;\n    var SECTION_ACTIVE_SEL =    SECTION_SEL + ACTIVE_SEL;\n    var TABLE_CELL =            'fp-tableCell';\n    var TABLE_CELL_SEL =        '.' + TABLE_CELL;\n    var AUTO_HEIGHT =           'fp-auto-height';\n    var AUTO_HEIGHT_SEL =       '.' + AUTO_HEIGHT;\n    var AUTO_HEIGHT_RESPONSIVE = 'fp-auto-height-responsive';\n    var AUTO_HEIGHT_RESPONSIVE_SEL = '.' + AUTO_HEIGHT_RESPONSIVE;\n    var NORMAL_SCROLL =         'fp-normal-scroll';\n    var NORMAL_SCROLL_SEL =     '.' + NORMAL_SCROLL;\n\n    // section nav\n    var SECTION_NAV =           'fp-nav';\n    var SECTION_NAV_SEL =       '#' + SECTION_NAV;\n    var SECTION_NAV_TOOLTIP =   'fp-tooltip';\n    var SECTION_NAV_TOOLTIP_SEL='.'+SECTION_NAV_TOOLTIP;\n    var SHOW_ACTIVE_TOOLTIP =   'fp-show-active';\n\n    // slide\n    var SLIDE_DEFAULT_SEL =     '.slide';\n    var SLIDE =                 'fp-slide';\n    var SLIDE_SEL =             '.' + SLIDE;\n    var SLIDE_ACTIVE_SEL =      SLIDE_SEL + ACTIVE_SEL;\n    var SLIDES_WRAPPER =        'fp-slides';\n    var SLIDES_WRAPPER_SEL =    '.' + SLIDES_WRAPPER;\n    var SLIDES_CONTAINER =      'fp-slidesContainer';\n    var SLIDES_CONTAINER_SEL =  '.' + SLIDES_CONTAINER;\n    var TABLE =                 'fp-table';\n\n    // slide nav\n    var SLIDES_NAV =            'fp-slidesNav';\n    var SLIDES_NAV_SEL =        '.' + SLIDES_NAV;\n    var SLIDES_NAV_LINK_SEL =   SLIDES_NAV_SEL + ' a';\n    var SLIDES_ARROW =          'fp-controlArrow';\n    var SLIDES_ARROW_SEL =      '.' + SLIDES_ARROW;\n    var SLIDES_PREV =           'fp-prev';\n    var SLIDES_PREV_SEL =       '.' + SLIDES_PREV;\n    var SLIDES_ARROW_PREV =     SLIDES_ARROW + ' ' + SLIDES_PREV;\n    var SLIDES_ARROW_PREV_SEL = SLIDES_ARROW_SEL + SLIDES_PREV_SEL;\n    var SLIDES_NEXT =           'fp-next';\n    var SLIDES_NEXT_SEL =       '.' + SLIDES_NEXT;\n    var SLIDES_ARROW_NEXT =     SLIDES_ARROW + ' ' + SLIDES_NEXT;\n    var SLIDES_ARROW_NEXT_SEL = SLIDES_ARROW_SEL + SLIDES_NEXT_SEL;\n\n    function initialise(containerSelector, options) {\n        var isOK = options && new RegExp('([\\\\d\\\\w]{8}-){3}[\\\\d\\\\w]{8}|^(?=.*?[A-Y])(?=.*?[a-y])(?=.*?[0-8])(?=.*?[#?!@$%^&*-]).{8,}$').test(options['li'+'cen'+'seK' + 'e' + 'y']) || document.domain.indexOf('al'+'varotri' +'go' + '.' + 'com') > -1;\n\n        // cache common elements\n        var $htmlBody = $('html, body');\n        var $html = $('html')[0];\n        var $body = $('body')[0];\n\n        //only once my friend!\n        if(hasClass($html, ENABLED)){ displayWarnings(); return; }\n\n        var FP = {};\n\n        // Creating some defaults, extending them with any options that were provided\n        options = deepExtend({\n            //navigation\n            menu: false,\n            anchors:[],\n            lockAnchors: false,\n            navigation: false,\n            navigationPosition: 'right',\n            navigationTooltips: [],\n            showActiveTooltip: false,\n            slidesNavigation: false,\n            slidesNavPosition: 'bottom',\n            scrollBar: false,\n            hybrid: false,\n\n            //scrolling\n            css3: true,\n            scrollingSpeed: 700,\n            autoScrolling: true,\n            fitToSection: true,\n            fitToSectionDelay: 1000,\n            easing: 'easeInOutCubic',\n            easingcss3: 'ease',\n            loopBottom: false,\n            loopTop: false,\n            loopHorizontal: true,\n            continuousVertical: false,\n            continuousHorizontal: false,\n            scrollHorizontally: false,\n            interlockedSlides: false,\n            dragAndMove: false,\n            offsetSections: false,\n            resetSliders: false,\n            fadingEffect: false,\n            normalScrollElements: null,\n            scrollOverflow: false,\n            scrollOverflowReset: false,\n            scrollOverflowHandler: window.fp_scrolloverflow ? window.fp_scrolloverflow.iscrollHandler : null,\n            scrollOverflowOptions: null,\n            touchSensitivity: 5,\n            touchWrapper: typeof containerSelector === 'string' ? $(containerSelector)[0] : containerSelector,\n            bigSectionsDestination: null,\n\n            //Accessibility\n            keyboardScrolling: true,\n            animateAnchor: true,\n            recordHistory: true,\n\n            //design\n            controlArrows: true,\n            controlArrowColor: '#fff',\n            verticalCentered: true,\n            sectionsColor : [],\n            paddingTop: 0,\n            paddingBottom: 0,\n            fixedElements: null,\n            responsive: 0, //backwards compabitility with responsiveWiddth\n            responsiveWidth: 0,\n            responsiveHeight: 0,\n            responsiveSlides: false,\n            parallax: false,\n            parallaxOptions: {\n                type: 'reveal',\n                percentage: 62,\n                property: 'translate'\n            },\n            cards: false,\n            cardsOptions: {\n                perspective: 100,\n                fadeContent: true,\n                fadeBackground: true\n            },\n\n            //Custom selectors\n            sectionSelector: SECTION_DEFAULT_SEL,\n            slideSelector: SLIDE_DEFAULT_SEL,\n\n            //events\n            v2compatible: false,\n            afterLoad: null,\n            onLeave: null,\n            afterRender: null,\n            afterResize: null,\n            afterReBuild: null,\n            afterSlideLoad: null,\n            onSlideLeave: null,\n            afterResponsive: null,\n\n            lazyLoading: true\n        }, options);\n\n        //flag to avoid very fast sliding for landscape sliders\n        var slideMoving = false;\n\n        var isTouchDevice = navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/);\n        var isTouch = (('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0) || (navigator.maxTouchPoints));\n        var container = typeof containerSelector === 'string' ? $(containerSelector)[0] : containerSelector;\n        var windowsHeight = getWindowHeight();\n        var windowsWidth = getWindowWidth();\n        var isResizing = false;\n        var isWindowFocused = true;\n        var lastScrolledDestiny;\n        var lastScrolledSlide;\n        var canScroll = true;\n        var scrollings = [];\n        var controlPressed;\n        var startingSection;\n        var isScrollAllowed = {};\n        isScrollAllowed.m = {  'up':true, 'down':true, 'left':true, 'right':true };\n        isScrollAllowed.k = deepExtend({}, isScrollAllowed.m);\n        var MSPointer = getMSPointer();\n        var events = {\n            touchmove: 'ontouchmove' in window ? 'touchmove' :  MSPointer.move,\n            touchstart: 'ontouchstart' in window ? 'touchstart' :  MSPointer.down\n        };\n        var scrollBarHandler;\n\n        // taken from https://github.com/udacity/ud891/blob/gh-pages/lesson2-focus/07-modals-and-keyboard-traps/solution/modal.js\n        var focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]';\n\n        //cheks for passive event support\n        var g_supportsPassive = false;\n        try {\n          var opts = Object.defineProperty({}, 'passive', {\n            get: function() {\n              g_supportsPassive = true;\n            }\n          });\n          window.addEventListener(\"testPassive\", null, opts);\n          window.removeEventListener(\"testPassive\", null, opts);\n        } catch (e) {}\n\n        //timeouts\n        var resizeId;\n        var resizeHandlerId;\n        var afterSectionLoadsId;\n        var afterSlideLoadsId;\n        var scrollId;\n        var scrollId2;\n        var keydownId;\n        var g_doubleCheckHeightId;\n        var originals = deepExtend({}, options); //deep copy\n        var activeAnimation;\n        var g_initialAnchorsInDom = false;\n        var g_canFireMouseEnterNormalScroll = true;\n        var g_mediaLoadedId;\n        var g_transitionLapseId;\n        var extensions = [\n            'parallax',\n            'scrollOverflowReset',\n            'dragAndMove',\n            'offsetSections',\n            'fadingEffect',\n            'responsiveSlides',\n            'continuousHorizontal',\n            'interlockedSlides',\n            'scrollHorizontally',\n            'resetSliders',\n            'cards'\n        ];\n\n        displayWarnings();\n\n        //easeInOutCubic animation included in the plugin\n        window.fp_easings = deepExtend(window.fp_easings, {\n            easeInOutCubic: function (t, b, c, d) {\n                if ((t/=d/2) < 1) return c/2*t*t*t + b;return c/2*((t-=2)*t*t + 2) + b;\n            }\n        });\n\n        /**\n        * Sets the autoScroll option.\n        * It changes the scroll bar visibility and the history of the site as a result.\n        */\n        function setAutoScrolling(value, type){\n            //removing the transformation\n            if(!value){\n                silentScroll(0);\n            }\n\n            setVariableState('autoScrolling', value, type);\n\n            var element = $(SECTION_ACTIVE_SEL)[0];\n\n            if(options.autoScrolling && !options.scrollBar){\n                css($htmlBody, {\n                    'overflow': 'hidden',\n                    'height': '100%'\n                });\n\n                setRecordHistory(originals.recordHistory, 'internal');\n\n                //for IE touch devices\n                css(container, {\n                    '-ms-touch-action': 'none',\n                    'touch-action': 'none'\n                });\n\n                if(element != null){\n                    //moving the container up\n                    silentScroll(element.offsetTop);\n                }\n            }else{\n                css($htmlBody, {\n                    'overflow' : 'visible',\n                    'height' : 'initial'\n                });\n\n                var recordHistory = !options.autoScrolling ? false : originals.recordHistory;\n                setRecordHistory(recordHistory, 'internal');\n\n                //for IE touch devices\n                css(container, {\n                    '-ms-touch-action': '',\n                    'touch-action': ''\n                });\n\n                //scrolling the page to the section with no animation\n                if (element != null) {\n                    var scrollSettings = getScrollSettings(element.offsetTop);\n                    scrollSettings.element.scrollTo(0, scrollSettings.options);\n                }\n            }\n        }\n\n        /**\n        * Defines wheter to record the history for each hash change in the URL.\n        */\n        function setRecordHistory(value, type){\n            setVariableState('recordHistory', value, type);\n        }\n\n        /**\n        * Defines the scrolling speed\n        */\n        function setScrollingSpeed(value, type){\n            setVariableState('scrollingSpeed', value, type);\n        }\n\n        /**\n        * Sets fitToSection\n        */\n        function setFitToSection(value, type){\n            setVariableState('fitToSection', value, type);\n        }\n\n        /**\n        * Sets lockAnchors\n        */\n        function setLockAnchors(value){\n            options.lockAnchors = value;\n        }\n\n        /**\n        * Adds or remove the possibility of scrolling through sections by using the mouse wheel or the trackpad.\n        */\n        function setMouseWheelScrolling(value){\n            if(value){\n                addMouseWheelHandler();\n                addMiddleWheelHandler();\n            }else{\n                removeMouseWheelHandler();\n                removeMiddleWheelHandler();\n            }\n        }\n\n        /**\n        * Adds or remove the possibility of scrolling through sections by using the mouse wheel/trackpad or touch gestures.\n        * Optionally a second parameter can be used to specify the direction for which the action will be applied.\n        *\n        * @param directions string containing the direction or directions separated by comma.\n        */\n        function setAllowScrolling(value, directions){\n            if(typeof directions !== 'undefined'){\n                directions = directions.replace(/ /g,'').split(',');\n\n                directions.forEach(function (direction){\n                    setIsScrollAllowed(value, direction, 'm');\n                });\n            }\n            else{\n                setIsScrollAllowed(value, 'all', 'm');\n            }\n        }\n\n        /**\n        * Adds or remove the mouse wheel hijacking\n        */\n        function setMouseHijack(value){\n            if(value){\n                setMouseWheelScrolling(true);\n                addTouchHandler();\n            }else{\n                setMouseWheelScrolling(false);\n                removeTouchHandler();\n            }\n        }\n\n        /**\n        * Adds or remove the possibility of scrolling through sections by using the keyboard arrow keys\n        */\n        function setKeyboardScrolling(value, directions){\n            if(typeof directions !== 'undefined'){\n                directions = directions.replace(/ /g,'').split(',');\n\n                directions.forEach(function(direction){\n                    setIsScrollAllowed(value, direction, 'k');\n                });\n            }else{\n                setIsScrollAllowed(value, 'all', 'k');\n                options.keyboardScrolling = value;\n            }\n        }\n\n        /**\n        * Moves the page up one section.\n        */\n        function moveSectionUp(){\n            var prev = prevUntil($(SECTION_ACTIVE_SEL)[0], SECTION_SEL);\n\n            //looping to the bottom if there's no more sections above\n            if (!prev && (options.loopTop || options.continuousVertical)) {\n                prev = last($(SECTION_SEL));\n            }\n\n            if (prev != null) {\n                scrollPage(prev, null, true);\n            }\n        }\n\n        /**\n        * Moves the page down one section.\n        */\n        function moveSectionDown(){\n            var next = nextUntil($(SECTION_ACTIVE_SEL)[0], SECTION_SEL);\n\n            //looping to the top if there's no more sections below\n            if(!next &&\n                (options.loopBottom || options.continuousVertical)){\n                next = $(SECTION_SEL)[0];\n            }\n\n            if(next != null){\n                scrollPage(next, null, false);\n            }\n        }\n\n        /**\n        * Moves the page to the given section and slide with no animation.\n        * Anchors or index positions can be used as params.\n        */\n        function silentMoveTo(sectionAnchor, slideAnchor){\n            setScrollingSpeed (0, 'internal');\n            moveTo(sectionAnchor, slideAnchor);\n            setScrollingSpeed (originals.scrollingSpeed, 'internal');\n        }\n\n        /**\n        * Moves the page to the given section and slide.\n        * Anchors or index positions can be used as params.\n        */\n        function moveTo(sectionAnchor, slideAnchor){\n            var destiny = getSectionByAnchor(sectionAnchor);\n\n            if (typeof slideAnchor !== 'undefined'){\n                scrollPageAndSlide(sectionAnchor, slideAnchor);\n            }else if(destiny != null){\n                scrollPage(destiny);\n            }\n        }\n\n        /**\n        * Slides right the slider of the active section.\n        * Optional `section` param.\n        */\n        function moveSlideRight(section){\n            moveSlide('right', section);\n        }\n\n        /**\n        * Slides left the slider of the active section.\n        * Optional `section` param.\n        */\n        function moveSlideLeft(section){\n            moveSlide('left', section);\n        }\n\n        /**\n         * When resizing is finished, we adjust the slides sizes and positions\n         */\n        function reBuild(resizing){\n            if(hasClass(container, DESTROYED)){ return; }  //nothing to do if the plugin was destroyed\n\n            isResizing = true;\n\n            //updating global vars\n            windowsHeight = getWindowHeight();\n            windowsWidth = getWindowWidth();\n\n            var sections = $(SECTION_SEL);\n            for (var i = 0; i < sections.length; ++i) {\n                var section = sections[i];\n                var slidesWrap = $(SLIDES_WRAPPER_SEL, section)[0];\n                var slides = $(SLIDE_SEL, section);\n\n                //adjusting the height of the table-cell for IE and Firefox\n                if(options.verticalCentered){\n                    css($(TABLE_CELL_SEL, section), {'height': getTableHeight(section) + 'px'});\n                }\n\n                css(section, {'height': windowsHeight + 'px'});\n\n                //adjusting the position fo the FULL WIDTH slides...\n                if (slides.length > 1) {\n                    landscapeScroll(slidesWrap, $(SLIDE_ACTIVE_SEL, slidesWrap)[0]);\n                }\n            }\n\n            if(options.scrollOverflow){\n                scrollBarHandler.createScrollBarForAll();\n            }\n\n            var activeSection = $(SECTION_ACTIVE_SEL)[0];\n            var sectionIndex = index(activeSection, SECTION_SEL);\n\n            //isn't it the first section?\n            if(sectionIndex){\n                //adjusting the position for the current section\n                silentMoveTo(sectionIndex + 1);\n            }\n\n            if(isFunction( options.afterResize ) && resizing){\n                options.afterResize.call(container, window.innerWidth, window.innerHeight);\n            }\n            if(isFunction( options.afterReBuild ) && !resizing){\n                options.afterReBuild.call(container);\n            }\n        }\n\n        /**\n        * Determines whether fullpage.js is in responsive mode or not.\n        */\n        function isResponsiveMode(){\n           return hasClass($body, RESPONSIVE);\n        }\n\n        /**\n        * Turns fullPage.js to normal scrolling mode when the viewport `width` or `height`\n        * are smaller than the set limit values.\n        */\n        function setResponsive(active){\n            var isResponsive = isResponsiveMode();\n\n            if(active){\n                if(!isResponsive){\n                    setAutoScrolling(false, 'internal');\n                    setFitToSection(false, 'internal');\n                    hide($(SECTION_NAV_SEL));\n                    addClass($body, RESPONSIVE);\n                    if(isFunction( options.afterResponsive )){\n                        options.afterResponsive.call( container, active);\n                    }\n\n                    //when on page load, we will remove scrolloverflow if necessary\n                    if(options.scrollOverflow){\n                        scrollBarHandler.createScrollBarForAll();\n                    }\n                }\n            }\n            else if(isResponsive){\n                setAutoScrolling(originals.autoScrolling, 'internal');\n                setFitToSection(originals.autoScrolling, 'internal');\n                show($(SECTION_NAV_SEL));\n                removeClass($body, RESPONSIVE);\n                if(isFunction( options.afterResponsive )){\n                    options.afterResponsive.call( container, active);\n                }\n            }\n        }\n\n        if(container){\n            //public functions\n            FP.version = '3.1.0';\n            FP.setAutoScrolling = setAutoScrolling;\n            FP.setRecordHistory = setRecordHistory;\n            FP.setScrollingSpeed = setScrollingSpeed;\n            FP.setFitToSection = setFitToSection;\n            FP.setLockAnchors = setLockAnchors;\n            FP.setMouseWheelScrolling = setMouseWheelScrolling;\n            FP.setAllowScrolling = setAllowScrolling;\n            FP.setKeyboardScrolling = setKeyboardScrolling;\n            FP.moveSectionUp = moveSectionUp;\n            FP.moveSectionDown = moveSectionDown;\n            FP.silentMoveTo = silentMoveTo;\n            FP.moveTo = moveTo;\n            FP.moveSlideRight = moveSlideRight;\n            FP.moveSlideLeft = moveSlideLeft;\n            FP.fitToSection = fitToSection;\n            FP.reBuild = reBuild;\n            FP.setResponsive = setResponsive;\n            FP.getFullpageData = function(){ return options; };\n            FP.destroy = destroy;\n            FP.getActiveSection = getActiveSection;\n            FP.getActiveSlide = getActiveSlide;\n\n            FP.test = {\n                top: '0px',\n                translate3d: 'translate3d(0px, 0px, 0px)',\n                translate3dH: (function(){\n                    var a = [];\n                    for(var i = 0; i < $(options.sectionSelector, container).length; i++){\n                        a.push('translate3d(0px, 0px, 0px)');\n                    }\n                    return a;\n                })(),\n                left: (function(){\n                    var a = [];\n                    for(var i = 0; i < $(options.sectionSelector, container).length; i++){\n                        a.push(0);\n                    }\n                    return a;\n                })(),\n                options: options,\n                setAutoScrolling: setAutoScrolling\n            };\n\n            //functions we want to share across files but which are not\n            //mean to be used on their own by developers\n            FP.shared = {\n                afterRenderActions: afterRenderActions,\n                isNormalScrollElement: false\n            };\n\n            window.fullpage_api = FP;\n\n            //using jQuery initialization? Creating the $.fn.fullpage object\n            if(options.$){\n                Object.keys(FP).forEach(function (key) {    \n                    options.$.fn.fullpage[key] = FP[key];   \n                });\n            }\n\n            init();\n\n            bindEvents();\n        }\n\n        function init(){\n            //if css3 is not supported, it will use jQuery animations\n            if(options.css3){\n                options.css3 = support3d();\n            }\n\n            options.scrollBar = options.scrollBar || options.hybrid;\n\n            setOptionsFromDOM();\n            prepareDom();\n            setAllowScrolling(true);\n            setMouseHijack(true);\n            setAutoScrolling(options.autoScrolling, 'internal');\n            responsive();\n\n            //setting the class for the body element\n            setBodyClass();\n\n            if(document.readyState === 'complete'){\n                scrollToAnchor();\n            }\n            window.addEventListener('load', scrollToAnchor);\n\n            //if we use scrollOverflow we'll fire afterRender in the scrolloverflow file\n            if(!options.scrollOverflow){\n                afterRenderActions();\n            }\n\n            doubleCheckHeight();\n        }\n\n        function bindEvents(){\n\n            //when scrolling...\n            window.addEventListener('scroll', scrollHandler);\n\n            //detecting any change on the URL to scroll to the given anchor link\n            //(a way to detect back history button as we play with the hashes on the URL)\n            window.addEventListener('hashchange', hashChangeHandler);\n            \n            // on window focus\n            window.addEventListener('focus', focusHandler);\n\n            //when opening a new tab (ctrl + t), `control` won't be pressed when coming back.\n            window.addEventListener('blur', blurHandler);\n\n            //when resizing the site, we adjust the heights of the sections, slimScroll...\n            window.addEventListener('resize', resizeHandler);\n\n            //Sliding with arrow keys, both, vertical and horizontal\n            document.addEventListener('keydown', keydownHandler);\n\n            //to prevent scrolling while zooming\n            document.addEventListener('keyup', keyUpHandler);\n\n            //Scrolls to the section when clicking the navigation bullet\n            //simulating the jQuery .on('click') event using delegation\n            ['click', 'touchstart'].forEach(function(eventName){\n                document.addEventListener(eventName, delegatedEvents);\n            });\n\n            /**\n            * Applying normalScroll elements.\n            * Ignoring the scrolls over the specified selectors.\n            */\n            if(options.normalScrollElements){\n                ['mouseenter', 'touchstart'].forEach(function(eventName){\n                    forMouseLeaveOrTouch(eventName, false);\n                });\n\n                ['mouseleave', 'touchend'].forEach(function(eventName){\n                   forMouseLeaveOrTouch(eventName, true);\n                });\n            }\n        }\n\n        function delegatedEvents(e){\n            var target = e.target;\n\n            if(target && closest(target, SECTION_NAV_SEL + ' a')){\n                sectionBulletHandler.call(target, e);\n            }\n            else if(matches(target, SECTION_NAV_TOOLTIP_SEL)){\n                tooltipTextHandler.call(target);\n            }\n            else if(matches(target, SLIDES_ARROW_SEL)){\n                slideArrowHandler.call(target, e);\n            }\n            else if(matches(target, SLIDES_NAV_LINK_SEL) || closest(target, SLIDES_NAV_LINK_SEL) != null){\n                slideBulletHandler.call(target, e);\n            }\n            else if(closest(target, options.menu + ' [data-menuanchor]')){\n                menuItemsHandler.call(target, e);\n            }\n        }\n\n        function forMouseLeaveOrTouch(eventName, allowScrolling){\n            //a way to pass arguments to the onMouseEnterOrLeave function\n            document['fp_' + eventName] = allowScrolling;\n            document.addEventListener(eventName, onMouseEnterOrLeave, true); //capturing phase\n        }\n\n        function onMouseEnterOrLeave(e) {\n            var type = e.type;\n            var isInsideOneNormalScroll = false;\n            var isUsingScrollOverflow = options.scrollOverflow;\n\n            //onMouseLeave will use the destination target, not the one we are moving away from\n            var target = type === 'mouseleave' ? e.toElement || e.relatedTarget : e.target;\n\n            //coming from closing a normalScrollElements modal or moving outside viewport?\n            if(target == document || !target){\n                setMouseHijack(true);\n\n                if(isUsingScrollOverflow){\n                    options.scrollOverflowHandler.setIscroll(target, true);\n                }\n                return;\n            }\n\n            if(type === 'touchend'){\n                g_canFireMouseEnterNormalScroll = false;\n                setTimeout(function(){\n                    g_canFireMouseEnterNormalScroll = true;\n                }, 800);\n            }\n\n            //preventing mouseenter event to do anything when coming from a touchEnd event\n            //fixing issue #3576\n            if(type === 'mouseenter' && !g_canFireMouseEnterNormalScroll){\n                return;\n            }\n\n            var normalSelectors = options.normalScrollElements.split(',');\n\n            normalSelectors.forEach(function(normalSelector){\n                if(!isInsideOneNormalScroll){\n                    var isNormalScrollTarget = matches(target, normalSelector);\n\n                    //leaving a child inside the normalScoll element is not leaving the normalScroll #3661\n                    var isNormalScrollChildFocused = closest(target, normalSelector);\n\n                    if(isNormalScrollTarget ||isNormalScrollChildFocused){\n                        if(!FP.shared.isNormalScrollElement){\n                            setMouseHijack(false);\n\n                            if(isUsingScrollOverflow){\n                                options.scrollOverflowHandler.setIscroll(target, false);\n                            }\n                        }\n                        FP.shared.isNormalScrollElement = true;\n                        isInsideOneNormalScroll = true;\n                    }\n                }\n            });\n\n            //not inside a single normal scroll element anymore?\n            if(!isInsideOneNormalScroll && FP.shared.isNormalScrollElement){\n                setMouseHijack(true);\n                \n                if(isUsingScrollOverflow){\n                    options.scrollOverflowHandler.setIscroll(target, true);\n                }\n\n                FP.shared.isNormalScrollElement = false;\n            }\n        }\n\n        /**\n        * Checks the viewport a few times on a define interval of time to \n        * see if it has changed in any of those. If that's the case, it resizes.\n        */\n        function doubleCheckHeight(){\n            for(var i = 1; i < 4; i++){\n                g_doubleCheckHeightId = setTimeout(adjustToNewViewport, 350 * i);\n            }\n        }\n\n        /**\n        * Adjusts a section to the viewport if it has changed.\n        */\n        function adjustToNewViewport(){\n            var newWindowHeight = getWindowHeight();\n            var newWindowWidth = getWindowWidth();\n\n            if(windowsHeight !== newWindowHeight || windowsWidth !== newWindowWidth){\n                windowsHeight = newWindowHeight;\n                windowsWidth = newWindowWidth;\n                reBuild(true);\n            }\n        }\n\n        /**\n        * Setting options from DOM elements if they are not provided.\n        */\n        function setOptionsFromDOM(){\n\n            //no anchors option? Checking for them in the DOM attributes\n            if(!options.anchors.length){\n                var anchorsAttribute = '[data-anchor]';\n                var anchors = $(options.sectionSelector.split(',').join(anchorsAttribute + ',') + anchorsAttribute, container);\n                if(anchors.length && anchors.length === $(options.sectionSelector, container).length){\n                    g_initialAnchorsInDom = true;\n                    anchors.forEach(function(item){\n                        options.anchors.push(item.getAttribute('data-anchor').toString());\n                    });\n                }\n            }\n\n            //no tooltips option? Checking for them in the DOM attributes\n            if(!options.navigationTooltips.length){\n                var tooltipsAttribute = '[data-tooltip]';\n                var tooltips = $(options.sectionSelector.split(',').join(tooltipsAttribute + ',') + tooltipsAttribute, container);\n                if(tooltips.length){\n                    tooltips.forEach(function(item){\n                        options.navigationTooltips.push(item.getAttribute('data-tooltip').toString());\n                    });\n                }\n            }\n        }\n\n        /**\n        * Works over the DOM structure to set it up for the current fullpage options.\n        */\n        function prepareDom(){\n            css(container, {\n                'height': '100%',\n                'position': 'relative'\n            });\n\n            //adding a class to recognize the container internally in the code\n            addClass(container, WRAPPER);\n            addClass($html, ENABLED);\n\n            //due to https://github.com/alvarotrigo/fullPage.js/issues/1502\n            windowsHeight = getWindowHeight();\n\n            removeClass(container, DESTROYED); //in case it was destroyed before initializing it again\n\n            addInternalSelectors();\n\n            var sections = $(SECTION_SEL);\n\n            //styling the sections / slides / menu\n            for(var i = 0; i<sections.length; i++){\n                var sectionIndex = i;\n                var section = sections[i];\n                var slides = $(SLIDE_SEL, section);\n                var numSlides = slides.length;\n\n                //caching the original styles to add them back on destroy('all')\n                section.setAttribute('data-fp-styles', section.getAttribute('style'));\n\n                styleSection(section, sectionIndex);\n                styleMenu(section, sectionIndex);\n\n                // if there's any slide\n                if (numSlides > 0) {\n                    styleSlides(section, slides, numSlides);\n                }else{\n                    if(options.verticalCentered){\n                        addTableClass(section);\n                    }\n                }\n            }\n\n            //fixed elements need to be moved out of the plugin container due to problems with CSS3.\n            if(options.fixedElements && options.css3){\n                $(options.fixedElements).forEach(function(item){\n                    $body.appendChild(item);\n                });\n            }\n\n            //vertical centered of the navigation + active bullet\n            if(options.navigation){\n                addVerticalNavigation();\n            }\n\n            enableYoutubeAPI();\n\n            if(options.scrollOverflow){\n                scrollBarHandler = options.scrollOverflowHandler.init(options);\n            }\n        }\n\n        /**\n        * Styles the horizontal slides for a section.\n        */\n        function styleSlides(section, slides, numSlides){\n            var sliderWidth = numSlides * 100;\n            var slideWidth = 100 / numSlides;\n\n            var slidesWrapper = document.createElement('div');\n            slidesWrapper.className = SLIDES_WRAPPER; //fp-slides\n            wrapAll(slides, slidesWrapper);\n\n            var slidesContainer = document.createElement('div');\n            slidesContainer.className = SLIDES_CONTAINER; //fp-slidesContainer\n            wrapAll(slides, slidesContainer);\n\n            css($(SLIDES_CONTAINER_SEL, section), {'width': sliderWidth + '%'});\n\n            if(numSlides > 1){\n                if(options.controlArrows){\n                    createSlideArrows(section);\n                }\n\n                if(options.slidesNavigation){\n                    addSlidesNavigation(section, numSlides);\n                }\n            }\n\n            slides.forEach(function(slide) {\n                css(slide, {'width': slideWidth + '%'});\n\n                if(options.verticalCentered){\n                    addTableClass(slide);\n                }\n            });\n\n            var startingSlide = $(SLIDE_ACTIVE_SEL, section)[0];\n\n            //if the slide won't be an starting point, the default will be the first one\n            //the active section isn't the first one? Is not the first slide of the first section? Then we load that section/slide by default.\n            if( startingSlide != null && (index($(SECTION_ACTIVE_SEL), SECTION_SEL) !== 0 || (index($(SECTION_ACTIVE_SEL), SECTION_SEL) === 0 && index(startingSlide) !== 0))){\n                silentLandscapeScroll(startingSlide, 'internal');\n            }else{\n                addClass(slides[0], ACTIVE);\n            }\n        }\n\n        /**\n        * Styling vertical sections\n        */\n        function styleSection(section, index){\n            //if no active section is defined, the 1st one will be the default one\n            if(!index && $(SECTION_ACTIVE_SEL)[0] == null) {\n                addClass(section, ACTIVE);\n            }\n            startingSection = $(SECTION_ACTIVE_SEL)[0];\n\n            css(section, {'height': windowsHeight + 'px'});\n\n            if(options.paddingTop){\n                css(section, {'padding-top': options.paddingTop});\n            }\n\n            if(options.paddingBottom){\n                css(section, {'padding-bottom': options.paddingBottom});\n            }\n\n            if (typeof options.sectionsColor[index] !==  'undefined') {\n                css(section, {'background-color': options.sectionsColor[index]});\n            }\n\n            if (typeof options.anchors[index] !== 'undefined') {\n                section.setAttribute('data-anchor', options.anchors[index]);\n            }\n        }\n\n        /**\n        * Sets the data-anchor attributes to the menu elements and activates the current one.\n        */\n        function styleMenu(section, index){\n            if (typeof options.anchors[index] !== 'undefined') {\n                //activating the menu / nav element on load\n                if(hasClass(section, ACTIVE)){\n                    activateMenuAndNav(options.anchors[index], index);\n                }\n            }\n\n            //moving the menu outside the main container if it is inside (avoid problems with fixed positions when using CSS3 tranforms)\n            if(options.menu && options.css3 && closest($(options.menu)[0], WRAPPER_SEL) != null){\n                $(options.menu).forEach(function(menu) {\n                    $body.appendChild(menu);\n                });\n            }\n        }\n\n        /**\n        * Adds internal classes to be able to provide customizable selectors\n        * keeping the link with the style sheet.\n        */\n        function addInternalSelectors(){\n            addClass($(options.sectionSelector, container), SECTION);\n            addClass($(options.slideSelector, container), SLIDE);\n        }\n\n        /**\n        * Creates the control arrows for the given section\n        */\n        function createSlideArrows(section){\n            var arrows = [createElementFromHTML('<div class=\"' + SLIDES_ARROW_PREV + '\"></div>'), createElementFromHTML('<div class=\"' + SLIDES_ARROW_NEXT + '\"></div>')];\n            after($(SLIDES_WRAPPER_SEL, section)[0], arrows);\n\n            if(options.controlArrowColor !== '#fff'){\n                css($(SLIDES_ARROW_NEXT_SEL, section), {'border-color': 'transparent transparent transparent '+options.controlArrowColor});\n                css($(SLIDES_ARROW_PREV_SEL, section), {'border-color': 'transparent '+ options.controlArrowColor + ' transparent transparent'});\n            }\n\n            if(!options.loopHorizontal){\n                hide($(SLIDES_ARROW_PREV_SEL, section));\n            }\n        }\n\n        /**\n        * Creates a vertical navigation bar.\n        */\n        function addVerticalNavigation(){\n            var navigation = document.createElement('div');\n            navigation.setAttribute('id', SECTION_NAV);\n\n            var divUl = document.createElement('ul');\n            navigation.appendChild(divUl);\n\n            appendTo(navigation, $body);\n            var nav = $(SECTION_NAV_SEL)[0];\n\n            addClass(nav, 'fp-' + options.navigationPosition);\n\n            if(options.showActiveTooltip){\n                addClass(nav, SHOW_ACTIVE_TOOLTIP);\n            }\n\n            var li = '';\n\n            for (var i = 0; i < $(SECTION_SEL).length; i++) {\n                var link = '';\n                if (options.anchors.length) {\n                    link = options.anchors[i];\n                }\n\n                li += '<li><a href=\"#' + link + '\"><span class=\"fp-sr-only\">' + getBulletLinkName(i, 'Section') + '</span><span></span></a>';\n\n                // Only add tooltip if needed (defined by user)\n                var tooltip = options.navigationTooltips[i];\n\n                if (typeof tooltip !== 'undefined' && tooltip !== '') {\n                    li += '<div class=\"' + SECTION_NAV_TOOLTIP + ' fp-' + options.navigationPosition + '\">' + tooltip + '</div>';\n                }\n\n                li += '</li>';\n            }\n            $('ul', nav)[0].innerHTML = li;\n            \n            //activating the current active section\n\n            var bullet = $('li', $(SECTION_NAV_SEL)[0])[index($(SECTION_ACTIVE_SEL)[0], SECTION_SEL)];\n            addClass($('a', bullet), ACTIVE);\n        }\n\n        /**\n        * Gets the name for screen readers for a section/slide navigation bullet.\n        */\n        function getBulletLinkName(i, defaultName, item){\n            var anchor = defaultName === 'Section' ? options.anchors[i] : item.getAttribute('data-anchor');\n            return options.navigationTooltips[i]\n                || anchor\n                || defaultName + ' ' + (i+1);\n        }\n\n        /*\n        * Enables the Youtube videos API so we can control their flow if necessary.\n        */\n        function enableYoutubeAPI(){\n            $('iframe[src*=\"youtube.com/embed/\"]', container).forEach(function(item){\n                addURLParam(item, 'enablejsapi=1');\n            });\n        }\n\n        /**\n        * Adds a new parameter and its value to the `src` of a given element\n        */\n        function addURLParam(element, newParam){\n            var originalSrc = element.getAttribute('src');\n            element.setAttribute('src', originalSrc + getUrlParamSign(originalSrc) + newParam);\n        }\n\n        /*\n        * Returns the prefix sign to use for a new parameter in an existen URL.\n        *\n        * @return {String}  ? | &\n        */\n        function getUrlParamSign(url){\n            return ( !/\\?/.test( url ) ) ? '?' : '&';\n        }\n\n        /**\n        * Actions and callbacks to fire afterRender\n        */\n        function afterRenderActions(){\n            var section = $(SECTION_ACTIVE_SEL)[0];\n\n            addClass(section, COMPLETELY);\n\n            lazyLoad(section);\n            lazyLoadOthers();\n            playMedia(section);\n\n            if(options.scrollOverflow){\n                options.scrollOverflowHandler.afterLoad();\n            }\n\n            if(isDestinyTheStartingSection() && isFunction(options.afterLoad) ){\n                fireCallback('afterLoad', {\n                    activeSection: section,\n                    element: section,\n                    direction: null,\n\n                    //for backwards compatibility callback (to be removed in a future!)\n                    anchorLink: section.getAttribute('data-anchor'),\n                    sectionIndex: index(section, SECTION_SEL)\n                });\n            }\n\n            if(isFunction(options.afterRender)){\n                fireCallback('afterRender');\n            }\n        }\n\n        /**\n        * Determines if the URL anchor destiny is the starting section (the one using 'active' class before initialization)\n        */\n        function isDestinyTheStartingSection(){\n            var anchor = getAnchorsURL();\n            var destinationSection = getSectionByAnchor(anchor.section);\n            return !anchor.section || !destinationSection || typeof destinationSection !=='undefined' && index(destinationSection) === index(startingSection);\n        }\n\n        var isScrolling = false;\n        var lastScroll = 0;\n\n        //when scrolling...\n        function scrollHandler(){\n            var currentSection;\n\n            if(isResizing){\n                return;\n            }\n            \n            if(!options.autoScrolling || options.scrollBar){\n                var currentScroll = getScrollTop();\n                var scrollDirection = getScrollDirection(currentScroll);\n                var visibleSectionIndex = 0;\n                var screen_mid = currentScroll + (getWindowHeight() / 2.0);\n                var isAtBottom = $body.offsetHeight - getWindowHeight() === currentScroll;\n                var sections =  $(SECTION_SEL);\n\n                //when using `auto-height` for a small last section it won't be centered in the viewport\n                if(isAtBottom){\n                    visibleSectionIndex = sections.length - 1;\n                }\n                //is at top? when using `auto-height` for a small first section it won't be centered in the viewport\n                else if(!currentScroll){\n                    visibleSectionIndex = 0;\n                }\n\n                //taking the section which is showing more content in the viewport\n                else{\n                    for (var i = 0; i < sections.length; ++i) {\n                        var section = sections[i];\n\n                        // Pick the the last section which passes the middle line of the screen.\n                        if (section.offsetTop <= screen_mid)\n                        {\n                            visibleSectionIndex = i;\n                        }\n                    }\n                }\n\n                if(isCompletelyInViewPort(scrollDirection)){\n                    if(!hasClass($(SECTION_ACTIVE_SEL)[0], COMPLETELY)){\n                        addClass($(SECTION_ACTIVE_SEL)[0], COMPLETELY);\n                        removeClass(siblings($(SECTION_ACTIVE_SEL)[0]), COMPLETELY);\n                    }\n                }\n\n                //geting the last one, the current one on the screen\n                currentSection = sections[visibleSectionIndex];\n\n                //setting the visible section as active when manually scrolling\n                //executing only once the first time we reach the section\n                if(!hasClass(currentSection, ACTIVE)){\n                    isScrolling = true;\n                    var leavingSection = $(SECTION_ACTIVE_SEL)[0];\n                    var leavingSectionIndex = index(leavingSection, SECTION_SEL) + 1;\n                    var yMovement = getYmovement(currentSection);\n                    var anchorLink  = currentSection.getAttribute('data-anchor');\n                    var sectionIndex = index(currentSection, SECTION_SEL) + 1;\n                    var activeSlide = $(SLIDE_ACTIVE_SEL, currentSection)[0];\n                    var slideIndex;\n                    var slideAnchorLink;\n                    var callbacksParams = {\n                        activeSection: leavingSection,\n                        sectionIndex: sectionIndex -1,\n                        anchorLink: anchorLink,\n                        element: currentSection,\n                        leavingSection: leavingSectionIndex,\n                        direction: yMovement\n                    };\n\n                    if(activeSlide){\n                        slideAnchorLink = activeSlide.getAttribute('data-anchor');\n                        slideIndex = index(activeSlide);\n                    }\n\n                    if(canScroll){\n                        addClass(currentSection, ACTIVE);\n                        removeClass(siblings(currentSection), ACTIVE);\n\n                        if(isFunction( options.onLeave )){\n                            fireCallback('onLeave', callbacksParams);\n                        }\n                        if(isFunction( options.afterLoad )){\n                            fireCallback('afterLoad', callbacksParams);\n                        }\n\n                        stopMedia(leavingSection);\n                        lazyLoad(currentSection);\n                        playMedia(currentSection);\n\n                        activateMenuAndNav(anchorLink, sectionIndex - 1);\n\n                        if(options.anchors.length){\n                            //needed to enter in hashChange event when using the menu with anchor links\n                            lastScrolledDestiny = anchorLink;\n                        }\n                        setState(slideIndex, slideAnchorLink, anchorLink, sectionIndex);\n                    }\n\n                    //small timeout in order to avoid entering in hashChange event when scrolling is not finished yet\n                    clearTimeout(scrollId);\n                    scrollId = setTimeout(function(){\n                        isScrolling = false;\n                    }, 100);\n                }\n\n                if(options.fitToSection){\n                    //for the auto adjust of the viewport to fit a whole section\n                    clearTimeout(scrollId2);\n\n                    scrollId2 = setTimeout(function(){\n                        //checking it again in case it changed during the delay\n                        if(options.fitToSection &&\n\n                            //is the destination element bigger than the viewport?\n                            $(SECTION_ACTIVE_SEL)[0].offsetHeight <= windowsHeight\n                        ){\n                            fitToSection();\n                        }\n                    }, options.fitToSectionDelay);\n                }\n            }\n        }\n\n        /**\n        * Fits the site to the nearest active section\n        */\n        function fitToSection(){\n            //checking fitToSection again in case it was set to false before the timeout delay\n            if(canScroll){\n                //allows to scroll to an active section and\n                //if the section is already active, we prevent firing callbacks\n                isResizing = true;\n\n                scrollPage($(SECTION_ACTIVE_SEL)[0]);\n                isResizing = false;\n            }\n        }\n\n        /**\n        * Determines whether the active section has seen in its whole or not.\n        */\n        function isCompletelyInViewPort(movement){\n            var top = $(SECTION_ACTIVE_SEL)[0].offsetTop;\n            var bottom = top + getWindowHeight();\n\n            if(movement == 'up'){\n                return bottom >= (getScrollTop() + getWindowHeight());\n            }\n            return top <= getScrollTop();\n        }\n\n        /**\n        * Determines whether a section is in the viewport or not.\n        */\n        function isSectionInViewport (el) {\n            var rect = el.getBoundingClientRect();\n            var top = rect.top;\n            var bottom = rect.bottom;\n\n            //sometimes there's a 1px offset on the bottom of the screen even when the \n            //section's height is the window.innerHeight one. I guess because pixels won't allow decimals.\n            //using this prevents from lazyLoading the section that is not yet visible \n            //(only 1 pixel offset is)\n            var pixelOffset = 2;\n            \n            var isTopInView = top + pixelOffset < windowsHeight && top > 0;\n            var isBottomInView = bottom > pixelOffset && bottom < windowsHeight;\n\n            return isTopInView || isBottomInView;\n        }\n\n        /**\n        * Gets the directon of the the scrolling fired by the scroll event.\n        */\n        function getScrollDirection(currentScroll){\n            var direction = currentScroll > lastScroll ? 'down' : 'up';\n\n            lastScroll = currentScroll;\n\n            //needed for auto-height sections to determine if we want to scroll to the top or bottom of the destination\n            previousDestTop = currentScroll;\n\n            return direction;\n        }\n\n        /**\n        * Determines the way of scrolling up or down:\n        * by 'automatically' scrolling a section or by using the default and normal scrolling.\n        */\n        function scrolling(type){\n            if (!isScrollAllowed.m[type]){\n                return;\n            }\n\n            var scrollSection = (type === 'down') ? moveSectionDown : moveSectionUp;\n\n            if(options.scrollOverflow){\n                var scrollable = options.scrollOverflowHandler.scrollable($(SECTION_ACTIVE_SEL)[0]);\n                var check = (type === 'down') ? 'bottom' : 'top';\n\n                if(scrollable != null ){\n                    //is the scrollbar at the start/end of the scroll?\n                    if(options.scrollOverflowHandler.isScrolled(check, scrollable)){\n                        scrollSection();\n                    }else{\n                        return true;\n                    }\n                }else{\n                    // moved up/down\n                    scrollSection();\n                }\n            }else{\n                // moved up/down\n                scrollSection();\n            }\n        }\n\n        /*\n        * Preventing bouncing in iOS #2285\n        */\n        function preventBouncing(e){\n            if(options.autoScrolling && isReallyTouch(e) && isScrollAllowed.m.up){\n                //preventing the easing on iOS devices\n                preventDefault(e);\n            }\n        }\n\n        var touchStartY = 0;\n        var touchStartX = 0;\n        var touchEndY = 0;\n        var touchEndX = 0;\n\n        /* Detecting touch events\n\n        * As we are changing the top property of the page on scrolling, we can not use the traditional way to detect it.\n        * This way, the touchstart and the touch moves shows an small difference between them which is the\n        * used one to determine the direction.\n        */\n        function touchMoveHandler(e){\n            var activeSection = closest(e.target, SECTION_SEL) ||$(SECTION_ACTIVE_SEL)[0];\n\n            if (isReallyTouch(e) ) {\n\n                if(options.autoScrolling){\n                    //preventing the easing on iOS devices\n                    preventDefault(e);\n                }\n\n                var touchEvents = getEventsPage(e);\n\n                touchEndY = touchEvents.y;\n                touchEndX = touchEvents.x;\n\n                //if movement in the X axys is greater than in the Y and the currect section has slides...\n                if ($(SLIDES_WRAPPER_SEL, activeSection).length && Math.abs(touchStartX - touchEndX) > (Math.abs(touchStartY - touchEndY))) {\n\n                    //is the movement greater than the minimum resistance to scroll?\n                    if (!slideMoving && Math.abs(touchStartX - touchEndX) > (getWindowWidth() / 100 * options.touchSensitivity)) {\n                        if (touchStartX > touchEndX) {\n                            if(isScrollAllowed.m.right){\n                                moveSlideRight(activeSection); //next\n                            }\n                        } else {\n                            if(isScrollAllowed.m.left){\n                                moveSlideLeft(activeSection); //prev\n                            }\n                        }\n                    }\n                }\n\n                //vertical scrolling (only when autoScrolling is enabled)\n                else if(options.autoScrolling && canScroll){\n\n                    //is the movement greater than the minimum resistance to scroll?\n                    if (Math.abs(touchStartY - touchEndY) > (window.innerHeight / 100 * options.touchSensitivity)) {\n                        if (touchStartY > touchEndY) {\n                            scrolling('down');\n                        } else if (touchEndY > touchStartY) {\n                            scrolling('up');\n                        }\n                    }\n                }\n            }\n        }\n\n        /**\n        * As IE >= 10 fires both touch and mouse events when using a mouse in a touchscreen\n        * this way we make sure that is really a touch event what IE is detecting.\n        */\n        function isReallyTouch(e){\n            //if is not IE   ||  IE is detecting `touch` or `pen`\n            return typeof e.pointerType === 'undefined' || e.pointerType != 'mouse';\n        }\n\n        /**\n        * Handler for the touch start event.\n        */\n        function touchStartHandler(e){\n\n            //stopping the auto scroll to adjust to a section\n            if(options.fitToSection){\n                activeAnimation = false;\n            }\n\n            if(isReallyTouch(e)){\n                var touchEvents = getEventsPage(e);\n                touchStartY = touchEvents.y;\n                touchStartX = touchEvents.x;\n            }\n        }\n\n        /**\n        * Gets the average of the last `number` elements of the given array.\n        */\n        function getAverage(elements, number){\n            var sum = 0;\n\n            //taking `number` elements from the end to make the average, if there are not enought, 1\n            var lastElements = elements.slice(Math.max(elements.length - number, 1));\n\n            for(var i = 0; i < lastElements.length; i++){\n                sum = sum + lastElements[i];\n            }\n\n            return Math.ceil(sum/number);\n        }\n\n        /**\n         * Detecting mousewheel scrolling\n         *\n         * http://blogs.sitepointstatic.com/examples/tech/mouse-wheel/index.html\n         * http://www.sitepoint.com/html5-javascript-mouse-wheel/\n         */\n        var prevTime = new Date().getTime();\n\n        function MouseWheelHandler(e) {\n            var curTime = new Date().getTime();\n            var isNormalScroll = hasClass($(COMPLETELY_SEL)[0], NORMAL_SCROLL);\n\n            //is scroll allowed?\n            if (!isScrollAllowed.m.down && !isScrollAllowed.m.up) {\n                preventDefault(e);\n                return false;\n            }\n\n            //autoscrolling and not zooming?\n            if(options.autoScrolling && !controlPressed && !isNormalScroll){\n                // cross-browser wheel delta\n                e = e || window.event;\n                var value = e.wheelDelta || -e.deltaY || -e.detail;\n                var delta = Math.max(-1, Math.min(1, value));\n\n                var horizontalDetection = typeof e.wheelDeltaX !== 'undefined' || typeof e.deltaX !== 'undefined';\n                var isScrollingVertically = (Math.abs(e.wheelDeltaX) < Math.abs(e.wheelDelta)) || (Math.abs(e.deltaX ) < Math.abs(e.deltaY) || !horizontalDetection);\n\n                //Limiting the array to 150 (lets not waste memory!)\n                if(scrollings.length > 149){\n                    scrollings.shift();\n                }\n\n                //keeping record of the previous scrollings\n                scrollings.push(Math.abs(value));\n\n                //preventing to scroll the site on mouse wheel when scrollbar is present\n                if(options.scrollBar){\n                    preventDefault(e);\n                }\n\n                //time difference between the last scroll and the current one\n                var timeDiff = curTime-prevTime;\n                prevTime = curTime;\n\n                //haven't they scrolled in a while?\n                //(enough to be consider a different scrolling action to scroll another section)\n                if(timeDiff > 200){\n                    //emptying the array, we dont care about old scrollings for our averages\n                    scrollings = [];\n                }\n\n                if(canScroll){\n                    var averageEnd = getAverage(scrollings, 10);\n                    var averageMiddle = getAverage(scrollings, 70);\n                    var isAccelerating = averageEnd >= averageMiddle;\n\n                    //to avoid double swipes...\n                    if(isAccelerating && isScrollingVertically){\n                        //scrolling down?\n                        if (delta < 0) {\n                            scrolling('down');\n\n                        //scrolling up?\n                        }else {\n                            scrolling('up');\n                        }\n                    }\n                }\n\n                return false;\n            }\n\n            if(options.fitToSection){\n                //stopping the auto scroll to adjust to a section\n                activeAnimation = false;\n            }\n        }\n\n        /**\n        * Slides a slider to the given direction.\n        * Optional `section` param.\n        */\n        function moveSlide(direction, section){\n            var activeSection = section == null ? $(SECTION_ACTIVE_SEL)[0] : section;\n            var slides = $(SLIDES_WRAPPER_SEL, activeSection)[0];\n\n            // more than one slide needed and nothing should be sliding\n            if (slides == null || slideMoving || $(SLIDE_SEL, slides).length < 2) {\n                return;\n            }\n\n            var currentSlide = $(SLIDE_ACTIVE_SEL, slides)[0];\n            var destiny = null;\n\n            if(direction === 'left'){\n                destiny = prevUntil(currentSlide, SLIDE_SEL);\n            }else{\n                destiny = nextUntil(currentSlide, SLIDE_SEL);\n            }\n\n            //isn't there a next slide in the secuence?\n            if(destiny == null){\n                //respect loopHorizontal settin\n                if (!options.loopHorizontal) return;\n\n                var slideSiblings = siblings(currentSlide);\n                if(direction === 'left'){\n                    destiny = slideSiblings[slideSiblings.length - 1]; //last\n                }else{\n                    destiny = slideSiblings[0]; //first\n                }\n            }\n\n            slideMoving = true && !FP.test.isTesting;\n            landscapeScroll(slides, destiny, direction);\n        }\n\n        /**\n        * Maintains the active slides in the viewport\n        * (Because the `scroll` animation might get lost with some actions, such as when using continuousVertical)\n        */\n        function keepSlidesPosition(){\n            var activeSlides = $(SLIDE_ACTIVE_SEL);\n            for( var i =0; i<activeSlides.length; i++){\n                silentLandscapeScroll(activeSlides[i], 'internal');\n            }\n        }\n\n        var previousDestTop = 0;\n        /**\n        * Returns the destination Y position based on the scrolling direction and\n        * the height of the section.\n        */\n        function getDestinationPosition(element){\n            var elementHeight = element.offsetHeight;\n            var elementTop = element.offsetTop;\n\n            //top of the desination will be at the top of the viewport\n            var position = elementTop;\n            var isScrollingDown =  elementTop > previousDestTop;\n            var sectionBottom = position - windowsHeight + elementHeight;\n            var bigSectionsDestination = options.bigSectionsDestination;\n\n            //is the destination element bigger than the viewport?\n            if(elementHeight > windowsHeight){\n                //scrolling up?\n                if(!isScrollingDown && !bigSectionsDestination || bigSectionsDestination === 'bottom' ){\n                    position = sectionBottom;\n                }\n            }\n\n            //sections equal or smaller than the viewport height && scrolling down? ||  is resizing and its in the last section\n            else if(isScrollingDown || (isResizing && next(element) == null) ){\n                //The bottom of the destination will be at the bottom of the viewport\n                position = sectionBottom;\n            }\n\n            /*\n            Keeping record of the last scrolled position to determine the scrolling direction.\n            No conventional methods can be used as the scroll bar might not be present\n            AND the section might not be active if it is auto-height and didnt reach the middle\n            of the viewport.\n            */\n            previousDestTop = position;\n            return position;\n        }\n\n        /**\n        * Scrolls the site to the given element and scrolls to the slide if a callback is given.\n        */\n        function scrollPage(element, callback, isMovementUp){\n            if(element == null){ return; } //there's no element to scroll, leaving the function\n\n            var dtop = getDestinationPosition(element);\n            var slideAnchorLink;\n            var slideIndex;\n\n            //local variables\n            var v = {\n                element: element,\n                callback: callback,\n                isMovementUp: isMovementUp,\n                dtop: dtop,\n                yMovement: getYmovement(element),\n                anchorLink: element.getAttribute('data-anchor'),\n                sectionIndex: index(element, SECTION_SEL),\n                activeSlide: $(SLIDE_ACTIVE_SEL, element)[0],\n                activeSection: $(SECTION_ACTIVE_SEL)[0],\n                leavingSection: index($(SECTION_ACTIVE_SEL), SECTION_SEL) + 1,\n\n                //caching the value of isResizing at the momment the function is called\n                //because it will be checked later inside a setTimeout and the value might change\n                localIsResizing: isResizing\n            };\n\n            //quiting when destination scroll is the same as the current one\n            if((v.activeSection == element && !isResizing) || (options.scrollBar && getScrollTop() === v.dtop && !hasClass(element, AUTO_HEIGHT) )){ return; }\n\n            if(v.activeSlide != null){\n                slideAnchorLink = v.activeSlide.getAttribute('data-anchor');\n                slideIndex = index(v.activeSlide);\n            }\n\n            //callback (onLeave) if the site is not just resizing and readjusting the slides\n            if(!v.localIsResizing){\n                var direction = v.yMovement;\n\n                //required for continousVertical\n                if(typeof isMovementUp !== 'undefined'){\n                    direction = isMovementUp ? 'up' : 'down';\n                }\n\n                //for the callback\n                v.direction = direction;\n\n                if(isFunction(options.onLeave)){\n                    if(fireCallback('onLeave', v) === false){\n                        return;\n                    }\n                }\n            }\n\n            // If continuousVertical && we need to wrap around\n            if (options.autoScrolling && options.continuousVertical && typeof (v.isMovementUp) !== \"undefined\" &&\n                ((!v.isMovementUp && v.yMovement == 'up') || // Intending to scroll down but about to go up or\n                (v.isMovementUp && v.yMovement == 'down'))) { // intending to scroll up but about to go down\n\n                v = createInfiniteSections(v);\n            }\n\n            //pausing media of the leaving section (if we are not just resizing, as destinatino will be the same one)\n            if(!v.localIsResizing){\n                stopMedia(v.activeSection);\n            }\n\n            if(options.scrollOverflow){\n                options.scrollOverflowHandler.beforeLeave();\n            }\n\n            addClass(element, ACTIVE);\n            removeClass(siblings(element), ACTIVE);\n            lazyLoad(element);\n\n            if(options.scrollOverflow){\n                options.scrollOverflowHandler.onLeave();\n            }\n\n            //preventing from activating the MouseWheelHandler event\n            //more than once if the page is scrolling\n            canScroll = false || FP.test.isTesting;\n\n            setState(slideIndex, slideAnchorLink, v.anchorLink, v.sectionIndex);\n\n            performMovement(v);\n\n            //flag to avoid callingn `scrollPage()` twice in case of using anchor links\n            lastScrolledDestiny = v.anchorLink;\n\n            //avoid firing it twice (as it does also on scroll)\n            activateMenuAndNav(v.anchorLink, v.sectionIndex);\n        }\n\n        /**\n        * Dispatch events & callbacks making sure it does it on the right format, depending on\n        * whether v2compatible is being used or not.\n        */\n        function fireCallback(eventName, v){\n            var eventData = getEventData(eventName, v);\n\n            if(!options.v2compatible){\n                trigger(container, eventName, eventData);\n\n                if(options[eventName].apply(eventData[Object.keys(eventData)[0]], toArray(eventData)) === false){\n                    return false;\n                }\n            }\n            else{\n                if(options[eventName].apply(eventData[0], eventData.slice(1)) === false){\n                    return false;\n                }\n            }\n\n            return true;\n        }\n\n        /**\n        * Makes sure to only create a Panel object if the element exist\n        */\n        function nullOrSection(el){\n            return el ? new Section(el) : null;\n        }\n\n        function nullOrSlide(el){\n            return el ? new Slide(el) : null;\n        }\n\n        /**\n        * Gets the event's data for the given event on the right format. Depending on whether\n        * v2compatible is being used or not.\n        */\n        function getEventData(eventName, v){\n            var paramsPerEvent;\n\n            if(!options.v2compatible){\n\n                //using functions to run only the necessary bits within the object\n                paramsPerEvent = {\n                    afterRender: function(){\n                        return {\n                            section: nullOrSection($(SECTION_ACTIVE_SEL)[0]),\n                            slide: nullOrSlide($(SLIDE_ACTIVE_SEL, $(SECTION_ACTIVE_SEL)[0])[0])\n                        };\n                    },\n                    onLeave: function(){\n                        return {\n                            origin: nullOrSection(v.activeSection),\n                            destination: nullOrSection(v.element),\n                            direction: v.direction\n                        };\n                    },\n\n                    afterLoad: function(){\n                        return paramsPerEvent.onLeave();\n                    },\n\n                    afterSlideLoad: function(){\n                        return {\n                            section: nullOrSection(v.section),\n                            origin: nullOrSlide(v.prevSlide),\n                            destination: nullOrSlide(v.destiny),\n                            direction: v.direction\n                        };\n                    },\n\n                    onSlideLeave: function(){\n                        return paramsPerEvent.afterSlideLoad();\n                    }\n                };\n            }\n            else{\n                paramsPerEvent = {\n                    afterRender: function(){ return [container]; },\n                    onLeave: function(){ return [v.activeSection, v.leavingSection, (v.sectionIndex + 1), v.direction]; },\n                    afterLoad: function(){ return [v.element, v.anchorLink, (v.sectionIndex + 1)]; },\n                    afterSlideLoad: function(){ return [v.destiny, v.anchorLink, (v.sectionIndex + 1), v.slideAnchor, v.slideIndex]; },\n                    onSlideLeave: function(){ return [v.prevSlide, v.anchorLink, (v.sectionIndex + 1), v.prevSlideIndex, v.direction, v.slideIndex]; },\n                };\n            }\n\n            return paramsPerEvent[eventName]();\n        }\n\n        /**\n        * Performs the vertical movement (by CSS3 or by jQuery)\n        */\n        function performMovement(v){\n            var isFastSpeed = options.scrollingSpeed < 700;\n            var transitionLapse = isFastSpeed ? 700 : options.scrollingSpeed; \n\n            // using CSS3 translate functionality\n            if (options.css3 && options.autoScrolling && !options.scrollBar) {\n\n                // The first section can have a negative value in iOS 10. Not quite sure why: -0.0142822265625\n                // that's why we round it to 0.\n                var translate3d = 'translate3d(0px, -' + Math.round(v.dtop) + 'px, 0px)';\n                transformContainer(translate3d, true);\n\n                //even when the scrollingSpeed is 0 there's a little delay, which might cause the\n                //scrollingSpeed to change in case of using silentMoveTo();\n                if(options.scrollingSpeed){\n                    clearTimeout(afterSectionLoadsId);\n                    afterSectionLoadsId = setTimeout(function () {\n                        afterSectionLoads(v);\n\n                        //disabling canScroll when using fastSpeed\n                        canScroll = !isFastSpeed;\n                    }, options.scrollingSpeed);                   \n                }else{\n                    afterSectionLoads(v);\n                }\n            }\n\n            // using JS to animate\n            else{\n                var scrollSettings = getScrollSettings(v.dtop);\n                FP.test.top = -v.dtop + 'px';\n\n                css($htmlBody, {'scroll-behavior': 'unset'});\n\n                scrollTo(scrollSettings.element, scrollSettings.options, options.scrollingSpeed, function(){\n                    if(options.scrollBar){\n\n                        /* Hack!\n                        The timeout prevents setting the most dominant section in the viewport as \"active\" when the user\n                        scrolled to a smaller section by using the mousewheel (auto scrolling) rather than draging the scroll bar.\n\n                        When using scrollBar:true It seems like the scroll events still getting propagated even after the scrolling animation has finished.\n                        */\n                        setTimeout(function(){\n                            afterSectionLoads(v);\n                        },30);\n                    }else{\n                        \n                        afterSectionLoads(v);\n\n                        //disabling canScroll when using fastSpeed\n                        canScroll = !isFastSpeed;\n                    }\n                });\n            }\n\n            // enabling canScroll after the minimum transition laps\n            if(isFastSpeed){\n                clearTimeout(g_transitionLapseId);\n                g_transitionLapseId = setTimeout(function(){\n                    canScroll = true;\n                }, transitionLapse);\n            }\n        }\n\n        /**\n        * Gets the scrolling settings depending on the plugin autoScrolling option\n        */\n        function getScrollSettings(top){\n            var scroll = {};\n\n            //top property animation\n            if(options.autoScrolling && !options.scrollBar){\n                scroll.options = -top;\n                scroll.element = $(WRAPPER_SEL)[0];\n            }\n\n            //window real scrolling\n            else{\n                scroll.options = top;\n                scroll.element = window;\n            }\n\n            return scroll;\n        }\n\n        /**\n        * Adds sections before or after the current one to create the infinite effect.\n        */\n        function createInfiniteSections(v){\n            // Scrolling down\n            if (!v.isMovementUp) {\n                // Move all previous sections to after the active section\n                after($(SECTION_ACTIVE_SEL)[0], prevAll(v.activeSection, SECTION_SEL).reverse());\n            }\n            else { // Scrolling up\n                // Move all next sections to before the active section\n                before($(SECTION_ACTIVE_SEL)[0], nextAll(v.activeSection, SECTION_SEL));\n            }\n\n            // Maintain the displayed position (now that we changed the element order)\n            silentScroll($(SECTION_ACTIVE_SEL)[0].offsetTop);\n\n            // Maintain the active slides visible in the viewport\n            keepSlidesPosition();\n\n            // save for later the elements that still need to be reordered\n            v.wrapAroundElements = v.activeSection;\n\n            // Recalculate animation variables\n            v.dtop = v.element.offsetTop;\n            v.yMovement = getYmovement(v.element);\n\n            return v;\n        }\n\n        /**\n        * Fix section order after continuousVertical changes have been animated\n        */\n        function continuousVerticalFixSectionOrder (v) {\n            // If continuousVertical is in effect (and autoScrolling would also be in effect then),\n            // finish moving the elements around so the direct navigation will function more simply\n            if (v.wrapAroundElements == null) {\n                return;\n            }\n\n            if (v.isMovementUp) {\n                before($(SECTION_SEL)[0], v.wrapAroundElements);\n            }\n            else {\n                after($(SECTION_SEL)[$(SECTION_SEL).length-1], v.wrapAroundElements);\n            }\n\n            silentScroll($(SECTION_ACTIVE_SEL)[0].offsetTop);\n\n            // Maintain the active slides visible in the viewport\n            keepSlidesPosition();\n        }\n\n        /**\n        * Actions to do once the section is loaded.\n        */\n        function afterSectionLoads (v){\n            continuousVerticalFixSectionOrder(v);\n\n            //callback (afterLoad) if the site is not just resizing and readjusting the slides\n            if(isFunction(options.afterLoad) && !v.localIsResizing){\n                fireCallback('afterLoad', v);\n            }\n\n            if(options.scrollOverflow){\n                options.scrollOverflowHandler.afterLoad();\n            }\n\n            if(!v.localIsResizing){\n                playMedia(v.element);\n            }\n\n            addClass(v.element, COMPLETELY);\n            removeClass(siblings(v.element), COMPLETELY);\n            lazyLoadOthers();\n\n            canScroll = true;\n\n            if(isFunction(v.callback)){\n                v.callback();\n            }\n        }\n\n        /**\n        * Sets the value for the given attribute from the `data-` attribute with the same suffix\n        * ie: data-srcset ==> srcset  |  data-src ==> src\n        */\n        function setSrc(element, attribute){\n            element.setAttribute(attribute, element.getAttribute('data-' + attribute));\n            element.removeAttribute('data-' + attribute);\n        }\n\n        /**\n        * Makes sure lazyload is done for other sections in the viewport that are not the\n        * active one. \n        */\n        function lazyLoadOthers(){\n            var hasAutoHeightSections = $(AUTO_HEIGHT_SEL)[0] || isResponsiveMode() && $(AUTO_HEIGHT_RESPONSIVE_SEL)[0];\n\n            //quitting when it doesn't apply\n            if (!options.lazyLoading || !hasAutoHeightSections){\n                return;\n            }\n\n            //making sure to lazy load auto-height sections that are in the viewport\n            $(SECTION_SEL + ':not(' + ACTIVE_SEL + ')').forEach(function(section){\n                if(isSectionInViewport(section)){\n                    lazyLoad(section);\n                }\n            });\n        }\n\n        /**\n        * Lazy loads image, video and audio elements.\n        */\n        function lazyLoad(destiny){\n            if (!options.lazyLoading){\n                return;\n            }\n\n            var panel = getSlideOrSection(destiny);\n\n            $('img[data-src], img[data-srcset], source[data-src], source[data-srcset], video[data-src], audio[data-src], iframe[data-src]', panel).forEach(function(element){\n                ['src', 'srcset'].forEach(function(type){\n                    var attribute = element.getAttribute('data-' + type);\n                    if(attribute != null && attribute){\n                        setSrc(element, type);\n                        element.addEventListener('load', function(){\n                            onMediaLoad(destiny);\n                        });\n                    }\n                });\n\n                if(matches(element, 'source')){\n                    var elementToPlay =  closest(element, 'video, audio');\n                    if(elementToPlay){\n                        elementToPlay.load();\n                        elementToPlay.onloadeddata = function(){\n                            onMediaLoad(destiny);\n                        };\n                    }\n                }\n            });\n        }\n\n        /**\n        * Callback firing when a lazy load media element has loaded.\n        * Making sure it only fires one per section in normal conditions (if load time is not huge)\n        */\n        function onMediaLoad(section){\n            if(options.scrollOverflow){\n                clearTimeout(g_mediaLoadedId);\n                g_mediaLoadedId = setTimeout(function(){\n                    if(!hasClass($body, RESPONSIVE)){\n                        scrollBarHandler.createScrollBar(section);\n                    }\n                }, 200);\n            }\n        }\n\n        /**\n        * Plays video and audio elements.\n        */\n        function playMedia(destiny){\n            var panel = getSlideOrSection(destiny);\n\n            //playing HTML5 media elements\n            $('video, audio', panel).forEach(function(element){\n                if( element.hasAttribute('data-autoplay') && typeof element.play === 'function' ) {\n                    element.play();\n                }\n            });\n\n            //youtube videos\n            $('iframe[src*=\"youtube.com/embed/\"]', panel).forEach(function(element){\n                if ( element.hasAttribute('data-autoplay') ){\n                    playYoutube(element);\n                }\n\n                //in case the URL was not loaded yet. On page load we need time for the new URL (with the API string) to load.\n                element.onload = function() {\n                    if ( element.hasAttribute('data-autoplay') ){\n                        playYoutube(element);\n                    }\n                };\n            });\n        }\n\n        /**\n        * Plays a youtube video\n        */\n        function playYoutube(element){\n            element.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*');\n        }\n\n        /**\n        * Stops video and audio elements.\n        */\n        function stopMedia(destiny){\n            var panel = getSlideOrSection(destiny);\n\n            //stopping HTML5 media elements\n            $('video, audio', panel).forEach(function(element){\n                if( !element.hasAttribute('data-keepplaying') && typeof element.pause === 'function' ) {\n                    element.pause();\n                }\n            });\n\n            //youtube videos\n            $('iframe[src*=\"youtube.com/embed/\"]', panel).forEach(function(element){\n                if( /youtube\\.com\\/embed\\//.test(element.getAttribute('src')) && !element.hasAttribute('data-keepplaying')){\n                    element.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}','*');\n                }\n            });\n        }\n\n        /**\n        * Gets the active slide (or section) for the given section\n        */\n        function getSlideOrSection(destiny){\n            var slide = $(SLIDE_ACTIVE_SEL, destiny);\n            if( slide.length ) {\n                destiny = slide[0];\n            }\n\n            return destiny;\n        }\n\n        /**\n        * Scrolls to the anchor in the URL when loading the site\n        */\n        function scrollToAnchor(){\n            var anchors =  getAnchorsURL();\n            var sectionAnchor = anchors.section;\n            var slideAnchor = anchors.slide;\n\n            if(sectionAnchor){  //if theres any #\n                if(options.animateAnchor){\n                    scrollPageAndSlide(sectionAnchor, slideAnchor);\n                }else{\n                    silentMoveTo(sectionAnchor, slideAnchor);\n                }\n            }\n        }\n\n        /**\n        * Detecting any change on the URL to scroll to the given anchor link\n        * (a way to detect back history button as we play with the hashes on the URL)\n        */\n        function hashChangeHandler(){\n            if(!isScrolling && !options.lockAnchors){\n                var anchors = getAnchorsURL();\n                var sectionAnchor = anchors.section;\n                var slideAnchor = anchors.slide;\n\n                //when moving to a slide in the first section for the first time (first time to add an anchor to the URL)\n                var isFirstSlideMove =  (typeof lastScrolledDestiny === 'undefined');\n                var isFirstScrollMove = (typeof lastScrolledDestiny === 'undefined' && typeof slideAnchor === 'undefined' && !slideMoving);\n\n                if(sectionAnchor && sectionAnchor.length){\n                    /*in order to call scrollpage() only once for each destination at a time\n                    It is called twice for each scroll otherwise, as in case of using anchorlinks `hashChange`\n                    event is fired on every scroll too.*/\n                    if ((sectionAnchor && sectionAnchor !== lastScrolledDestiny) && !isFirstSlideMove\n                        || isFirstScrollMove\n                        || (!slideMoving && lastScrolledSlide != slideAnchor )){\n\n                        scrollPageAndSlide(sectionAnchor, slideAnchor);\n                    }\n                }\n            }\n        }\n\n        //gets the URL anchors (section and slide)\n        function getAnchorsURL(){\n            var section;\n            var slide;\n            var hash = window.location.hash;\n\n            if(hash.length){\n                //getting the anchor link in the URL and deleting the `#`\n                var anchorsParts =  hash.replace('#', '').split('/');\n\n                //using / for visual reasons and not as a section/slide separator #2803\n                var isFunkyAnchor = hash.indexOf('#/') > -1;\n\n                section = isFunkyAnchor ? '/' + anchorsParts[1] : decodeURIComponent(anchorsParts[0]);\n\n                var slideAnchor = isFunkyAnchor ? anchorsParts[2] : anchorsParts[1];\n                if(slideAnchor && slideAnchor.length){\n                    slide = decodeURIComponent(slideAnchor);\n                }\n            }\n\n            return {\n                section: section,\n                slide: slide\n            };\n        }\n\n        //Sliding with arrow keys, both, vertical and horizontal\n        function keydownHandler(e) {\n            clearTimeout(keydownId);\n\n            var activeElement = document.activeElement;\n            var keyCode = e.keyCode;\n\n            //tab?\n            if(keyCode === 9){\n                onTab(e);\n            }\n\n            else if(!matches(activeElement, 'textarea') && !matches(activeElement, 'input') && !matches(activeElement, 'select') &&\n                activeElement.getAttribute('contentEditable') !== \"true\" && activeElement.getAttribute('contentEditable') !== '' &&\n                options.keyboardScrolling && options.autoScrolling){\n\n                //preventing the scroll with arrow keys & spacebar & Page Up & Down keys\n                var keyControls = [40, 38, 32, 33, 34];\n                if(keyControls.indexOf(keyCode) > -1){\n                    preventDefault(e);\n                }\n\n                controlPressed = e.ctrlKey;\n\n                keydownId = setTimeout(function(){\n                    onkeydown(e);\n                },150);\n            }\n        }\n\n        function tooltipTextHandler(){\n            /*jshint validthis:true */\n            trigger(prev(this), 'click');\n        }\n\n        //to prevent scrolling while zooming\n        function keyUpHandler(e){\n            if(isWindowFocused){ //the keyup gets fired on new tab ctrl + t in Firefox\n                controlPressed = e.ctrlKey;\n            }\n        }\n\n        //binding the mousemove when the mouse's middle button is released\n        function mouseDownHandler(e){\n            //middle button\n            if (e.which == 2){\n                oldPageY = e.pageY;\n                container.addEventListener('mousemove', mouseMoveHandler);\n            }\n        }\n\n        //unbinding the mousemove when the mouse's middle button is released\n        function mouseUpHandler(e){\n            //middle button\n            if (e.which == 2){\n                container.removeEventListener('mousemove', mouseMoveHandler);\n            }\n        }\n\n        /**\n        * Makes sure the tab key will only focus elements within the current section/slide\n        * preventing this way from breaking the page.\n        * Based on \"Modals and keyboard traps\"\n        * from https://developers.google.com/web/fundamentals/accessibility/focus/using-tabindex\n        */\n        function onTab(e){\n            var isShiftPressed = e.shiftKey;\n            var activeElement = document.activeElement;\n            var focusableElements = getFocusables(getSlideOrSection($(SECTION_ACTIVE_SEL)[0]));\n\n            function preventAndFocusFirst(e){\n                preventDefault(e);\n                return focusableElements[0] ? focusableElements[0].focus() : null;\n            }\n\n            //outside any section or slide? Let's not hijack the tab!\n            if(isFocusOutside(e)){\n                return;\n            }\n\n            //is there an element with focus?\n            if(activeElement){\n                if(closest(activeElement, SECTION_ACTIVE_SEL + ',' + SECTION_ACTIVE_SEL + ' ' + SLIDE_ACTIVE_SEL) == null){\n                    activeElement = preventAndFocusFirst(e);\n                }\n            }\n\n            //no element if focused? Let's focus the first one of the section/slide\n            else{\n                preventAndFocusFirst(e);\n            }\n\n            //when reached the first or last focusable element of the section/slide\n            //we prevent the tab action to keep it in the last focusable element\n            if(!isShiftPressed && activeElement == focusableElements[focusableElements.length - 1] ||\n                isShiftPressed && activeElement == focusableElements[0]\n            ){\n                preventDefault(e);\n            }\n        }\n\n        /**\n        * Gets all the focusable elements inside the passed element.\n        */\n        function getFocusables(el){\n            return [].slice.call($(focusableElementsString, el)).filter(function(item) {\n                    return item.getAttribute('tabindex') !== '-1'\n                    //are also not hidden elements (or with hidden parents)\n                    && item.offsetParent !== null;\n            });\n        }\n\n        /**\n        * Determines whether the focus is outside fullpage.js sections/slides or not.\n        */\n        function isFocusOutside(e){\n            var allFocusables = getFocusables(document);\n            var currentFocusIndex = allFocusables.indexOf(document.activeElement);\n            var focusDestinationIndex = e.shiftKey ? currentFocusIndex - 1 : currentFocusIndex + 1;\n            var focusDestination = allFocusables[focusDestinationIndex];\n            var destinationItemSlide = nullOrSlide(closest(focusDestination, SLIDE_SEL));\n            var destinationItemSection = nullOrSection(closest(focusDestination, SECTION_SEL));\n\n            return !destinationItemSlide && !destinationItemSection;\n        }\n\n        //Scrolling horizontally when clicking on the slider controls.\n        function slideArrowHandler(){\n            /*jshint validthis:true */\n            var section = closest(this, SECTION_SEL);\n\n            /*jshint validthis:true */\n            if (hasClass(this, SLIDES_PREV)) {\n                if(isScrollAllowed.m.left){\n                    moveSlideLeft(section);\n                }\n            } else {\n                if(isScrollAllowed.m.right){\n                    moveSlideRight(section);\n                }\n            }\n        }\n        \n        // changing isWindowFocused to true on focus event\n        function focusHandler(){\n            isWindowFocused = true;\n        }\n\n        //when opening a new tab (ctrl + t), `control` won't be pressed when coming back.\n        function blurHandler(){\n            isWindowFocused = false;\n            controlPressed = false;\n        }\n\n        //Scrolls to the section when clicking the navigation bullet\n        function sectionBulletHandler(e){\n            preventDefault(e);\n\n            /*jshint validthis:true */\n            var indexBullet = index(closest(this, SECTION_NAV_SEL + ' li'));\n            scrollPage($(SECTION_SEL)[indexBullet]);\n        }\n\n        //Scrolls the slider to the given slide destination for the given section\n        function slideBulletHandler(e){\n            preventDefault(e);\n\n            /*jshint validthis:true */\n            var slides = $(SLIDES_WRAPPER_SEL, closest(this, SECTION_SEL))[0];\n            var destiny = $(SLIDE_SEL, slides)[index(closest(this, 'li'))];\n\n            landscapeScroll(slides, destiny);\n        }\n\n        //Menu item handler when not using anchors or using lockAnchors:true\n        function menuItemsHandler(e){\n            if($(options.menu)[0] && (options.lockAnchors || !options.anchors.length)){\n                preventDefault(e);\n                /*jshint validthis:true */\n                moveTo(this.getAttribute('data-menuanchor'));\n            }\n        }\n\n        /**\n        * Keydown event\n        */\n        function onkeydown(e){\n            var shiftPressed = e.shiftKey;\n            var activeElement = document.activeElement;\n            var isMediaFocused = matches(activeElement, 'video') || matches(activeElement, 'audio');\n\n            //do nothing if we can not scroll or we are not using horizotnal key arrows.\n            if(!canScroll && [37,39].indexOf(e.keyCode) < 0){\n                return;\n            }\n\n            switch (e.keyCode) {\n                //up\n                case 38:\n                case 33:\n                    if(isScrollAllowed.k.up){\n                        moveSectionUp();\n                    }\n                    break;\n\n                //down\n                case 32: //spacebar\n\n                    if(shiftPressed && isScrollAllowed.k.up && !isMediaFocused){\n                        moveSectionUp();\n                        break;\n                    }\n                /* falls through */\n                case 40:\n                case 34:\n                    if(isScrollAllowed.k.down){\n                        // space bar?\n                        if(e.keyCode !== 32 || !isMediaFocused){\n                            moveSectionDown();\n                        }\n                    }\n                    break;\n\n                //Home\n                case 36:\n                    if(isScrollAllowed.k.up){\n                        moveTo(1);\n                    }\n                    break;\n\n                //End\n                case 35:\n                     if(isScrollAllowed.k.down){\n                        moveTo( $(SECTION_SEL).length );\n                    }\n                    break;\n\n                //left\n                case 37:\n                    if(isScrollAllowed.k.left){\n                        moveSlideLeft();\n                    }\n                    break;\n\n                //right\n                case 39:\n                    if(isScrollAllowed.k.right){\n                        moveSlideRight();\n                    }\n                    break;\n\n                default:\n                    return; // exit this handler for other keys\n            }\n        }\n\n        /**\n        * Detecting the direction of the mouse movement.\n        * Used only for the middle button of the mouse.\n        */\n        var oldPageY = 0;\n        function mouseMoveHandler(e){\n            if(!options.autoScrolling){\n                return;\n            }\n            if(canScroll){\n                // moving up\n                if (e.pageY < oldPageY && isScrollAllowed.m.up){\n                    moveSectionUp();\n                }\n\n                // moving down\n                else if(e.pageY > oldPageY && isScrollAllowed.m.down){\n                    moveSectionDown();\n                }\n            }\n            oldPageY = e.pageY;\n        }\n\n        /**\n        * Scrolls horizontal sliders.\n        */\n        function landscapeScroll(slides, destiny, direction){\n            var section = closest(slides, SECTION_SEL);\n            var v = {\n                slides: slides,\n                destiny: destiny,\n                direction: direction,\n                destinyPos: {left: destiny.offsetLeft},\n                slideIndex: index(destiny),\n                section: section,\n                sectionIndex: index(section, SECTION_SEL),\n                anchorLink: section.getAttribute('data-anchor'),\n                slidesNav: $(SLIDES_NAV_SEL, section)[0],\n                slideAnchor: getAnchor(destiny),\n                prevSlide: $(SLIDE_ACTIVE_SEL, section)[0],\n                prevSlideIndex: index($(SLIDE_ACTIVE_SEL, section)[0]),\n\n                //caching the value of isResizing at the momment the function is called\n                //because it will be checked later inside a setTimeout and the value might change\n                localIsResizing: isResizing\n            };\n            v.xMovement = getXmovement(v.prevSlideIndex, v.slideIndex);\n            v.direction = v.direction ? v.direction : v.xMovement;\n\n            //important!! Only do it when not resizing\n            if(!v.localIsResizing){\n                //preventing from scrolling to the next/prev section when using scrollHorizontally\n                canScroll = false;\n            }\n\n            if(options.onSlideLeave){\n\n                //if the site is not just resizing and readjusting the slides\n                if(!v.localIsResizing && v.xMovement!=='none'){\n                    if(isFunction( options.onSlideLeave )){\n                        if( fireCallback('onSlideLeave', v) === false){\n                            slideMoving = false;\n                            return;\n                        }\n                    }\n                }\n            }\n\n            addClass(destiny, ACTIVE);\n            removeClass(siblings(destiny), ACTIVE);\n\n            if(!v.localIsResizing){\n                stopMedia(v.prevSlide);\n                lazyLoad(destiny);\n            }\n\n            if(!options.loopHorizontal && options.controlArrows){\n                //hidding it for the fist slide, showing for the rest\n                toggle($(SLIDES_ARROW_PREV_SEL, section), v.slideIndex!==0);\n\n                //hidding it for the last slide, showing for the rest\n                toggle($(SLIDES_ARROW_NEXT_SEL, section), next(destiny) != null);\n            }\n\n            //only changing the URL if the slides are in the current section (not for resize re-adjusting)\n            if(hasClass(section, ACTIVE) && !v.localIsResizing){\n                setState(v.slideIndex, v.slideAnchor, v.anchorLink, v.sectionIndex);\n            }\n\n            performHorizontalMove(slides, v, true);\n        }\n\n\n        function afterSlideLoads(v){\n            activeSlidesNavigation(v.slidesNav, v.slideIndex);\n\n            //if the site is not just resizing and readjusting the slides\n            if(!v.localIsResizing){\n                if(isFunction( options.afterSlideLoad )){\n                    fireCallback('afterSlideLoad', v);\n                }\n\n                //needs to be inside the condition to prevent problems with continuousVertical and scrollHorizontally\n                //and to prevent double scroll right after a windows resize\n                canScroll = true;\n\n                playMedia(v.destiny);\n            }\n\n            //letting them slide again\n            slideMoving = false;\n        }\n\n        /**\n        * Performs the horizontal movement. (CSS3 or jQuery)\n        *\n        * @param fireCallback {Bool} - determines whether or not to fire the callback\n        */\n        function performHorizontalMove(slides, v, fireCallback){\n            var destinyPos = v.destinyPos;\n\n            if(options.css3){\n                var translate3d = 'translate3d(-' + Math.round(destinyPos.left) + 'px, 0px, 0px)';\n\n                FP.test.translate3dH[v.sectionIndex] = translate3d;\n                css(addAnimation($(SLIDES_CONTAINER_SEL, slides)), getTransforms(translate3d));\n\n                afterSlideLoadsId = setTimeout(function(){\n                    if(fireCallback){\n                        afterSlideLoads(v);\n                    }\n                }, options.scrollingSpeed);\n            }else{\n                FP.test.left[v.sectionIndex] = Math.round(destinyPos.left);\n\n                scrollTo(slides, Math.round(destinyPos.left), options.scrollingSpeed, function(){\n                    if(fireCallback){\n                        afterSlideLoads(v);\n                    }\n                });\n            }\n        }\n\n        /**\n        * Sets the state for the horizontal bullet navigations.\n        */\n        function activeSlidesNavigation(slidesNav, slideIndex){\n            if(options.slidesNavigation && slidesNav != null){\n                removeClass($(ACTIVE_SEL, slidesNav), ACTIVE);\n                addClass( $('a', $('li', slidesNav)[slideIndex] ), ACTIVE);\n            }\n        }\n\n        var previousHeight = windowsHeight;\n\n        /*\n        * Resize event handler.\n        */        \n        function resizeHandler(){\n            clearTimeout(resizeId);\n\n            //in order to call the functions only when the resize is finished\n            //http://stackoverflow.com/questions/4298612/jquery-how-to-call-resize-event-only-once-its-finished-resizing    \n            resizeId = setTimeout(function(){\n\n                //issue #3336 \n                //(some apps or browsers, like Chrome/Firefox for Mobile take time to report the real height)\n                //so we check it 3 times with intervals in that case\n                for(var i = 0; i< 4; i++){\n                    resizeHandlerId = setTimeout(resizeActions, 200 * i);\n                }\n            }, 200);\n        }\n\n        /**\n        * When resizing the site, we adjust the heights of the sections, slimScroll...\n        */\n        function resizeActions(){\n            isResizing = true;\n\n            //checking if it needs to get responsive\n            responsive();\n\n            // rebuild immediately on touch devices\n            if (isTouchDevice) {\n                var activeElement = document.activeElement;\n\n                //if the keyboard is NOT visible\n                if (!matches(activeElement, 'textarea') && !matches(activeElement, 'input') && !matches(activeElement, 'select')) {\n                    var currentHeight = getWindowHeight();\n\n                    //making sure the change in the viewport size is enough to force a rebuild. (20 % of the window to avoid problems when hidding scroll bars)\n                    if( Math.abs(currentHeight - previousHeight) > (20 * Math.max(previousHeight, currentHeight) / 100) ){\n                        reBuild(true);\n                        previousHeight = currentHeight;\n                    }\n                }\n            }\n            else{\n                adjustToNewViewport();\n            }\n\n            isResizing = false;\n        }\n\n        /**\n        * Checks if the site needs to get responsive and disables autoScrolling if so.\n        * A class `fp-responsive` is added to the plugin's container in case the user wants to use it for his own responsive CSS.\n        */\n        function responsive(){\n            var widthLimit = options.responsive || options.responsiveWidth; //backwards compatiblity\n            var heightLimit = options.responsiveHeight;\n\n            //only calculating what we need. Remember its called on the resize event.\n            var isBreakingPointWidth = widthLimit && window.innerWidth < widthLimit;\n            var isBreakingPointHeight = heightLimit && window.innerHeight < heightLimit;\n\n            if(widthLimit && heightLimit){\n                setResponsive(isBreakingPointWidth || isBreakingPointHeight);\n            }\n            else if(widthLimit){\n                setResponsive(isBreakingPointWidth);\n            }\n            else if(heightLimit){\n                setResponsive(isBreakingPointHeight);\n            }\n        }\n\n        /**\n        * Adds transition animations for the given element\n        */\n        function addAnimation(element){\n            var transition = 'all ' + options.scrollingSpeed + 'ms ' + options.easingcss3;\n\n            removeClass(element, NO_TRANSITION);\n            return css(element, {\n                '-webkit-transition': transition,\n                'transition': transition\n            });\n        }\n\n        /**\n        * Remove transition animations for the given element\n        */\n        function removeAnimation(element){\n            return addClass(element, NO_TRANSITION);\n        }\n\n        /**\n        * Activating the vertical navigation bullets according to the given slide name.\n        */\n        function activateNavDots(name, sectionIndex){\n            if(options.navigation && $(SECTION_NAV_SEL)[0] != null){\n                    removeClass($(ACTIVE_SEL, $(SECTION_NAV_SEL)[0]), ACTIVE);\n                if(name){\n                    addClass( $('a[href=\"#' + name + '\"]', $(SECTION_NAV_SEL)[0]), ACTIVE);\n                }else{\n                    addClass($('a', $('li', $(SECTION_NAV_SEL)[0])[sectionIndex]), ACTIVE);\n                }\n            }\n        }\n\n        /**\n        * Activating the website main menu elements according to the given slide name.\n        */\n        function activateMenuElement(name){\n            $(options.menu).forEach(function(menu) {\n                if(options.menu && menu != null){\n                    removeClass($(ACTIVE_SEL, menu), ACTIVE);\n                    addClass($('[data-menuanchor=\"'+name+'\"]', menu), ACTIVE);\n                }\n            });\n        }\n\n        /**\n        * Sets to active the current menu and vertical nav items.\n        */\n        function activateMenuAndNav(anchor, index){\n            activateMenuElement(anchor);\n            activateNavDots(anchor, index);\n        }\n\n        /**\n        * Retuns `up` or `down` depending on the scrolling movement to reach its destination\n        * from the current section.\n        */\n        function getYmovement(destiny){\n            var fromIndex = index($(SECTION_ACTIVE_SEL)[0], SECTION_SEL);\n            var toIndex = index(destiny, SECTION_SEL);\n            if( fromIndex == toIndex){\n                return 'none';\n            }\n            if(fromIndex > toIndex){\n                return 'up';\n            }\n            return 'down';\n        }\n\n        /**\n        * Retuns `right` or `left` depending on the scrolling movement to reach its destination\n        * from the current slide.\n        */\n        function getXmovement(fromIndex, toIndex){\n            if( fromIndex == toIndex){\n                return 'none';\n            }\n            if(fromIndex > toIndex){\n                return 'left';\n            }\n            return 'right';\n        }\n\n        function addTableClass(element){\n            //In case we are styling for the 2nd time as in with reponsiveSlides\n            if(!hasClass(element, TABLE)){\n                var wrapper = document.createElement('div');\n                wrapper.className = TABLE_CELL;\n                wrapper.style.height = getTableHeight(element) + 'px';\n\n                addClass(element, TABLE);\n                wrapInner(element, wrapper);\n            }\n        }\n\n        function getTableHeight(element){\n            var sectionHeight = windowsHeight;\n\n            if(options.paddingTop || options.paddingBottom){\n                var section = element;\n                if(!hasClass(section, SECTION)){\n                    section = closest(element, SECTION_SEL);\n                }\n\n                var paddings = parseInt(getComputedStyle(section)['padding-top']) + parseInt(getComputedStyle(section)['padding-bottom']);\n                sectionHeight = (windowsHeight - paddings);\n            }\n\n            return sectionHeight;\n        }\n\n        /**\n        * Adds a css3 transform property to the container class with or without animation depending on the animated param.\n        */\n        function transformContainer(translate3d, animated){\n            if(animated){\n                addAnimation(container);\n            }else{\n                removeAnimation(container);\n            }\n\n            css(container, getTransforms(translate3d));\n            FP.test.translate3d = translate3d;\n\n            //syncronously removing the class after the animation has been applied.\n            setTimeout(function(){\n                removeClass(container, NO_TRANSITION);\n            },10);\n        }\n\n        /**\n        * Gets a section by its anchor / index\n        */\n        function getSectionByAnchor(sectionAnchor){\n            var section = $(SECTION_SEL + '[data-anchor=\"'+sectionAnchor+'\"]', container)[0];\n            if(!section){\n                var sectionIndex = typeof sectionAnchor !== 'undefined' ? sectionAnchor -1 : 0;\n                section = $(SECTION_SEL)[sectionIndex];\n            }\n\n            return section;\n        }\n\n        /**\n        * Gets a slide inside a given section by its anchor / index\n        */\n        function getSlideByAnchor(slideAnchor, section){\n            var slide = $(SLIDE_SEL + '[data-anchor=\"'+slideAnchor+'\"]', section)[0];\n            if(slide == null){\n                slideAnchor = typeof slideAnchor !== 'undefined' ? slideAnchor : 0;\n                slide = $(SLIDE_SEL, section)[slideAnchor];\n            }\n\n            return slide;\n        }\n\n        /**\n        * Scrolls to the given section and slide anchors\n        */\n        function scrollPageAndSlide(sectionAnchor, slideAnchor){\n            var section = getSectionByAnchor(sectionAnchor);\n\n            //do nothing if there's no section with the given anchor name\n            if(section == null) return;\n\n            var slide = getSlideByAnchor(slideAnchor, section);\n\n            //we need to scroll to the section and then to the slide\n            if (getAnchor(section) !== lastScrolledDestiny && !hasClass(section, ACTIVE)){\n                scrollPage(section, function(){\n                    scrollSlider(slide);\n                });\n            }\n            //if we were already in the section\n            else{\n                scrollSlider(slide);\n            }\n        }\n\n        /**\n        * Scrolls the slider to the given slide destination for the given section\n        */\n        function scrollSlider(slide){\n            if(slide != null){\n                landscapeScroll(closest(slide, SLIDES_WRAPPER_SEL), slide);\n            }\n        }\n\n        /**\n        * Creates a landscape navigation bar with dots for horizontal sliders.\n        */\n        function addSlidesNavigation(section, numSlides){\n            appendTo(createElementFromHTML('<div class=\"' + SLIDES_NAV + '\"><ul></ul></div>'), section);\n            var nav = $(SLIDES_NAV_SEL, section)[0];\n\n            //top or bottom\n            addClass(nav, 'fp-' + options.slidesNavPosition);\n\n            for(var i=0; i< numSlides; i++){\n                var slide = $(SLIDE_SEL, section)[i];\n                appendTo(createElementFromHTML('<li><a href=\"#\"><span class=\"fp-sr-only\">'+ getBulletLinkName(i, 'Slide', slide) +'</span><span></span></a></li>'), $('ul', nav)[0] );\n            }\n\n            //centering it\n            css(nav, {'margin-left': '-' + (nav.innerWidth/2) + 'px'});\n\n            addClass($('a', $('li', nav)[0] ), ACTIVE);\n        }\n\n\n        /**\n        * Sets the state of the website depending on the active section/slide.\n        * It changes the URL hash when needed and updates the body class.\n        */\n        function setState(slideIndex, slideAnchor, anchorLink, sectionIndex){\n            var sectionHash = '';\n\n            if(options.anchors.length && !options.lockAnchors){\n\n                //isn't it the first slide?\n                if(slideIndex){\n                    if(anchorLink != null){\n                        sectionHash = anchorLink;\n                    }\n\n                    //slide without anchor link? We take the index instead.\n                    if(slideAnchor == null){\n                        slideAnchor = slideIndex;\n                    }\n\n                    lastScrolledSlide = slideAnchor;\n                    setUrlHash(sectionHash + '/' + slideAnchor);\n\n                //first slide won't have slide anchor, just the section one\n                }else if(slideIndex != null){\n                    lastScrolledSlide = slideAnchor;\n                    setUrlHash(anchorLink);\n                }\n\n                //section without slides\n                else{\n                    setUrlHash(anchorLink);\n                }\n            }\n\n            setBodyClass();\n        }\n\n        /**\n        * Sets the URL hash.\n        */\n        function setUrlHash(url){\n            if(options.recordHistory){\n                location.hash = url;\n            }else{\n                //Mobile Chrome doesn't work the normal way, so... lets use HTML5 for phones :)\n                if(isTouchDevice || isTouch){\n                    window.history.replaceState(undefined, undefined, '#' + url);\n                }else{\n                    var baseUrl = window.location.href.split('#')[0];\n                    window.location.replace( baseUrl + '#' + url );\n                }\n            }\n        }\n\n        /**\n        * Gets the anchor for the given slide / section. Its index will be used if there's none.\n        */\n        function getAnchor(element){\n            if(!element){\n                return null;\n            }\n            var anchor = element.getAttribute('data-anchor');\n            var elementIndex = index(element);\n\n            //Slide without anchor link? We take the index instead.\n            if(anchor == null){\n                anchor = elementIndex;\n            }\n\n            return anchor;\n        }\n\n        /**\n        * Sets a class for the body of the page depending on the active section / slide\n        */\n        function setBodyClass(){\n            var section = $(SECTION_ACTIVE_SEL)[0];\n            var slide = $(SLIDE_ACTIVE_SEL, section)[0];\n\n            var sectionAnchor = getAnchor(section);\n            var slideAnchor = getAnchor(slide);\n\n            var text = String(sectionAnchor);\n\n            if(slide){\n                text = text + '-' + slideAnchor;\n            }\n\n            //changing slash for dash to make it a valid CSS style\n            text = text.replace('/', '-').replace('#','');\n\n            //removing previous anchor classes\n            var classRe = new RegExp('\\\\b\\\\s?' + VIEWING_PREFIX + '-[^\\\\s]+\\\\b', \"g\");\n            $body.className = $body.className.replace(classRe, '');\n\n            //adding the current anchor\n            addClass($body, VIEWING_PREFIX + '-' + text);\n        }\n\n        /**\n        * Checks for translate3d support\n        * @return boolean\n        * http://stackoverflow.com/questions/5661671/detecting-transform-translate3d-support\n        */\n        function support3d() {\n            var el = document.createElement('p'),\n                has3d,\n                transforms = {\n                    'webkitTransform':'-webkit-transform',\n                    'OTransform':'-o-transform',\n                    'msTransform':'-ms-transform',\n                    'MozTransform':'-moz-transform',\n                    'transform':'transform'\n                };\n\n            //preventing the style p:empty{display: none;} from returning the wrong result\n            el.style.display = 'block';\n\n            // Add it to the body to get the computed style.\n            document.body.insertBefore(el, null);\n\n            for (var t in transforms) {\n                if (el.style[t] !== undefined) {\n                    el.style[t] = 'translate3d(1px,1px,1px)';\n                    has3d = window.getComputedStyle(el).getPropertyValue(transforms[t]);\n                }\n            }\n\n            document.body.removeChild(el);\n\n            return (has3d !== undefined && has3d.length > 0 && has3d !== 'none');\n        }\n\n        /**\n        * Removes the auto scrolling action fired by the mouse wheel and trackpad.\n        * After this function is called, the mousewheel and trackpad movements won't scroll through sections.\n        */\n        function removeMouseWheelHandler(){\n            if (document.addEventListener) {\n                document.removeEventListener('mousewheel', MouseWheelHandler, false); //IE9, Chrome, Safari, Oper\n                document.removeEventListener('wheel', MouseWheelHandler, false); //Firefox\n                document.removeEventListener('MozMousePixelScroll', MouseWheelHandler, false); //old Firefox\n            } else {\n                document.detachEvent('onmousewheel', MouseWheelHandler); //IE 6/7/8\n            }\n        }\n\n        /**\n        * Adds the auto scrolling action for the mouse wheel and trackpad.\n        * After this function is called, the mousewheel and trackpad movements will scroll through sections\n        * https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n        */\n        function addMouseWheelHandler(){\n            var prefix = '';\n            var _addEventListener;\n\n            if (window.addEventListener){\n                _addEventListener = \"addEventListener\";\n            }else{\n                _addEventListener = \"attachEvent\";\n                prefix = 'on';\n            }\n\n            // detect available wheel event\n            var support = 'onwheel' in document.createElement('div') ? 'wheel' : // Modern browsers support \"wheel\"\n                      document.onmousewheel !== undefined ? 'mousewheel' : // Webkit and IE support at least \"mousewheel\"\n                      'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n            var passiveEvent = g_supportsPassive ? {passive: false }: false;\n\n            if(support == 'DOMMouseScroll'){\n                document[ _addEventListener ](prefix + 'MozMousePixelScroll', MouseWheelHandler, passiveEvent);\n            }\n\n            //handle MozMousePixelScroll in older Firefox\n            else{\n                document[ _addEventListener ](prefix + support, MouseWheelHandler, passiveEvent);\n            }\n        }\n\n        /**\n        * Binding the mousemove when the mouse's middle button is pressed\n        */\n        function addMiddleWheelHandler(){\n            container.addEventListener('mousedown', mouseDownHandler);\n            container.addEventListener('mouseup', mouseUpHandler);\n        }\n\n        /**\n        * Unbinding the mousemove when the mouse's middle button is released\n        */\n        function removeMiddleWheelHandler(){\n            container.removeEventListener('mousedown', mouseDownHandler);\n            container.removeEventListener('mouseup', mouseUpHandler);\n        }\n\n        /**\n        * Adds the possibility to auto scroll through sections on touch devices.\n        */\n        function addTouchHandler(){\n            if(isTouchDevice || isTouch){\n                if(options.autoScrolling){\n                    $body.removeEventListener(events.touchmove, preventBouncing, {passive: false});\n                    $body.addEventListener(events.touchmove, preventBouncing, {passive: false});\n                }\n\n                var touchWrapper = options.touchWrapper;\n                touchWrapper.removeEventListener(events.touchstart, touchStartHandler);\n                touchWrapper.removeEventListener(events.touchmove, touchMoveHandler, {passive: false});\n\n                touchWrapper.addEventListener(events.touchstart, touchStartHandler);\n                touchWrapper.addEventListener(events.touchmove, touchMoveHandler, {passive: false});\n            }\n        }\n\n        /**\n        * Removes the auto scrolling for touch devices.\n        */\n        function removeTouchHandler(){\n            if(isTouchDevice || isTouch){\n                // normalScrollElements requires it off #2691\n                if(options.autoScrolling){\n                    $body.removeEventListener(events.touchmove, touchMoveHandler, {passive: false});\n                    $body.removeEventListener(events.touchmove, preventBouncing, {passive: false});\n                }\n\n                var touchWrapper = options.touchWrapper;\n                touchWrapper.removeEventListener(events.touchstart, touchStartHandler);\n                touchWrapper.removeEventListener(events.touchmove, touchMoveHandler, {passive: false});\n            }\n        }\n\n        /*\n        * Returns and object with Microsoft pointers (for IE<11 and for IE >= 11)\n        * http://msdn.microsoft.com/en-us/library/ie/dn304886(v=vs.85).aspx\n        */\n        function getMSPointer(){\n            var pointer;\n\n            //IE >= 11 & rest of browsers\n            if(window.PointerEvent){\n                pointer = { down: 'pointerdown', move: 'pointermove'};\n            }\n\n            //IE < 11\n            else{\n                pointer = { down: 'MSPointerDown', move: 'MSPointerMove'};\n            }\n\n            return pointer;\n        }\n\n        /**\n        * Gets the pageX and pageY properties depending on the browser.\n        * https://github.com/alvarotrigo/fullPage.js/issues/194#issuecomment-34069854\n        */\n        function getEventsPage(e){\n            var events = [];\n\n            events.y = (typeof e.pageY !== 'undefined' && (e.pageY || e.pageX) ? e.pageY : e.touches[0].pageY);\n            events.x = (typeof e.pageX !== 'undefined' && (e.pageY || e.pageX) ? e.pageX : e.touches[0].pageX);\n\n            //in touch devices with scrollBar:true, e.pageY is detected, but we have to deal with touch events. #1008\n            if(isTouch && isReallyTouch(e) && options.scrollBar && typeof e.touches !== 'undefined'){\n                events.y = e.touches[0].pageY;\n                events.x = e.touches[0].pageX;\n            }\n\n            return events;\n        }\n\n        /**\n        * Slides silently (with no animation) the active slider to the given slide.\n        * @param noCallback {bool} true or defined -> no callbacks\n        */\n        function silentLandscapeScroll(activeSlide, noCallbacks){\n            setScrollingSpeed(0, 'internal');\n\n            if(typeof noCallbacks !== 'undefined'){\n                //preventing firing callbacks afterSlideLoad etc.\n                isResizing = true;\n            }\n\n            landscapeScroll(closest(activeSlide, SLIDES_WRAPPER_SEL), activeSlide);\n\n            if(typeof noCallbacks !== 'undefined'){\n                isResizing = false;\n            }\n\n            setScrollingSpeed(originals.scrollingSpeed, 'internal');\n        }\n\n        /**\n        * Scrolls silently (with no animation) the page to the given Y position.\n        */\n        function silentScroll(top){\n            // The first section can have a negative value in iOS 10. Not quite sure why: -0.0142822265625\n            // that's why we round it to 0.\n            var roundedTop = Math.round(top);\n\n            if (options.css3 && options.autoScrolling && !options.scrollBar){\n                var translate3d = 'translate3d(0px, -' + roundedTop + 'px, 0px)';\n                transformContainer(translate3d, false);\n            }\n            else if(options.autoScrolling && !options.scrollBar){\n                css(container, {'top': -roundedTop + 'px'});\n                FP.test.top = -roundedTop + 'px';\n            }\n            else{\n                var scrollSettings = getScrollSettings(roundedTop);\n                setScrolling(scrollSettings.element, scrollSettings.options);\n            }\n        }\n\n        /**\n        * Returns the cross-browser transform string.\n        */\n        function getTransforms(translate3d){\n            return {\n                '-webkit-transform': translate3d,\n                '-moz-transform': translate3d,\n                '-ms-transform':translate3d,\n                'transform': translate3d\n            };\n        }\n\n        /**\n        * Allowing or disallowing the mouse/swipe scroll in a given direction. (not for keyboard)\n        * @type  m (mouse) or k (keyboard)\n        */\n        function setIsScrollAllowed(value, direction, type){\n            //up, down, left, right\n            if(direction !== 'all'){\n                isScrollAllowed[type][direction] = value;\n            }\n\n            //all directions?\n            else{\n                Object.keys(isScrollAllowed[type]).forEach(function(key){\n                    isScrollAllowed[type][key] = value;\n                });\n            }\n        }\n\n        /*\n        * Destroys fullpage.js plugin events and optinally its html markup and styles\n        */\n        function destroy(all){\n            setAutoScrolling(false, 'internal');\n            setAllowScrolling(true);\n            setMouseHijack(false);\n            setKeyboardScrolling(false);\n            addClass(container, DESTROYED);\n\n            [\n                afterSlideLoadsId, \n                afterSectionLoadsId,\n                resizeId,\n                scrollId,\n                scrollId2,\n                g_doubleCheckHeightId,\n                resizeHandlerId,\n                g_transitionLapseId\n            ].forEach(function(timeoutId){\n                clearTimeout(timeoutId);\n            });\n\n            window.removeEventListener('scroll', scrollHandler);\n            window.removeEventListener('hashchange', hashChangeHandler);\n            window.removeEventListener('resize', resizeHandler);\n\n            document.removeEventListener('keydown', keydownHandler);\n            document.removeEventListener('keyup', keyUpHandler);\n\n            ['click', 'touchstart'].forEach(function(eventName){\n                document.removeEventListener(eventName, delegatedEvents);\n            });\n\n            ['mouseenter', 'touchstart', 'mouseleave', 'touchend'].forEach(function(eventName){\n                document.removeEventListener(eventName, onMouseEnterOrLeave, true); //true is required!\n            });\n\n            //lets make a mess!\n            if(all){\n                destroyStructure();\n            }\n        }\n\n        /*\n        * Removes inline styles added by fullpage.js\n        */\n        function destroyStructure(){\n            //reseting the `top` or `translate` properties to 0\n            silentScroll(0);\n\n            //loading all the lazy load content\n            $('img[data-src], source[data-src], audio[data-src], iframe[data-src]', container).forEach(function(item){\n                setSrc(item, 'src');\n            });\n\n            $('img[data-srcset]').forEach(function(item){\n                setSrc(item, 'srcset');\n            });\n\n            remove($(SECTION_NAV_SEL + ', ' + SLIDES_NAV_SEL +  ', ' + SLIDES_ARROW_SEL));\n\n            //removing inline styles\n            css($(SECTION_SEL), {\n                'height': '',\n                'background-color' : '',\n                'padding': ''\n            });\n\n            css($(SLIDE_SEL), {\n                'width': ''\n            });\n\n            css(container, {\n                'height': '',\n                'position': '',\n                '-ms-touch-action': '',\n                'touch-action': ''\n            });\n\n            css($htmlBody, {\n                'overflow': '',\n                'height': ''\n            });\n\n            // remove .fp-enabled class\n            removeClass($html, ENABLED);\n\n            // remove .fp-responsive class\n            removeClass($body, RESPONSIVE);\n\n            // remove all of the .fp-viewing- classes\n            $body.className.split(/\\s+/).forEach(function (className) {\n                if (className.indexOf(VIEWING_PREFIX) === 0) {\n                    removeClass($body, className);\n                }\n            });\n\n            //removing added classes\n            $(SECTION_SEL + ', ' + SLIDE_SEL).forEach(function(item){\n                if(options.scrollOverflowHandler && options.scrollOverflow){\n                    options.scrollOverflowHandler.remove(item);\n                }\n                removeClass(item, TABLE + ' ' + ACTIVE + ' ' + COMPLETELY);\n                var previousStyles = item.getAttribute('data-fp-styles');\n                if(previousStyles){\n                    item.setAttribute('style', item.getAttribute('data-fp-styles'));\n                }\n\n                //removing anchors if they were not set using the HTML markup\n                if(hasClass(item, SECTION) && !g_initialAnchorsInDom){\n                    item.removeAttribute('data-anchor');\n                }\n            });\n\n            //removing the applied transition from the fullpage wrapper\n            removeAnimation(container);\n\n            //Unwrapping content\n            [TABLE_CELL_SEL, SLIDES_CONTAINER_SEL,SLIDES_WRAPPER_SEL].forEach(function(selector){\n                $(selector, container).forEach(function(item){\n                    //unwrap not being use in case there's no child element inside and its just text\n                    unwrap(item);\n                });\n            });\n\n            //removing the applied transition from the fullpage wrapper\n            css(container, {\n                '-webkit-transition': 'none',\n                'transition': 'none'\n            });\n\n            //scrolling the page to the top with no animation\n            window.scrollTo(0, 0);\n\n            //removing selectors\n            var usedSelectors = [SECTION, SLIDE, SLIDES_CONTAINER];\n            usedSelectors.forEach(function(item){\n                removeClass($('.' + item), item);\n            });\n        }\n\n        /*\n        * Sets the state for a variable with multiple states (original, and temporal)\n        * Some variables such as `autoScrolling` or `recordHistory` might change automatically its state when using `responsive` or `autoScrolling:false`.\n        * This function is used to keep track of both states, the original and the temporal one.\n        * If type is not 'internal', then we assume the user is globally changing the variable.\n        */\n        function setVariableState(variable, value, type){\n            options[variable] = value;\n            if(type !== 'internal'){\n                originals[variable] = value;\n            }\n        }\n\n        /**\n        * Displays warnings\n        */\n        function displayWarnings(){\n            var l = options['li' + 'c' + 'enseK' + 'e' + 'y'];\n            var msgStyle = 'font-size: 15px;background:yellow;';\n\n            if(!isOK){\n                showError('error', 'Fullpage.js version 3 has changed its license to GPLv3 and it requires a `licenseKey` option. Read about it here:');\n                showError('error', 'https://github.com/alvarotrigo/fullPage.js#options');\n            }\n            else if(l && l.length < 20){\n                console.warn('%c This website was made using fullPage.js slider. More info on the following website:', msgStyle);\n                console.warn('%c https://alvarotrigo.com/fullPage/', msgStyle);\n            }\n\n            if(hasClass($html, ENABLED)){\n                showError('error', 'Fullpage.js can only be initialized once and you are doing it multiple times!');\n                return;\n            }\n\n            // Disable mutually exclusive settings\n            if (options.continuousVertical &&\n                (options.loopTop || options.loopBottom)) {\n                options.continuousVertical = false;\n                showError('warn', 'Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled');\n            }\n\n            if(options.scrollOverflow &&\n               (options.scrollBar || !options.autoScrolling)){\n                showError('warn', 'Options scrollBar:true and autoScrolling:false are mutually exclusive with scrollOverflow:true. Sections with scrollOverflow might not work well in Firefox');\n            }\n\n            if(options.continuousVertical && (options.scrollBar || !options.autoScrolling)){\n                options.continuousVertical = false;\n                showError('warn', 'Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled');\n            }\n\n            if(options.scrollOverflow && options.scrollOverflowHandler == null){\n                options.scrollOverflow = false;\n                showError('error', 'The option `scrollOverflow:true` requires the file `scrolloverflow.min.js`. Please include it before fullPage.js.');\n            }\n\n            //using extensions? Wrong file!\n            extensions.forEach(function(extension){\n                //is the option set to true?\n                if(options[extension]){\n                    showError('warn', 'fullpage.js extensions require fullpage.extensions.min.js file instead of the usual fullpage.js. Requested: '+ extension);\n                }\n            });\n\n            //anchors can not have the same value as any element ID or NAME\n            options.anchors.forEach(function(name){\n\n                //case insensitive selectors (http://stackoverflow.com/a/19465187/1081396)\n                var nameAttr = [].slice.call($('[name]')).filter(function(item) {\n                    return item.getAttribute('name') && item.getAttribute('name').toLowerCase() == name.toLowerCase();\n                });\n\n                var idAttr = [].slice.call($('[id]')).filter(function(item) {\n                    return item.getAttribute('id') && item.getAttribute('id').toLowerCase() == name.toLowerCase();\n                });\n\n                if(idAttr.length || nameAttr.length ){\n                    showError('error', 'data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).');\n                    var propertyName = idAttr.length ? 'id' : 'name';\n\n                    if(idAttr.length || nameAttr.length){\n                        showError('error', '\"' + name + '\" is is being used by another element `'+ propertyName +'` property');\n                    }\n                }\n            });\n        }\n\n        /**\n        * Getting the position of the element to scroll when using jQuery animations\n        */\n        function getScrolledPosition(element){\n            var position;\n\n            //is not the window element and is a slide?\n            if(element.self != window && hasClass(element, SLIDES_WRAPPER)){\n                position = element.scrollLeft;\n            }\n            else if(!options.autoScrolling  || options.scrollBar){\n                position = getScrollTop();\n            }\n            else{\n                position = element.offsetTop;\n            }\n\n            //gets the top property of the wrapper\n            return position;\n        }\n\n        /**\n        * Simulates the animated scrollTop of jQuery. Used when css3:false or scrollBar:true or autoScrolling:false\n        * http://stackoverflow.com/a/16136789/1081396\n        */\n        function scrollTo(element, to, duration, callback) {\n            var start = getScrolledPosition(element);\n            var change = to - start;\n            var currentTime = 0;\n            var increment = 20;\n            activeAnimation = true;\n\n            var animateScroll = function(){\n                if(activeAnimation){ //in order to stope it from other function whenever we want\n                    var val = to;\n\n                    currentTime += increment;\n\n                    if(duration){\n                        val = window.fp_easings[options.easing](currentTime, start, change, duration);\n                    }\n\n                    setScrolling(element, val);\n\n                    if(currentTime < duration) {\n                        setTimeout(animateScroll, increment);\n                    }else if(typeof callback !== 'undefined'){\n                        callback();\n                    }\n                }else if (currentTime < duration){\n                    callback();\n                }\n            };\n\n            animateScroll();\n        }\n\n        /**\n        * Scrolls the page / slider the given number of pixels.\n        * It will do it one or another way dependiong on the library's config.\n        */\n        function setScrolling(element, val){\n            if(!options.autoScrolling || options.scrollBar || (element.self != window && hasClass(element, SLIDES_WRAPPER))){\n\n                //scrolling horizontally through the slides?\n                if(element.self != window  && hasClass(element, SLIDES_WRAPPER)){\n                    element.scrollLeft = val;\n                }\n                //vertical scroll\n                else{\n                    element.scrollTo(0, val);\n                }\n            }else{\n                 element.style.top = val + 'px';\n            }\n        }\n\n        /**\n        * Gets the active slide.\n        */\n        function getActiveSlide(){\n            var activeSlide = $(SLIDE_ACTIVE_SEL, $(SECTION_ACTIVE_SEL)[0])[0];\n            return nullOrSlide(activeSlide);\n        }\n\n        /**\n        * Gets the active section.\n        */\n        function getActiveSection(){\n            return new Section($(SECTION_ACTIVE_SEL)[0]);\n        }\n\n        /**\n        * Item. Slide or Section objects share the same properties.\n        */\n        function Item(el, selector){\n            this.anchor = el.getAttribute('data-anchor');\n            this.item = el;\n            this.index = index(el, selector);\n            this.isLast = this.index === el.parentElement.querySelectorAll(selector).length -1;\n            this.isFirst = !this.index;\n        }\n\n        /**\n        * Section object\n        */\n        function Section(el){\n            Item.call(this, el, SECTION_SEL);\n        }\n\n        /**\n        * Slide object\n        */\n        function Slide(el){\n            Item.call(this, el, SLIDE_SEL);\n        }\n\n        return FP;\n    } //end of $.fn.fullpage\n\n    //utils\n    /**\n    * Shows a message in the console of the given type.\n    */\n    function showError(type, text){\n        window.console && window.console[type] && window.console[type]('fullPage: ' + text);\n    }\n\n    /**\n    * Equivalent of jQuery function $().\n    */\n    function $(selector, context){\n        context = arguments.length > 1 ? context : document;\n        return context ? context.querySelectorAll(selector) : null;\n    }\n\n    /**\n    * Extends a given Object properties and its childs.\n    */\n    function deepExtend(out) {\n        out = out || {};\n        for (var i = 1, len = arguments.length; i < len; ++i){\n            var obj = arguments[i];\n\n            if(!obj){\n              continue;\n            }\n\n            for(var key in obj){\n              if (!obj.hasOwnProperty(key)){\n                continue;\n              }\n\n              // based on https://javascriptweblog.wordpress.com/2011/08/08/fixing-the-javascript-typeof-operator/\n              if (Object.prototype.toString.call(obj[key]) === '[object Object]'){\n                out[key] = deepExtend(out[key], obj[key]);\n                continue;\n              }\n\n              out[key] = obj[key];\n            }\n        }\n        return out;\n    }\n\n    /**\n    * Checks if the passed element contains the passed class.\n    */\n    function hasClass(el, className){\n        if(el == null){\n            return false;\n        }\n        if (el.classList){\n            return el.classList.contains(className);\n        }\n        return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n    }\n\n    /**\n    * Gets the window height. Crossbrowser.\n    */\n    function getWindowHeight(){\n        return 'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n    }\n\n    /**\n    * Gets the window width.\n    */\n    function getWindowWidth(){\n        return window.innerWidth;\n    }\n\n    /**\n    * Set's the CSS properties for the passed item/s.\n    * @param {NodeList|HTMLElement} items\n    * @param {Object} props css properties and values.\n    */\n    function css(items, props) {\n        items = getList(items);\n\n        var key;\n        for (key in props) {\n            if (props.hasOwnProperty(key)) {\n                if (key !== null) {\n                    for (var i = 0; i < items.length; i++) {\n                        var item = items[i];\n                        item.style[key] = props[key];\n                    }\n                }\n            }\n        }\n\n        return items;\n    }\n\n    /**\n    * Generic function to get the previous or next element.\n    */\n    function until(item, selector, fn){\n        var sibling = item[fn];\n        while(sibling && !matches(sibling, selector)){\n            sibling = sibling[fn];\n        }\n\n        return sibling;\n    }\n\n    /**\n    * Gets the previous element to the passed element that matches the passed selector.\n    */\n    function prevUntil(item, selector){\n        return until(item, selector, 'previousElementSibling');\n    }\n\n    /**\n    * Gets the next element to the passed element that matches the passed selector.\n    */\n    function nextUntil(item, selector){\n        return until(item, selector, 'nextElementSibling');\n    }\n\n    /**\n    * Gets the previous element to the passed element.\n    */\n    function prev(item){\n        return item.previousElementSibling;\n    }\n\n    /**\n    * Gets the next element to the passed element.\n    */\n    function next(item){\n        return item.nextElementSibling;\n    }\n\n    /**\n    * Gets the last element from the passed list of elements.\n    */\n    function last(item){\n        return item[item.length-1];\n    }\n\n    /**\n    * Gets index from the passed element.\n    * @param {String} selector is optional.\n    */\n    function index(item, selector) {\n        item = isArrayOrList(item) ? item[0] : item;\n        var children = selector != null? $(selector, item.parentNode) : item.parentNode.childNodes;\n        var num = 0;\n        for (var i=0; i<children.length; i++) {\n             if (children[i] == item) return num;\n             if (children[i].nodeType==1) num++;\n        }\n        return -1;\n    }\n\n    /**\n    * Gets an iterable element for the passed element/s\n    */\n    function getList(item){\n        return !isArrayOrList(item) ? [item] : item;\n    }\n\n    /**\n    * Adds the display=none property for the passed element/s\n    */\n    function hide(el){\n        el = getList(el);\n\n        for(var i = 0; i<el.length; i++){\n            el[i].style.display = 'none';\n        }\n        return el;\n    }\n\n    /**\n    * Adds the display=block property for the passed element/s\n    */\n    function show(el){\n        el = getList(el);\n\n        for(var i = 0; i<el.length; i++){\n            el[i].style.display = 'block';\n        }\n        return el;\n    }\n\n    /**\n    * Checks if the passed element is an iterable element or not\n    */\n    function isArrayOrList(el){\n        return Object.prototype.toString.call( el ) === '[object Array]' ||\n            Object.prototype.toString.call( el ) === '[object NodeList]';\n    }\n\n    /**\n    * Adds the passed class to the passed element/s\n    */\n    function addClass(el, className) {\n        el = getList(el);\n\n        for(var i = 0; i<el.length; i++){\n            var item = el[i];\n            if (item.classList){\n                item.classList.add(className);\n            }\n            else{\n              item.className += ' ' + className;\n            }\n        }\n        return el;\n    }\n\n    /**\n    * Removes the passed class to the passed element/s\n    * @param {String} `className` can be multiple classnames separated by whitespace\n    */\n    function removeClass(el, className){\n        el = getList(el);\n\n        var classNames = className.split(' ');\n\n        for(var a = 0; a<classNames.length; a++){\n            className = classNames[a];\n            for(var i = 0; i<el.length; i++){\n                var item = el[i];\n                if (item.classList){\n                    item.classList.remove(className);\n                }\n                else{\n                    item.className = item.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n                }\n            }\n        }\n        return el;\n    }\n\n    /**\n    * Appends the given element ot the given parent.\n    */\n    function appendTo(el, parent){\n        parent.appendChild(el);\n    }\n\n    /**\n    Usage:\n\n    var wrapper = document.createElement('div');\n    wrapper.className = 'fp-slides';\n    wrap($('.slide'), wrapper);\n\n    https://jsfiddle.net/qwzc7oy3/15/ (vanilla)\n    https://jsfiddle.net/oya6ndka/1/ (jquery equivalent)\n    */\n    function wrap(toWrap, wrapper, isWrapAll) {\n        var newParent;\n        wrapper = wrapper || document.createElement('div');\n        for(var i = 0; i < toWrap.length; i++){\n            var item = toWrap[i];\n            if(isWrapAll && !i || !isWrapAll){\n                newParent = wrapper.cloneNode(true);\n                item.parentNode.insertBefore(newParent, item);\n            }\n            newParent.appendChild(item);\n        }\n        return toWrap;\n    }\n\n    /**\n    Usage:\n    var wrapper = document.createElement('div');\n    wrapper.className = 'fp-slides';\n    wrap($('.slide'), wrapper);\n\n    https://jsfiddle.net/qwzc7oy3/27/ (vanilla)\n    https://jsfiddle.net/oya6ndka/4/ (jquery equivalent)\n    */\n    function wrapAll(toWrap, wrapper) {\n        wrap(toWrap, wrapper, true);\n    }\n\n    /**\n    * Usage:\n    * wrapInner(document.querySelector('#pepe'), '<div class=\"test\">afdas</div>');\n    * wrapInner(document.querySelector('#pepe'), element);\n    *\n    * https://jsfiddle.net/zexxz0tw/6/\n    *\n    * https://stackoverflow.com/a/21817590/1081396\n    */\n    function wrapInner(parent, wrapper) {\n        if (typeof wrapper === \"string\"){\n            wrapper = createElementFromHTML(wrapper);\n        }\n\n        parent.appendChild(wrapper);\n\n        while(parent.firstChild !== wrapper){\n            wrapper.appendChild(parent.firstChild);\n       }\n    }\n\n    /**\n    * Usage:\n    * unwrap(document.querySelector('#pepe'));\n    * unwrap(element);\n    *\n    * https://jsfiddle.net/szjt0hxq/1/\n    *\n    */\n    function unwrap(wrapper) {\n        var wrapperContent = document.createDocumentFragment();\n        while (wrapper.firstChild) {\n            wrapperContent.appendChild(wrapper.firstChild);\n        }\n\n        wrapper.parentNode.replaceChild(wrapperContent, wrapper);\n    }\n\n    /**\n    * http://stackoverflow.com/questions/22100853/dom-pure-javascript-solution-to-jquery-closest-implementation\n    * Returns the element or `false` if there's none\n    */\n    function closest(el, selector) {\n        if(el && el.nodeType === 1){\n            if(matches(el, selector)){\n                return el;\n            }\n            return closest(el.parentNode, selector);\n        }\n        return null;\n    }\n\n    /**\n    * Places one element (rel) after another one or group of them (reference).\n    * @param {HTMLElement} reference\n    * @param {HTMLElement|NodeList|String} el\n    * https://jsfiddle.net/9s97hhzv/1/\n    */\n    function after(reference, el) {\n        insertBefore(reference, reference.nextSibling, el);\n    }\n\n    /**\n    * Places one element (rel) before another one or group of them (reference).\n    * @param {HTMLElement} reference\n    * @param {HTMLElement|NodeList|String} el\n    * https://jsfiddle.net/9s97hhzv/1/\n    */\n    function before(reference, el) {\n        insertBefore(reference, reference, el);\n    }\n\n    /**\n    * Based in https://stackoverflow.com/a/19316024/1081396\n    * and https://stackoverflow.com/a/4793630/1081396\n    */\n    function insertBefore(reference, beforeElement, el){\n        if(!isArrayOrList(el)){\n            if(typeof el == 'string'){\n                el = createElementFromHTML(el);\n            }\n            el = [el];\n        }\n\n        for(var i = 0; i<el.length; i++){\n            reference.parentNode.insertBefore(el[i], beforeElement);\n        }\n    }\n\n    //http://stackoverflow.com/questions/3464876/javascript-get-window-x-y-position-for-scroll\n    function getScrollTop(){\n        var doc = document.documentElement;\n        return (window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0);\n    }\n\n    /**\n    * Gets the siblings of the passed element\n    */\n    function siblings(el){\n        return Array.prototype.filter.call(el.parentNode.children, function(child){\n          return child !== el;\n        });\n    }\n\n    //for IE 9 ?\n    function preventDefault(event){\n        if(event.preventDefault){\n            event.preventDefault();\n        }\n        else{\n            event.returnValue = false;\n        }\n    }\n\n    /**\n    * Determines whether the passed item is of function type.\n    */\n    function isFunction(item) {\n      if (typeof item === 'function') {\n        return true;\n      }\n      var type = Object.prototype.toString(item);\n      return type === '[object Function]' || type === '[object GeneratorFunction]';\n    }\n\n    /**\n    * Trigger custom events\n    */\n    function trigger(el, eventName, data){\n        var event;\n        data = typeof data === 'undefined' ? {} : data;\n\n        // Native\n        if(typeof window.CustomEvent === \"function\" ){\n            event = new CustomEvent(eventName, {detail: data});\n        }\n        else{\n            event = document.createEvent('CustomEvent');\n            event.initCustomEvent(eventName, true, true, data);\n        }\n\n        el.dispatchEvent(event);\n    }\n\n    /**\n    * Polyfill of .matches()\n    */\n    function matches(el, selector) {\n        return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\n    }\n\n    /**\n    * Toggles the visibility of the passed element el.\n    */\n    function toggle(el, value){\n        if(typeof value === \"boolean\"){\n            for(var i = 0; i<el.length; i++){\n                el[i].style.display = value ? 'block' : 'none';\n            }\n        }\n        //we don't use it in other way, so no else :)\n\n        return el;\n    }\n\n    /**\n    * Creates a HTMLElement from the passed HTML string.\n    * https://stackoverflow.com/a/494348/1081396\n    */\n    function createElementFromHTML(htmlString) {\n        var div = document.createElement('div');\n        div.innerHTML = htmlString.trim();\n\n        // Change this to div.childNodes to support multiple top-level nodes\n        return div.firstChild;\n    }\n\n    /**\n    * Removes the passed item/s from the DOM.\n    */\n    function remove(items){\n        items = getList(items);\n        for(var i = 0; i<items.length; i++){\n            var item = items[i];\n            if(item && item.parentElement) {\n                item.parentNode.removeChild(item);\n            }\n        }\n    }\n\n    /**\n    * Filters an array by the passed filter funtion.\n    */\n    function filter(el, filterFn){\n        Array.prototype.filter.call(el, filterFn);\n    }\n\n    //https://jsfiddle.net/w1rktecz/\n    function untilAll(item, selector, fn){\n        var sibling = item[fn];\n        var siblings = [];\n        while(sibling){\n            if(matches(sibling, selector) || selector == null) {\n                siblings.push(sibling);\n            }\n            sibling = sibling[fn];\n        }\n\n        return siblings;\n    }\n\n    /**\n    * Gets all next elements matching the passed selector.\n    */\n    function nextAll(item, selector){\n        return untilAll(item, selector, 'nextElementSibling');\n    }\n\n    /**\n    * Gets all previous elements matching the passed selector.\n    */\n    function prevAll(item, selector){\n        return untilAll(item, selector, 'previousElementSibling');\n    }\n\n    /**\n    * Converts an object to an array.\n    */\n    function toArray(objectData){\n        return Object.keys(objectData).map(function(key) {\n           return objectData[key];\n        });\n    }\n\n    /**\n    * forEach polyfill for IE\n    * https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach#Browser_Compatibility\n    */\n    if (window.NodeList && !NodeList.prototype.forEach) {\n        NodeList.prototype.forEach = function (callback, thisArg) {\n            thisArg = thisArg || window;\n            for (var i = 0; i < this.length; i++) {\n                callback.call(thisArg, this[i], i, this);\n            }\n        };\n    }\n\n    //utils are public, so we can use it wherever we want\n    window.fp_utils = {\n        $: $,\n        deepExtend: deepExtend,\n        hasClass: hasClass,\n        getWindowHeight: getWindowHeight,\n        css: css,\n        until: until,\n        prevUntil: prevUntil,\n        nextUntil: nextUntil,\n        prev: prev,\n        next: next,\n        last: last,\n        index: index,\n        getList: getList,\n        hide: hide,\n        show: show,\n        isArrayOrList: isArrayOrList,\n        addClass: addClass,\n        removeClass: removeClass,\n        appendTo: appendTo,\n        wrap: wrap,\n        wrapAll: wrapAll,\n        wrapInner: wrapInner,\n        unwrap: unwrap,\n        closest: closest,\n        after: after,\n        before: before,\n        insertBefore: insertBefore,\n        getScrollTop: getScrollTop,\n        siblings: siblings,\n        preventDefault: preventDefault,\n        isFunction: isFunction,\n        trigger: trigger,\n        matches: matches,\n        toggle: toggle,\n        createElementFromHTML: createElementFromHTML,\n        remove: remove,\n        filter: filter,\n        untilAll: untilAll,\n        nextAll: nextAll,\n        prevAll: prevAll,\n        showError: showError\n    };\n\n    return initialise;\n}));\n\n/**\n * jQuery adapter for fullPage.js 3.0.0\n */\nif(window.jQuery && window.fullpage){\n    (function ($, fullpage) {\n        'use strict';\n\n        // No jQuery No Go\n        if (!$ || !fullpage) {\n            window.fp_utils.showError('error', 'jQuery is required to use the jQuery fullpage adapter!');\n            return;\n        }\n\n        $.fn.fullpage = function(options) {\n            options = $.extend({}, options, {'$': $});\n            var instance = new fullpage(this[0], options);\n        };\n    })(window.jQuery, window.fullpage);\n}\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","/**\n * @barba/core/modules/Logger\n * <br><br>\n * ## Logger.\n *\n * - Display informations via the console\n *\n * @module core/modules/Logger\n * @preferred\n */\n\n/***/\n\n/**\n * Log levels, all lower level messages are printed\n *\n * 0. mute\n * 1. error = `console.error()`\n * 2. warning= `console.warn()`\n * 3. info = `console.info()`\n * 4. debug = `console.log()`\n */\nexport enum LogLevels {\n  off = 0,\n  error = 1,\n  warning = 2,\n  info = 3,\n  debug = 4,\n}\n\n/**\n * Global log level\n */\nlet _level: number = LogLevels.off;\n\nexport class Logger {\n  /**\n   * Get global log level.\n   */\n  public static getLevel(): number {\n    return _level;\n  }\n\n  /**\n   * Set global log level.\n   */\n  public static setLevel(name: keyof typeof LogLevels): number {\n    _level = LogLevels[name];\n\n    return _level;\n  }\n\n  /**\n   * Log \"prefix\".\n   */\n  private _source: string;\n\n  /**\n   * Creates an instance of Logger.\n   */\n  constructor(source: string) {\n    this._source = source;\n  }\n\n  /**\n   * Permanent, unremovable log.\n   */\n  // public print(...objects: any[]): void {\n  //   this._log(console.info, LogLevels.off, objects);\n  // }\n\n  /**\n   * Error log.\n   */\n  public error(...objects: any[]): void {\n    this._log(console.error, LogLevels.error, objects);\n  }\n\n  /**\n   * Warn log.\n   */\n  public warn(...objects: any[]): void {\n    this._log(console.warn, LogLevels.warning, objects);\n  }\n\n  /**\n   * Info log.\n   */\n  public info(...objects: any[]): void {\n    this._log(console.info, LogLevels.info, objects);\n  }\n\n  /**\n   * Debug log.\n   */\n  public debug(...objects: any[]): void {\n    this._log(console.log, LogLevels.debug, objects);\n  }\n\n  /**\n   * Internal logger.\n   */\n  private _log(fn: () => void, level: number, objects: any[]): void {\n    if (level <= Logger.getLevel()) {\n      fn.apply(console, ([`[${this._source}] `].concat(objects) as unknown) as [\n\n      ]);\n    }\n  }\n}\n","/**\n * @module typings/core\n */\nimport { ITransitionData, ITransitionPage, IViewData } from './index';\n\nexport type HooksBarba =\n  | 'ready'\n  | 'page'\n  | 'reset'\n  | 'currentAdded'\n  | 'currentRemoved'\n  | 'nextAdded'\n  | 'nextRemoved';\n\nexport type HooksOnce = 'beforeOnce' | 'once' | 'afterOnce';\n\nexport type HooksPage =\n  | 'before'\n  | 'beforeLeave'\n  | 'leave'\n  | 'afterLeave'\n  | 'beforeEnter'\n  | 'enter'\n  | 'afterEnter'\n  | 'after';\n\nexport type HooksBefore = 'beforeOnce' | 'beforeLeave' | 'beforeEnter';\nexport type HooksAfter = 'afterOnce' | 'afterLeave' | 'afterEnter';\n\nexport type HooksTransition = HooksOnce | HooksPage;\nexport type HooksView = HooksBefore | HooksAfter;\nexport type HooksAll = HooksBarba | HooksTransition;\n\n// Allow optional \"dynamically created\" hooks\nexport type HooksTransitionMap = { [key in HooksTransition]?: any };\n\nexport type HookFunction = (\n  data?: ITransitionData | IViewData,\n  t?: ITransitionPage\n) => Promise<void> | void;\n\nexport class HookMethods {\n  public before: (fn: HookFunction, ctx?: any) => void;\n  public beforeLeave: (fn: HookFunction, ctx?: any) => void;\n  public leave: (fn: HookFunction, ctx?: any) => void;\n  public afterLeave: (fn: HookFunction, ctx?: any) => void;\n  public beforeEnter: (fn: HookFunction, ctx?: any) => void;\n  public enter: (fn: HookFunction, ctx?: any) => void;\n  public afterEnter: (fn: HookFunction, ctx?: any) => void;\n  public after: (fn: HookFunction, ctx?: any) => void;\n}\n","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.match = match\nmodule.exports.regexpToFunction = regexpToFunction\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var whitelist = (options && options.whitelist) || undefined\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n      var c = path[k]\n      var matches = whitelist ? whitelist.indexOf(c) > -1 : true\n\n      if (matches) {\n        prev = c\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var pattern = capture || group\n    var delimiter = prev || defaultDelimiter\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: pattern\n        ? escapeGroup(pattern)\n        : '[^' + escapeString(delimiter === defaultDelimiter ? delimiter : (delimiter + defaultDelimiter)) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nfunction match (str, options) {\n  var keys = []\n  var re = pathToRegexp(str, keys, options)\n  return regexpToFunction(re, keys)\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nfunction regexpToFunction (re, keys) {\n  return function (pathname, options) {\n    var m = re.exec(pathname)\n    if (!m) return false\n\n    var path = m[0]\n    var index = m.index\n    var params = {}\n    var decode = (options && options.decode) || decodeURIComponent\n\n    for (var i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue\n\n      var key = keys[i - 1]\n\n      if (key.repeat) {\n        params[key.name] = m[i].split(key.delimiter).map(function (value) {\n          return decode(value, key)\n        })\n      } else {\n        params[key.name] = decode(m[i], key)\n      }\n    }\n\n    return { path: path, index: index, params: params }\n  }\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n    var validate = options ? options.validate !== false : true\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (validate && !matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (validate && !matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) continue\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = options.delimiter || DEFAULT_DELIMITER\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (!token.prefix) {\n          route += '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + escapeString(delimiter) + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    var endToken = tokens[tokens.length - 1]\n    var isEndDelimited = typeof endToken === 'string'\n      ? endToken[endToken.length - 1] === delimiter\n      : endToken === undefined\n\n    if (!strict) route += '(?:' + escapeString(delimiter) + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + escapeString(delimiter) + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n","/**\n * @barba/core/schemas\n * <br><br>\n * ## Schemas description.\n *\n * @module core/schemas\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { ISchemaAttribute } from '../defs';\n\n/**\n * See [[ISchemaAttribute]]\n */\nexport const schemaAttribute: ISchemaAttribute = {\n  container: 'container',\n  history: 'history',\n  namespace: 'namespace',\n  prefix: 'data-barba',\n  prevent: 'prevent',\n  wrapper: 'wrapper',\n};\n","/**\n * @barba/core/utils/dom\n * <br><br>\n * ## Dom utils\n *\n * - Access DOM contents\n * - DOM vs string conversions\n *\n * @module core/utils/dom\n * @preferred\n */\n\n/***/\n\nimport path from 'path';\n\n// Definitions\nimport { ISchemaAttribute, Link, Scope, Wrapper } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\nexport class Dom {\n  private _attr: ISchemaAttribute = schemaAttribute;\n  private _parser: DOMParser = new DOMParser();\n\n  /**\n   * Convert HTMLDocument to string.\n   */\n  public toString(el: HTMLElement): string {\n    return el.outerHTML;\n  }\n\n  /**\n   * Parse HTML string to HTMLDocument.\n   */\n  // see https://github.com/barbajs/barba/issues/362\n  // Seems that using DOMParser.parseFromString causes this issue.\n  public toDocument(htmlString: string): HTMLDocument {\n    return this._parser.parseFromString(htmlString, 'text/html');\n  }\n\n  /**\n   * Parse HTML string to DIVElement.\n   *\n   * DOMParser.parseFromString fails with img[srcset] on iOS.\n   * see https://github.com/barbajs/barba/issues/362\n   */\n  public toElement(htmlString: string): HTMLDivElement {\n    const div = document.createElement('div');\n\n    div.innerHTML = htmlString;\n    return div;\n  }\n\n  /**\n   * Get HTML content.\n   */\n  public getHtml(doc: HTMLDocument = document): string {\n    return this.toString(doc.documentElement);\n  }\n\n  /**\n   * Get full document content.\n   */\n  // getDocument(el = document.documentElement) {\n  //   return this.toStr(el);\n  // },\n\n  /**\n   * Get `[data-barba=\"wrapper\"]`.\n   */\n  public getWrapper(scope: Scope = document): Wrapper {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.wrapper}\"]`\n    );\n  }\n\n  /**\n   * Get `[data-barba=\"container\"]`.\n   */\n  public getContainer(scope: Scope = document): HTMLElement | null {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.container}\"]`\n    );\n  }\n\n  /**\n   * Remove container and store next sibling (if applicable).\n   */\n  public removeContainer(container: HTMLElement) {\n    if (document.body.contains(container)) {\n      container.parentNode.removeChild(container);\n    }\n  }\n\n  /**\n   * Add container before next sibling or at the end of the wrapper.\n   */\n  public addContainer(container: HTMLElement, wrapper: HTMLElement) {\n    const existingContainer = this.getContainer();\n\n    if (existingContainer) {\n      this._insertAfter(container, existingContainer);\n    } else {\n      wrapper.appendChild(container);\n    }\n  }\n\n  /**\n   * Get `[data-barba-namespace]`.\n   */\n  public getNamespace(scope: Scope = document): string | null {\n    const ns = scope.querySelector(\n      `[${this._attr.prefix}-${this._attr.namespace}]`\n    );\n\n    return ns\n      ? ns.getAttribute(`${this._attr.prefix}-${this._attr.namespace}`)\n      : null;\n  }\n\n  /**\n   * Get URL from `href` value.\n   */\n  public getHref(el: Link): string | null {\n    // HTML tagName is UPPERCASE, xhtml tagName keeps existing case.\n    if (el.tagName && el.tagName.toLowerCase() === 'a') {\n      // HTMLAnchorElement, full URL available\n      if (typeof el.href === 'string') {\n        return el.href;\n      }\n\n      // Probably a SVGAElement\n      const href = el.getAttribute('href') || el.getAttribute('xlink:href');\n\n      /* istanbul ignore else */\n      if (href) {\n        // When link comes from SVG, `href` returns an object, not a string.\n        const attr: string =\n          ((href as unknown) as SVGAnimatedString).baseVal || href;\n\n        return this.resolveUrl(attr);\n      }\n    }\n    return null;\n  }\n\n  // Copyright 2014 Simon Lydell\n  // X11 (MIT) Licensed. (See LICENSE\n  // https://github.com/lydell/resolve-url/blob/master/resolve-url.js\n  /* istanbul ignore next */\n  public resolveUrl(...urls: string[]) {\n    const numUrls = urls.length;\n\n    if (numUrls === 0) {\n      throw new Error('resolveUrl requires at least one argument; got none.');\n    }\n\n    const base = document.createElement('base');\n    base.href = arguments[0];\n\n    if (numUrls === 1) {\n      return base.href;\n    }\n\n    const head = document.getElementsByTagName('head')[0];\n    head.insertBefore(base, head.firstChild);\n\n    const a = document.createElement('a');\n    let resolved;\n\n    for (let index = 1; index < numUrls; index++) {\n      a.href = arguments[index];\n      resolved = a.href;\n      base.href = resolved;\n    }\n\n    head.removeChild(base);\n\n    return resolved;\n  }\n\n  /**\n   * Insert node after another node.\n   */\n  private _insertAfter(newNode: Node, referenceNode: Node) {\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n  }\n}\n\nconst dom = new Dom();\n\nexport { dom };\n","import { HistoryAction, LinkEvent, Trigger } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\n/**\n * @barba/core/utils/history\n * <br><br>\n * ## History manager.\n *\n * - Keep track of the navigation history\n *\n * @module core/utils/history\n * @preferred\n */\n\n/**\n * State item.\n *\n * @property from\n * @property index\n */\ninterface IHistoryItem {\n  /** origin */\n  from: string;\n  /** index */\n  index: number;\n  /** states */\n  states: IStateItem[];\n}\n\n/***/\ninterface ICoords {\n  x: number;\n  y: number;\n}\n\n/**\n * History item.\n *\n * @property namespace\n * @property scroll\n * @property URL\n */\ninterface IStateItem {\n  /** namespace */\n  ns: string | undefined;\n  /** Scroll position */\n  scroll: ICoords;\n  /** URL */\n  url: string;\n}\n\nexport class History {\n  private _session: string;\n  private _states: IStateItem[] = [];\n  private _pointer = -1;\n\n  /**\n   * Init with first state.\n   */\n  public init(url: string, ns: string): void {\n    this._session = 'barba';\n    const index = 0;\n\n    const state: IStateItem = {\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    this._states.push(state);\n    this._pointer = index;\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index,\n      states: [...this._states],\n    };\n\n    window.history && window.history.replaceState(item, '', url);\n  }\n\n  public change(\n    url: string,\n    trigger: Trigger,\n    e?: LinkEvent | PopStateEvent\n  ): Trigger {\n    if (e && (e as PopStateEvent).state) {\n      // If popstate, move to existing state\n      // and get back/forward direction.\n      const { state }: { state: IHistoryItem } = e as PopStateEvent;\n      const { index } = state;\n      const diff = this._pointer - index;\n\n      trigger = this._getDirection(diff);\n\n      // Work with previous states\n      this.replace(state.states);\n      this._pointer = index;\n    } else {\n      // Add new state\n      this.add(url, trigger);\n    }\n\n    return trigger;\n  }\n\n  /**\n   * Add a new state.\n   */\n  public add(url: string, trigger: Trigger): void {\n    // If no state, it will be updated later.\n    const ns = 'tmp';\n    const index = this.size;\n    const action = this._getAction(trigger);\n    const state: IStateItem = {\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    this._states.push(state);\n    this._pointer = index;\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index,\n      states: [...this._states],\n    };\n\n    switch (action) {\n      case 'push':\n        window.history && window.history.pushState(item, '', url);\n        break;\n      case 'replace':\n        window.history && window.history.replaceState(item, '', url);\n        break;\n      /* istanbul ignore next */\n      default:\n    }\n  }\n\n  /**\n   * Update state.\n   */\n  public update(data: any, i?: number): void {\n    const index = i || this._pointer;\n    const existing = this.get(index);\n    const state: IStateItem = {\n      ...existing,\n      ...data,\n    };\n\n    this.set(index, state);\n  }\n\n  /**\n   * Remove last state.\n   */\n  public remove(i?: number): void {\n    if (i) {\n      this._states.splice(i, 1);\n    } else {\n      this._states.pop();\n    }\n\n    this._pointer--;\n  }\n\n  /**\n   * Delete all states.\n   */\n  public clear(): void {\n    this._states = [];\n    this._pointer = -1;\n  }\n\n  /**\n   * Replace all states.\n   */\n  public replace(newStates: IStateItem[]): void {\n    this._states = newStates;\n  }\n\n  /**\n   * Get state by index.\n   */\n  public get(index: number) {\n    return this._states[index];\n  }\n\n  /**\n   * Set state by index.\n   */\n  public set(i: number, state: IStateItem) {\n    return (this._states[i] = state);\n  }\n\n  /**\n   * Get the current state.\n   */\n  get current(): IStateItem {\n    return this._states[this._pointer];\n  }\n\n  /**\n   * Get the last state (top of the history stack).\n   */\n  get state(): IStateItem {\n    return this._states[this._states.length - 1];\n  }\n\n  /**\n   * Get the previous state.\n   */\n  get previous(): IStateItem | null {\n    return this._pointer < 1 ? null : this._states[this._pointer - 1];\n  }\n\n  /**\n   * Get the state size.\n   */\n  get size(): number {\n    return this._states.length;\n  }\n\n  /**\n   * Get the history action: push vs replace\n   */\n  private _getAction(trigger: Trigger): HistoryAction {\n    let action: HistoryAction = 'push';\n\n    // Manage `data-barba-history` attribute\n    // to get the right action (push vs replace).\n    const el = trigger as HTMLAnchorElement;\n    const attr = `${schemaAttribute.prefix}-${schemaAttribute.history}`;\n\n    if (el.hasAttribute && el.hasAttribute(attr)) {\n      action = el.getAttribute(attr) as HistoryAction;\n    }\n\n    return action;\n  }\n\n  /**\n   * Get the direction of popstate change\n   */\n  private _getDirection(diff: number): Trigger {\n    // Check if \"session switch\"\n    if (Math.abs(diff) > 1) {\n      // Ex 6-0 > 0 -> forward, 0-6 < 0 -> back\n      return diff > 0 ? 'forward' : 'back';\n    } else {\n      if (diff === 0) {\n        return 'popstate';\n      } else {\n        // Ex 6-5 > 0 -> back, 5-6 < 0 -> forward\n        return diff > 0 ? 'back' : 'forward';\n      }\n    }\n  }\n}\n\nconst history = new History();\n\nexport { history };\n","/**\n * @barba/core/utils/helpers\n * <br><br>\n * ## Helpers\n *\n * - Update next page data\n *\n * @module core/utils/helpers\n * @preferred\n */\n\n/***/\n\n// Third-party\nimport ptr from 'path-to-regexp';\n// Definitions\nimport { ITransitionData } from '../defs';\n// Utils\nimport { dom } from './dom';\nimport { history } from './history';\n\n/**\n * Update `data.next`, the title and the history\n */\nexport const update = async (\n  page: Promise<string | void>,\n  data: ITransitionData\n): Promise<void> => {\n  // If not already updated\n  if (!data.next.html) {\n    const html = await page;\n    const { next } = data;\n\n    if (html) {\n      // see: https://github.com/barbajs/barba/issues/362\n      // const nextDocument = dom.toDocument(html);\n      const nextDocument = dom.toElement(html);\n\n      next.namespace = dom.getNamespace(nextDocument);\n      next.container = dom.getContainer(nextDocument);\n      // see https://github.com/barbajs/barba/issues/362\n      // next.html = dom.getHtml(nextDocument);\n      // next.html = nextDocument.innerHTML;\n      next.html = html;\n\n      // Update history namespace (not available when initially set)\n      history.update({ ns: next.namespace });\n\n      // Update title.\n      const { title } = dom.toDocument(html);\n\n      document.title = title;\n    }\n  }\n};\n\n/**\n * Next tick\n */\nexport const nextTick = () =>\n  new Promise(resolve => {\n    window.requestAnimationFrame(resolve);\n    // DEV: same result?\n    // setTimeout(resolve, 0);\n  });\n\n/**\n * Turn a route string such as `/user/:name` into a regular expression.\n *\n * Used for:\n *\n * - routes to ignore\n * - route transition resolution\n *\n * @see https://www.npmjs.com/package/path-to-regexp\n */\nconst pathToRegexp = ptr;\n\nexport { pathToRegexp };\n","/**\n * @barba/core/utils/url\n * <br><br>\n * ## URL utils.\n *\n * - Collect and structure informations from URLs\n *\n * @module core/utils/url\n */\n\n/***/\n\n// Definitions\nimport { IGenericObject, IUrlBase } from '../defs';\n\n/**\n * Get location href.\n */\nexport const getHref = () => window.location.href;\n\n/**\n * Get location origin.\n */\nexport const getOrigin = () => window.location.origin;\n\n/**\n * Get port based on URL or location.\n */\nexport const getPort = (url: string = window.location.href) => parse(url).port;\n\n/**\n * Get path from URL.\n */\nexport const getPath = (url: string = window.location.href) => parse(url).path;\n\n/**\n * Get query object from URL.\n */\n// export const getQuery = (url: string): IGenericObject => parse(url).query;\n\n/**\n * Get hash from URL.\n */\n// export const getHash = (url: string): string => parse(url).hash;\n\n/**\n * Parse URL for path, query and hash and more.\n */\nexport const parse = (url: string): IUrlBase => {\n  // Port\n  let port;\n  const matches = url.match(/:\\d+/);\n\n  if (matches === null) {\n    if (/^http/.test(url)) {\n      port = 80;\n    }\n\n    if (/^https/.test(url)) {\n      port = 443;\n    }\n  } else {\n    const portString = matches[0].substring(1);\n\n    port = parseInt(portString, 10);\n  }\n\n  // Path\n  let path = url.replace(getOrigin(), '');\n  let hash;\n  let query = {};\n\n  // Hash\n  const hashIndex = path.indexOf('#');\n\n  if (hashIndex >= 0) {\n    hash = path.slice(hashIndex + 1);\n    path = path.slice(0, hashIndex);\n  }\n\n  // Query\n  const queryIndex = path.indexOf('?');\n\n  if (queryIndex >= 0) {\n    query = parseQuery(path.slice(queryIndex + 1));\n    path = path.slice(0, queryIndex);\n  }\n\n  return {\n    hash,\n    path,\n    port,\n    query,\n  };\n};\n\n/**\n * Parse a query string to object.\n */\nexport const parseQuery = (str: string) =>\n  str.split('&').reduce((acc: IGenericObject, el: string) => {\n    const [key, value] = el.split('=');\n\n    acc[key] = value;\n\n    return acc;\n  }, {});\n\n/**\n * Clean URL, remove \"hash\" and/or \"trailing slash\".\n */\nexport const clean = (url: string = window.location.href) =>\n  url.replace(/(\\/#.*|\\/|#.*)$/, '');\n","/**\n * @barba/core/utils/request\n * <br><br>\n * ## Fetch pages for transitions.\n *\n * - Includes timeout\n * - Uses Fetch API\n * - Handles errors\n *\n * @module core/utils/request\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { RequestError } from '../defs';\n\n/**\n * Init a page request.\n * Fetch the page and returns a promise with the text content.\n */\nfunction request(\n  url: string,\n  ttl: number = 2e3,\n  requestError: RequestError\n): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (xhr.status === 200) {\n          resolve(xhr.responseText);\n        } else if (xhr.status) {\n          // HTTP code is not 200, reject with response.\n          const res = {\n            status: xhr.status,\n            statusText: xhr.statusText,\n          };\n          requestError(url, res);\n          reject(res);\n        }\n      }\n    };\n    xhr.ontimeout = () => {\n      const err = new Error(`Timeout error [${ttl}]`);\n      requestError(url, err);\n      reject(err);\n    };\n    xhr.onerror = () => {\n      const err = new Error(`Fetch error`);\n      requestError(url, err);\n      reject(err);\n    };\n\n    xhr.open('GET', url);\n    xhr.timeout = ttl;\n    xhr.setRequestHeader(\n      'Accept',\n      'text/html,application/xhtml+xml,application/xml'\n    );\n    xhr.setRequestHeader('x-barba', 'yes');\n    xhr.send();\n  });\n}\n\nexport { request };\n","module.exports = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","import isPromise from 'is-promise';\n\n// https://github.com/SBoudrias/run-async\n/* istanbul ignore next */\nexport function runAsync(\n  func: (...args: any[]) => void | Promise<any>,\n  ctx: any = {}\n): (...args: any[]) => Promise<any> {\n  return (...args: any[]) => {\n    let async = false;\n\n    const promise = new Promise((resolve, reject) => {\n      // Add async to context\n      ctx.async = () => {\n        async = true;\n\n        return (err: any, value: any) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(value);\n          }\n        };\n      };\n\n      const answer = func.apply(ctx, args as []);\n\n      if (!async) {\n        if (isPromise(answer)) {\n          (answer as Promise<any>).then(resolve, reject);\n        } else {\n          resolve(answer);\n        }\n      }\n    });\n\n    return promise;\n  };\n}\n","/**\n * @barba/core/modules/hooks\n * <br><br>\n * ## Hooks manager.\n *\n * - Register and trigger hooks\n *\n * Hooks can be easily registered:\n *\n * ```js\n * hooks.leave(callback, context);\n * ```\n *\n * @module core/modules/hooks\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HookFunction, HookMethods, HooksAll } from './defs';\n// Modules\nimport { Logger } from './modules/Logger';\n// Utils\nimport { runAsync } from './utils';\n// Types\ninterface IHookInfos {\n  ctx: any;\n  fn: HookFunction;\n}\n\nexport class Hooks extends HookMethods {\n  /**\n   * Allow the use of `hooks[name](cb, ctx)`.\n   */\n  [key: string]: any;\n  // [key in HooksAll]?: any;\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All available hooks.\n   *\n   * See [[HooksAll]]\n   */\n  // TODO: get hooks from defs (DRY)?\n  public all: HooksAll[] = [\n    'ready',\n    'page',\n    'reset',\n    'currentAdded',\n    'currentRemoved',\n    'nextAdded',\n    'nextRemoved',\n    'beforeOnce',\n    'once',\n    'afterOnce',\n    'before',\n    'beforeLeave',\n    'leave',\n    'afterLeave',\n    'beforeEnter',\n    'enter',\n    'afterEnter',\n    'after',\n  ];\n  /**\n   * Registered hooks.\n   *\n   * - Unique hook name\n   * - Associated data set(s) (callback + context)\n   */\n  public registered: Map<HooksAll, Set<IHookInfos>> = new Map();\n\n  constructor() {\n    super();\n    this.init();\n  }\n\n  public init() {\n    this.registered.clear();\n    this.all.forEach(hook => {\n      if (!this[hook]) {\n        this[hook] = (fn: HookFunction, ctx?: any) => {\n          if (!this.registered.has(hook)) {\n            this.registered.set(hook, new Set());\n          }\n          const set = this.registered.get(hook);\n\n          set.add({\n            ctx: ctx || {},\n            fn,\n          });\n        };\n      }\n    });\n  }\n\n  /**\n   * Do hook.\n   *\n   * Trigger registered hooks.\n   */\n  public do(name: HooksAll, ...args: any): Promise<any> {\n    if (this.registered.has(name)) {\n      // Let's start a chain of promises\n      let chain = Promise.resolve();\n\n      this.registered.get(name).forEach(hook => {\n        // Chain async hooks promisified\n        chain = chain.then(() => runAsync(hook.fn, hook.ctx)(...args));\n      });\n\n      return chain.catch(error => {\n        this.logger.debug(`Hook error [${name}]`);\n        this.logger.error(error);\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  public clear(): void {\n    this.all.forEach(hook => {\n      delete this[hook];\n    });\n\n    this.init();\n  }\n\n  /**\n   * Help, print available and registered hooks.\n   */\n  public help(): void {\n    this.logger.info(`Available hooks: ${this.all.join(',')}`);\n    const registered: string[] = [];\n    this.registered.forEach((value, key) => registered.push(key));\n    this.logger.info(`Registered hooks: ${registered.join(',')}`);\n  }\n}\n\nconst hooks = new Hooks();\n\nexport { hooks };\n","/**\n * @barba/core/modules/ignore\n * <br><br>\n * ## Manage ignore options.\n *\n * - cache\n * - prefetch\n *\n * @module core/modules/ignore\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption } from '../defs';\n// Utils\nimport { pathToRegexp } from '../utils/helpers';\nimport { parse } from '../utils/url';\n\nexport class Ignore {\n  private _ignoreAll: boolean;\n  private _ignoreRegexes: RegExp[] = [];\n\n  constructor(ignore: IgnoreOption) {\n    if (typeof ignore === 'boolean') {\n      this._ignoreAll = ignore;\n    } else {\n      const paths = Array.isArray(ignore) ? ignore : [ignore];\n\n      this._ignoreRegexes = paths.map(p => pathToRegexp(p));\n    }\n  }\n\n  public checkHref(href: string): boolean {\n    if (typeof this._ignoreAll === 'boolean') {\n      return this._ignoreAll;\n    }\n\n    const { path } = parse(href);\n\n    return this._ignoreRegexes.some(regex => regex.exec(path) !== null);\n  }\n}\n","/**\n * @barba/core/modules/cache\n * <br><br>\n * ## Cache for storing URL / HTML.\n *\n * @module core/modules/cache\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { CacheAction, CacheRequest, ICacheData, IgnoreOption } from '../defs';\n// Modules\nimport { Ignore } from './Ignore';\n\nexport class Cache extends Ignore {\n  private _state: Map<string, ICacheData> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n  }\n\n  /**\n   * Set value to cache\n   */\n  public set(\n    href: string,\n    request: CacheRequest,\n    action: CacheAction\n  ): ICacheData {\n    this._state.set(href, {\n      action,\n      request,\n    });\n\n    return {\n      action,\n      request,\n    };\n  }\n\n  /**\n   * Get data from cache\n   */\n  public get(href: string): ICacheData {\n    return this._state.get(href);\n  }\n\n  /**\n   * Get request from cache\n   */\n  public getRequest(href: string): CacheRequest {\n    return this._state.get(href).request;\n  }\n\n  /**\n   * Get action from cache\n   */\n  public getAction(href: string): CacheAction {\n    return this._state.get(href).action;\n  }\n\n  /**\n   * Check if value exists into cache\n   */\n  public has(href: string): boolean {\n    /* istanbul ignore else */\n    if (this.checkHref(href)) {\n      return false;\n    }\n    return this._state.has(href);\n  }\n\n  /**\n   * Delete value from cache\n   */\n  public delete(href: string): boolean {\n    return this._state.delete(href);\n  }\n\n  /**\n   * Update cache value\n   */\n  public update(href: string, data: ICacheData): ICacheData {\n    const state = {\n      ...this._state.get(href),\n      ...data,\n    };\n    this._state.set(href, state);\n\n    return state;\n  }\n}\n","/**\n * @barba/core/modules/prevent\n * <br><br>\n * ## Prevent checks.\n *\n * - Gathers all the tests that allow Barba to work and play transitions\n *\n * @module core/modules/prevent\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption, Link, PreventCheck } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n// Utils\nimport { url } from '../utils';\n// Modules\nimport { Ignore } from './Ignore';\n\n/**\n * Make sure the browser supports `history.pushState`.\n */\nconst pushState: PreventCheck = () => !window.history.pushState;\n\n/**\n * Make sure there is an `el` and `href`.\n */\nconst exists: PreventCheck = ({ el, href }) => !el || !href;\n\n/**\n * If the user is pressing ctrl + click, the browser will open a new tab.\n */\nconst newTab: PreventCheck = ({ event }) =>\n  (event as KeyboardEvent).which > 1 ||\n  (event as KeyboardEvent).metaKey ||\n  (event as KeyboardEvent).ctrlKey ||\n  (event as KeyboardEvent).shiftKey ||\n  (event as KeyboardEvent).altKey;\n\n/**\n * If the link has `_blank` target.\n */\nconst blank: PreventCheck = ({ el }) =>\n  el.hasAttribute('target') && (el as Link).target === '_blank';\n\n/**\n * If the domain is the same (in order to avoid pushState cross origin security problem).\n * Note: SVGAElement do not have `protocol` neither `hostname` properties.\n */\nconst corsDomain: PreventCheck = ({ el }) =>\n  ((el as HTMLAnchorElement).protocol !== undefined &&\n    window.location.protocol !== (el as HTMLAnchorElement).protocol) ||\n  ((el as HTMLAnchorElement).hostname !== undefined &&\n    window.location.hostname !== (el as HTMLAnchorElement).hostname);\n\n/**\n * If the port is the same.\n * Note: SVGAElement do not have `port` property.\n */\nconst corsPort: PreventCheck = ({ el }) =>\n  (el as HTMLAnchorElement).port !== undefined &&\n  url.getPort() !== url.getPort((el as HTMLAnchorElement).href);\n\n/**\n * If the link has download attribute.\n */\nconst download: PreventCheck = ({ el }) =>\n  el.getAttribute && typeof el.getAttribute('download') === 'string';\n\n/**\n * If the links contains [data-barba-prevent] or [data-barba-prevent=\"self\"].\n */\nconst preventSelf: PreventCheck = ({ el }) =>\n  el.hasAttribute(`${schemaAttribute.prefix}-${schemaAttribute.prevent}`);\n\n/**\n * If some link ancestor contains [data-barba-prevent=\"all\"].\n */\nconst preventAll: PreventCheck = ({ el }) =>\n  Boolean(\n    el.closest(`[${schemaAttribute.prefix}-${schemaAttribute.prevent}=\"all\"]`)\n  );\n\n/**\n * If the link is the current URL.\n *\n * > Not in the test suite.\n */\nconst sameUrl: PreventCheck = ({ href }) =>\n  url.clean(href) === url.clean() && url.getPort(href) === url.getPort();\n\nexport class Prevent extends Ignore {\n  public suite: string[] = [];\n  public tests: Map<string, PreventCheck> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n    this.init();\n  }\n\n  public init(): void {\n    // Add defaults\n    this.add('pushState', pushState);\n    this.add('exists', exists);\n    this.add('newTab', newTab);\n    this.add('blank', blank);\n    this.add('corsDomain', corsDomain);\n    this.add('corsPort', corsPort);\n    this.add('download', download);\n    this.add('preventSelf', preventSelf);\n    this.add('preventAll', preventAll);\n\n    // Outside of the test suite\n    this.add('sameUrl', sameUrl, false);\n  }\n\n  public add(name: string, check: PreventCheck, suite: boolean = true): void {\n    this.tests.set(name, check);\n    suite && this.suite.push(name);\n  }\n\n  /**\n   * Run individual test\n   */\n  public run(name: string, el: Link, event: Event, href: string): boolean {\n    return this.tests.get(name)({\n      el,\n      event,\n      href,\n    });\n  }\n\n  /**\n   * Run test suite\n   */\n  public checkLink(el: Link, event: Event, href: string): boolean {\n    return this.suite.some(name => this.run(name, el, event, href));\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\nexport class BarbaError extends Error {\n  /* istanbul ignore next */\n  constructor(\n    public error: Error,\n    public label = 'Barba error',\n    ...params: any[]\n  ) {\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    super(...params);\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    /* istanbul ignore else */\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, BarbaError);\n    }\n\n    this.name = 'BarbaError';\n  }\n}\n","/**\n * @barba/core/modules/store\n * <br><br>\n * ## Transitions store.\n *\n * - Resolve transition\n * - Manage rules\n *\n * @module core/modules/store\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  IRule,\n  IRules,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  RuleName,\n} from '../defs';\n\n// Modules\nimport { Logger } from './Logger';\n\nexport class Store {\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All registered transitions.\n   */\n  public all: ITransitionPage[] = [];\n  /**\n   * \"Page only\" registered transitions.\n   */\n  public page: ITransitionPage[] = [];\n  /**\n   * \"Once only\" registered transitions.\n   */\n  public once: ITransitionOnce[] = [];\n  /**\n   * Rules for transition resolution.\n   *\n   * Defaults:\n   *\n   * - namespace\n   * - custom\n   */\n  private _rules: IRule[] = [\n    {\n      name: 'namespace',\n      type: 'strings',\n    },\n    {\n      name: 'custom',\n      type: 'function',\n    },\n  ];\n\n  /**\n   * Init store.\n   */\n  constructor(transitions: ITransitionPage[] = []) {\n    /* istanbul ignore else */\n    if (transitions) {\n      // TODO: add check for valid transitions? criteria? (once || enter && leave)\n      this.all = this.all.concat(transitions);\n    }\n    this.update();\n  }\n\n  /**\n   * Add rule or transition.\n   */\n  public add(type: 'rule' | 'transition', data: any): void {\n    switch (type) {\n      case 'rule':\n        // TODO: check for valid rule\n        this._rules.splice(data.position || 0, 0, data.value);\n        break;\n      case 'transition':\n      default:\n        // TODO: check for valid transition\n        this.all.push(data);\n        break;\n    }\n\n    this.update();\n  }\n\n  /**\n   * Resolve transition.\n   */\n  public resolve(\n    data: ITransitionData,\n    filters: ITransitionFilters = {}\n  ): ITransitionOnce | ITransitionPage {\n    // Filter on \"once\"\n    let transitions = filters.once ? this.once : this.page;\n\n    // Filter on \"self\"\n    if (filters.self) {\n      transitions = transitions.filter(t => t.name && t.name === 'self');\n    } else {\n      transitions = transitions.filter(t => !t.name || t.name !== 'self');\n    }\n\n    // All matching transition infos\n    const matching = new Map();\n\n    // Active = first of valid transitions\n    // sorted by directions (from/to, from || to, )\n    const active = transitions.find(t => {\n      let valid = true;\n      const match = {};\n\n      if (filters.self && t.name === 'self') {\n        return true;\n      }\n\n      // Check rules\n      this._rules.reverse().forEach(rule => {\n        if (valid) {\n          valid = this._check(t, rule, data, match);\n          // From/to check\n          if (t.from && t.to) {\n            valid =\n              this._check(t, rule, data, match, 'from') &&\n              this._check(t, rule, data, match, 'to');\n          }\n          if (t.from && !t.to) {\n            valid = this._check(t, rule, data, match, 'from');\n          }\n          if (!t.from && t.to) {\n            valid = this._check(t, rule, data, match, 'to');\n          }\n        }\n      });\n\n      matching.set(t, match);\n\n      return valid;\n    });\n\n    const activeMatch = matching.get(active);\n    const transitionType = [];\n    if (filters.once) {\n      transitionType.push('once');\n    } else {\n      transitionType.push('page');\n    }\n    if (filters.self) {\n      transitionType.push('self');\n    }\n\n    if (activeMatch) {\n      // Log resolved transition\n      const infos: any[] = [active];\n      // Log if matching criteria\n      Object.keys(activeMatch).length > 0 && infos.push(activeMatch);\n\n      this.logger.info(\n        `Transition found [${transitionType.join(',')}]`,\n        ...infos\n      );\n    } else {\n      this.logger.info(`No transition found [${transitionType.join(',')}]`);\n    }\n\n    return active;\n  }\n\n  /**\n   * ### Update store.\n   *\n   * - Reorder transition by priorities\n   * - Get wait indicator\n   * - Get once transitions\n   */\n  public update(): void {\n    // Reorder by priorities\n    this.all = this.all\n      .map(t => this._addPriority(t))\n      .sort((a, b) => a.priority - b.priority)\n      .reverse()\n      .map(t => {\n        delete t.priority;\n\n        return t;\n      });\n    this.page = this.all.filter(\n      t => t.leave !== undefined || t.enter !== undefined\n    ) as ITransitionPage[];\n    this.once = this.all.filter(t => t.once !== undefined) as ITransitionOnce[];\n  }\n\n  /**\n   * ### Check if transition apply.\n   *\n   * Based on rule, page data and optional direction:\n   *\n   * 1. transition has no rule \"property\":\n   *    - always returns true\n   * 2. transition has rule \"property\":\n   *     - \"strings\" should be present on both side (transition + page) and match\n   *     - \"function\" should return true\n   */\n  private _check(\n    transition: ITransitionPage,\n    rule: IRule,\n    data: ITransitionData,\n    match: any,\n    direction?: 'from' | 'to'\n  ): boolean {\n    let isValid = true;\n    let hasMatch = false;\n    const t = transition;\n    const { name, type } = rule;\n    const strRule = name as IRules['strings'];\n    const objRule = name as IRules['object'];\n    const fnName = name as IRules['function'];\n    const base = direction ? t[direction] : t; // = t || t.from || t.to\n    const page = direction === 'to' ? data.next : data.current; // = current || next\n    const exist = direction ? base && base[name] : base[name];\n\n    // If transition rule exists\n    if (exist) {\n      switch (type) {\n        case 'strings':\n        default: {\n          // Array support\n          const names: string[] = Array.isArray(base[strRule])\n            ? (base[strRule] as string[])\n            : [base[strRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[strRule] && names.indexOf(page[strRule]) !== -1) {\n            hasMatch = true;\n          }\n          // If transition prop is different from current, not valid\n          if (names.indexOf(page[strRule]) === -1) {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'object': {\n          // Array support\n          const names: string[] = Array.isArray(base[objRule])\n            ? (base[objRule] as string[])\n            : [base[objRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[objRule]) {\n            if (\n              page[objRule].name &&\n              names.indexOf(page[objRule].name) !== -1\n            ) {\n              hasMatch = true;\n            }\n            // If transition prop is different from current, not valid\n            if (names.indexOf(page[objRule].name) === -1) {\n              isValid = false;\n            }\n          } else {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'function':\n          if (base[fnName](data)) {\n            hasMatch = true;\n          } else {\n            isValid = false;\n          }\n          break;\n      }\n\n      if (hasMatch) {\n        if (direction) {\n          match[direction] = match[direction] || {};\n          match[direction][name] = t[direction][name];\n        } else {\n          match[name] = t[name];\n        }\n      }\n    }\n\n    return isValid;\n  }\n\n  /**\n   * ### Calculate transition priority.\n   *\n   * Based on:\n   *\n   * - rule \"position\" (index) give tens, hundreds, thousands, \n   * - from/to properties give units (0, 1 or 2)\n   */\n  private _calculatePriority(\n    t: ITransitionPage,\n    ruleName: RuleName,\n    ruleIndex: number\n  ): number {\n    let priority = 0;\n\n    if (\n      t[ruleName] ||\n      (t.from && t.from[ruleName]) ||\n      (t.to && t.to[ruleName])\n    ) {\n      priority += Math.pow(10, ruleIndex);\n\n      if (t.from && t.from[ruleName]) {\n        priority += 1;\n      }\n      if (t.to && t.to[ruleName]) {\n        priority += 2;\n      }\n    }\n\n    return priority;\n  }\n\n  private _addPriority(t: ITransitionPage): ITransitionPage {\n    t.priority = 0;\n    let priority = 0;\n\n    this._rules.forEach((rule, i) => {\n      const { name } = rule;\n      const index = i + 1;\n\n      priority += this._calculatePriority(t, name, index);\n    });\n\n    t.priority = priority;\n\n    return t;\n  }\n}\n","/**\n * @barba/core/modules/transitions\n * <br><br>\n * ## Transitions manager.\n *\n * - Handle hooks and transition lifecycle\n *\n * @module core/modules/transitions\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  HooksTransition,\n  HooksTransitionMap,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  Wrapper,\n} from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { dom, helpers, runAsync } from '../utils';\n// Modules\nimport { BarbaError } from './Error';\nimport { Logger } from './Logger';\nimport { Store } from './Store';\n\nexport class Transitions {\n  public logger: Logger = new Logger('@barba/core');\n  public store: Store;\n  private _running: boolean = false;\n\n  constructor(transitions: ITransitionPage[] = []) {\n    this.store = new Store(transitions);\n  }\n\n  /**\n   * Get resolved transition\n   *\n   * - based on data\n   */\n  public get(\n    data: ITransitionData,\n    filters?: ITransitionFilters\n  ): ITransitionOnce | ITransitionPage {\n    return this.store.resolve(data, filters);\n  }\n\n  /**\n   * Animation running status.\n   */\n  get isRunning(): boolean {\n    return this._running;\n  }\n  set isRunning(status: boolean) {\n    this._running = status;\n  }\n\n  /**\n   * Check for registered once transition(s).\n   */\n  get hasOnce(): boolean {\n    return this.store.once.length > 0;\n  }\n\n  /**\n   * Check for registered self transition.\n   */\n  get hasSelf(): boolean {\n    return this.store.all.some(t => t.name === 'self');\n  }\n\n  /**\n   * ### Wait indicator.\n   *\n   * Tells Barba to get next page data<br>\n   * before starting the resolution<br>\n   * because some registered transitions need<br>\n   * next page data to be resolved (eg: `sync: true`, `to: { namespace }`, )\n   */\n  get shouldWait(): boolean {\n    return this.store.all.some(t => (t.to && !t.to.route) || t.sync);\n  }\n\n  /**\n   * ### Do \"once\" transition.\n   *\n   * Hooks: see [[HooksOnce]].\n   */\n  public async doOnce({\n    data,\n    transition,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionOnce;\n  }) {\n    const t = transition || {};\n    this._running = true;\n\n    try {\n      await this._doAsyncHook('beforeOnce', data, t);\n      await this.once(data, t);\n      await this._doAsyncHook('afterOnce', data, t);\n    } catch (error) {\n      this._running = false;\n\n      this.logger.debug('Transition error [before/after/once]');\n      this.logger.error(error);\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * ### Do \"page\" transition.\n   *\n   * Hooks: see [[HooksPage]].\n   *\n   * `sync: false` (default) order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. leave\n   * 4. afterLeave\n   * 5. beforeEnter\n   * 6. enter\n   * 7. afterEnter\n   * 8. after\n   *\n   * `sync: true` order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. beforeEnter\n   * 4. leave & enter\n   * 5. afterLeave\n   * 6. afterEnter\n   * 7. after\n   */\n  public async doPage({\n    data,\n    transition,\n    page,\n    wrapper,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionPage;\n    page: Promise<string | void>;\n    wrapper: Wrapper;\n  }) {\n    const t = transition || {};\n    const sync = t.sync === true || false;\n\n    this._running = true;\n\n    try {\n      // Check sync mode, wait for next content\n      if (sync) {\n        await helpers.update(page, data);\n      }\n\n      await this._doAsyncHook('before', data, t);\n\n      if (sync) {\n        try {\n          await this.add(data, wrapper);\n          // Before actions\n          await this._doAsyncHook('beforeLeave', data, t);\n          await this._doAsyncHook('beforeEnter', data, t);\n\n          // Actions\n          await Promise.all([this.leave(data, t), this.enter(data, t)]);\n\n          // After actions\n          await this._doAsyncHook('afterLeave', data, t);\n          await this._doAsyncHook('afterEnter', data, t);\n        } catch (error) {\n          // this.logger.debug('Transition error [sync]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(error, 'Transition error [sync]');\n          }\n        }\n      } else {\n        let leaveResult: any = false;\n\n        try {\n          // Leave\n          await this._doAsyncHook('beforeLeave', data, t);\n\n          leaveResult = await Promise.all([\n            this.leave(data, t),\n            helpers.update(page, data),\n          ]).then(values => values[0]);\n\n          await this._doAsyncHook('afterLeave', data, t);\n\n          // TODO: check here \"valid\" page result\n          // before going further\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/leave]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              error,\n              'Transition error [before/after/leave]'\n            );\n          }\n        }\n\n        try {\n          // Enter\n          /* istanbul ignore else */\n          if (leaveResult !== false) {\n            await this.add(data, wrapper);\n\n            await this._doAsyncHook('beforeEnter', data, t);\n            await this.enter(data, t, leaveResult);\n            await this._doAsyncHook('afterEnter', data, t);\n          }\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/enter]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              error,\n              'Transition error [before/after/enter]'\n            );\n          }\n        }\n      }\n\n      // Remove current contaienr\n      await this.remove(data);\n\n      await this._doAsyncHook('after', data, t);\n    } catch (error) {\n      this._running = false;\n\n      // If \"custom/specific\" barba error.\n      /* istanbul ignore else */\n      if (error.name && error.name === 'BarbaError') {\n        this.logger.debug(error.label);\n        this.logger.error(error.error);\n\n        throw error;\n      }\n\n      this.logger.debug('Transition error [page]');\n      this.logger.error(error);\n\n      throw error;\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * Once hook + async \"once\" transition.\n   */\n  public async once(data: ITransitionData, t: ITransitionOnce): Promise<void> {\n    await hooks.do('once', data, t);\n\n    return t.once ? runAsync(t.once, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Leave hook + async \"leave\" transition.\n   */\n  public async leave(data: ITransitionData, t: ITransitionPage): Promise<any> {\n    await hooks.do('leave', data, t);\n\n    return t.leave ? runAsync(t.leave, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Enter hook + async \"enter\" transition.\n   */\n  public async enter(\n    data: ITransitionData,\n    t: ITransitionPage,\n    leaveResult?: any\n  ): Promise<void> {\n    await hooks.do('enter', data, t);\n\n    return t.enter\n      ? runAsync(t.enter, t)(data, leaveResult)\n      : Promise.resolve();\n  }\n\n  /**\n   * Add next container.\n   */\n  public async add(data: ITransitionData, wrapper: Wrapper): Promise<void> {\n    dom.addContainer(data.next.container, wrapper);\n    hooks.do('nextAdded', data);\n  }\n\n  /**\n   * Remove current container.\n   */\n  public async remove(data: ITransitionData): Promise<void> {\n    dom.removeContainer(data.current.container);\n    hooks.do('currentRemoved', data);\n  }\n\n  private _isTransitionError(error: any) {\n    if (error.message) {\n      // Errors from request\n      return !/Timeout error|Fetch error/.test(error.message);\n    }\n\n    if (error.status) {\n      // Errors from request\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Do hooks + async transition methods.\n   */\n  private async _doAsyncHook(\n    hook: HooksTransition,\n    data: ITransitionData,\n    t: HooksTransitionMap\n  ): Promise<void> {\n    await hooks.do(hook, data, t);\n\n    return t[hook] ? runAsync(t[hook], t)(data) : Promise.resolve();\n  }\n}\n","/**\n * @barba/core/modules/views\n * <br><br>\n * ## Views manager.\n *\n * @module core/modules/views\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HooksView, IView, IViewData } from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { runAsync } from '../utils';\n// Types\ntype Hook = (data: IViewData) => Promise<void>;\n\nexport class Views {\n  /**\n   * Available hook names for views.\n   */\n  public names: HooksView[] = [\n    'beforeLeave',\n    'afterLeave',\n    'beforeEnter',\n    'afterEnter',\n  ];\n  /**\n   * Registered views by namespace.\n   */\n  public byNamespace: Map<string, IView> = new Map();\n\n  /**\n   * Init views.\n   */\n  constructor(views: IView[]) {\n    if (views.length === 0) {\n      return;\n    }\n\n    // TODO: add check\n    // for valid views? criteria? (namespace property, string ?)\n    // or duplicate\n    views.forEach(view => {\n      this.byNamespace.set(view.namespace, view);\n    });\n\n    this.names.forEach(name => {\n      hooks[name](this._createHook(name));\n    });\n  }\n\n  /**\n   * Create the hook method.\n   *\n   * - get view based on namespace\n   * - execute callback with transition data\n   */\n  private _createHook(name: HooksView): Hook {\n    return data => {\n      const { namespace } = name.match(/enter/i) ? data.next : data.current;\n      const view = this.byNamespace.get(namespace);\n\n      // TODO: manage self\n      // if (view && data.trigger !== 'self') {\n      if (view && view[name]) {\n        return runAsync(view[name], view)(data);\n      }\n\n      return Promise.resolve();\n    };\n  }\n}\n","// Element.prototype.matches polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    (Element as any).prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n}\n\n// Element.prototype.closest polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function closest(s: string) {\n    let el = this;\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = (el.parentElement || el.parentNode) as Element;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}\n","/**\n * @module core/schemas\n */\n\n// Definitions\nimport { ISchemaPage } from '../defs';\n\n/**\n * See [[ISchemaPage]]\n */\nexport const schemaPage: ISchemaPage = {\n  container: null,\n  html: '',\n  namespace: '',\n  url: {\n    hash: '',\n    href: '',\n    path: '',\n    port: null,\n    query: {},\n  },\n};\n","/**\n * @barba/core\n * <br><br>\n * ## Barba core object\n *\n * Main methods:\n *\n * - `.init()` for initialization with options\n * - `.use()` for plugins\n *\n * @module core\n */\n\n/***/\n\nimport { version } from '../package.json';\n// Definitions\nimport {\n  IBarbaOptions,\n  IBarbaPlugin,\n  IgnoreOption,\n  ISchemaPage,\n  ITransitionData,\n  ITransitionOnce,\n  ITransitionPage,\n  Link,\n  LinkEvent,\n  RequestCustomError,\n  RequestErrorOrResponse,\n  SchemaAttributeValues,\n  Trigger,\n  Wrapper,\n} from './defs';\n// Hooks\nimport { hooks } from './hooks';\n// Modules\nimport { Cache } from './modules/Cache';\nimport { Logger } from './modules/Logger';\nimport { Prevent } from './modules/Prevent';\nimport { Transitions } from './modules/Transitions';\nimport { Views } from './modules/Views';\n// Polyfills\nimport './polyfills';\n// Schemas\nimport { schemaAttribute } from './schemas/attribute';\nimport { schemaPage } from './schemas/page';\n// Utils\nimport { dom, helpers, history, request, url } from './utils';\n\nexport class Core {\n  /**\n   * Version.\n   */\n  public version: string = version;\n  /**\n   * Schemas.\n   */\n  public schemaPage: ISchemaPage = schemaPage;\n  /**\n   * Logger class, allows plugins to create Logger.\n   */\n  public Logger: typeof Logger = Logger;\n  /**\n   * Barba logger.\n   */\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * Plugins.\n   */\n  public plugins: Array<IBarbaPlugin<any>> = [];\n  /**\n   * Options\n   */\n  public timeout: number;\n  public cacheIgnore: IgnoreOption;\n  public prefetchIgnore: IgnoreOption;\n  public preventRunning: boolean;\n  /**\n   * Hooks\n   */\n  public hooks = hooks;\n  /**\n   * Modules.\n   */\n  // public history: History;\n  public cache: Cache;\n  public prevent: Prevent;\n  public transitions: Transitions;\n  public views: Views;\n  /**\n   * Utils.\n   */\n  public dom = dom;\n  public helpers = helpers;\n  public history = history;\n  public request = request;\n  public url = url;\n\n  private _data: ITransitionData;\n  private _requestCustomError: RequestCustomError;\n  private _wrapper: Wrapper;\n\n  /**\n   * ### Init plugin with options.\n   *\n   * See [[IBarbaPlugin]] for more details.\n   */\n  public use<T>(plugin: IBarbaPlugin<T>, options?: T): void {\n    const installedPlugins = this.plugins;\n\n    // Plugin installation\n    if (installedPlugins.indexOf(plugin) > -1) {\n      this.logger.warn(`Plugin [${plugin.name}] already installed.`);\n\n      return;\n    }\n\n    if (typeof plugin.install !== 'function') {\n      this.logger.warn(`Plugin [${plugin.name}] has no \"install\" method.`);\n\n      return;\n    }\n\n    plugin.install(this, options);\n    installedPlugins.push(plugin);\n  }\n\n  /**\n   * ### Init barba with options.\n   *\n   * See [[IBarbaOptions]] for more details.\n   *\n   * Default values are:\n   *\n   * - transitions: `[]`\n   * - views: `[]`\n   * - schema: [[SchemaAttribute]]\n   * - timeout: `2e3`\n   * - cacheIgnore: `false`\n   * - prefetchIgnore: `false`\n   * - preventRunning: `false`\n   * - prevent: `null`,\n   * - debug: `false`\n   * - logLevel: `'debug'`\n   */\n  public init(\n    /** @ignore */ {\n      transitions = [],\n      views = [],\n      schema = schemaAttribute,\n      requestError,\n      timeout = 2e3,\n      cacheIgnore = false,\n      prefetchIgnore = false,\n      /* istanbul ignore next */\n      preventRunning = false,\n      prevent: preventCustom = null,\n      debug = false,\n      logLevel = 'off',\n    }: IBarbaOptions = {}\n  ) {\n    // 0. Set logger level and print version\n    Logger.setLevel(debug === true ? 'debug' : logLevel);\n    this.logger.info(this.version);\n\n    // 1. Manage options\n    Object.keys(schema).forEach(k => {\n      const attr = k as SchemaAttributeValues;\n\n      /* istanbul ignore else */\n      if (schemaAttribute[attr]) {\n        schemaAttribute[attr] = schema[attr];\n      }\n    });\n    this._requestCustomError = requestError;\n    this.timeout = timeout;\n    this.cacheIgnore = cacheIgnore;\n    this.prefetchIgnore = prefetchIgnore;\n    this.preventRunning = preventRunning;\n\n    // 2. Get and check wrapper\n    this._wrapper = this.dom.getWrapper();\n    if (!this._wrapper) {\n      throw new Error('[@barba/core] No Barba wrapper found');\n    }\n    this._wrapper.setAttribute('aria-live', 'polite'); // A11y\n\n    // 3. Init pages (get \"current\" data)\n    this._resetData();\n\n    const { current } = this.data;\n\n    if (!current.container) {\n      throw new Error('[@barba/core] No Barba container found');\n    }\n\n    // 4. Init other modules\n    this.cache = new Cache(cacheIgnore);\n    this.prevent = new Prevent(prefetchIgnore);\n    this.transitions = new Transitions(transitions);\n    this.views = new Views(views);\n\n    // Add prevent custom\n    if (preventCustom !== null) {\n      if (typeof preventCustom !== 'function') {\n        throw new Error('[@barba/core] Prevent should be a function');\n      }\n\n      this.prevent.add('preventCustom', preventCustom);\n    }\n\n    // 5. Use \"current\" data\n    // Init history\n    this.history.init(current.url.href, current.namespace);\n    // Add to cache\n    // TODO: do not cache renderer HTML, only request results\n    // this.cache.set(current.url.href, Promise.resolve(current.html), 'init');\n\n    // 6. Bind context\n    this._onLinkEnter = this._onLinkEnter.bind(this);\n    this._onLinkClick = this._onLinkClick.bind(this);\n    this._onStateChange = this._onStateChange.bind(this);\n    this._bind();\n\n    // 7. Init plugins\n    this.plugins.forEach(plugin => plugin.init());\n\n    // 8. Barba ready\n    // Set next + trigger for once and `beforeEnter`/`afterEnter` view on page load.\n    const onceData = this.data;\n\n    onceData.trigger = 'barba';\n    onceData.next = onceData.current;\n    onceData.current = { ...this.schemaPage };\n    this.hooks.do('ready', onceData);\n\n    // 9. Finally, do once\n    this.once(onceData);\n\n    // Clean data for first barba transition\n    this._resetData();\n  }\n\n  public destroy(): void {\n    this._resetData();\n    this._unbind();\n    this.history.clear();\n    this.hooks.clear();\n    this.plugins = [];\n  }\n\n  get data(): ITransitionData {\n    return this._data;\n  }\n\n  get wrapper(): HTMLElement {\n    return this._wrapper;\n  }\n\n  /**\n   * ### Force a page change without Barba transition.\n   */\n  public force(href: string): void {\n    // DEV\n    // Can be used waiting animation cancellation management\n    window.location.assign(href);\n  }\n\n  /**\n   * ### Go for a Barba transition.\n   *\n   * Manage \"self page\" href:\n   *\n   * - if same url and no self transition, keep default behavior\n   *   - link: reload the page\n   *   - anchor: scroll to\n   * - if same url with self transition, use it\n   * - then start a page transition.\n   */\n  public go(\n    href: string,\n    trigger: Trigger = 'barba',\n    e?: LinkEvent | PopStateEvent\n  ): Promise<void> {\n    // If animation running, force reload\n    if (this.transitions.isRunning) {\n      this.force(href);\n\n      return;\n    }\n\n    let self = false;\n\n    // Check prevent sameURL against current history\n    // + state check\n    // + update trigger with direction\n    if (trigger === 'popstate') {\n      self =\n        this.history.current &&\n        this.url.getPath(this.history.current.url) === this.url.getPath(href);\n    } else {\n      self = this.prevent.run('sameUrl', null, null, href);\n    }\n\n    if (self && !this.transitions.hasSelf) {\n      return;\n    }\n\n    trigger = this.history.change(href, trigger, e);\n\n    if (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    return this.page(href, trigger, self);\n  }\n\n  /**\n   * ### Start an \"once\" transition.\n   *\n   * If some registered \"once\" transition,\n   * get the \"resolved\" transition from the store and start it.\n   */\n  public async once(readyData: ITransitionData): Promise<void> {\n    await this.hooks.do('beforeEnter', readyData);\n\n    // Check if once transition\n    if (this.transitions.hasOnce) {\n      const transition = this.transitions.get(readyData, {\n        once: true,\n      }) as ITransitionOnce;\n\n      await this.transitions.doOnce({ transition, data: readyData });\n    }\n\n    await this.hooks.do('afterEnter', readyData);\n  }\n\n  /**\n   * ### Start a \"page\" transition.\n   *\n   * 1. If no running transition, updates data with full URL properties and trigger.\n   * 2. Get page from cache or init request.\n   * 3. Wait if some transitions need \"next\" data (`sync: true`, `to: `).\n   * 4. Manage the history, depending on trigger.\n   * 5. Get \"data\" and trigger \"go\" hook.\n   * 6. Get the \"resolved\" transition from the store and start it.\n   * 7. Update title and reset data (current, next = undefined).\n   *\n   * > If \"self\", use the \"self\" transition\n   */\n  public async page(\n    href: string,\n    trigger: Trigger,\n    self: boolean\n  ): Promise<void> {\n    this.data.next.url = {\n      href,\n      ...this.url.parse(href),\n    };\n    this.data.trigger = trigger;\n\n    const page = this.cache.has(href)\n      ? this.cache.update(href, { action: 'click' }).request\n      : this.cache.set(\n          href,\n          this.request(\n            href,\n            this.timeout,\n            this.onRequestError.bind(this, trigger)\n          ),\n          'click'\n        ).request;\n\n    // Need to wait before getting the right transition\n    if (this.transitions.shouldWait) {\n      await helpers.update(page, this.data);\n    }\n\n    const data = this.data;\n\n    // Hook: between trigger and transition\n    // Can be used to resolve \"route\"\n    await this.hooks.do('page', data);\n\n    try {\n      const transition = this.transitions.get(data, {\n        once: false,\n        self,\n      }) as ITransitionPage;\n\n      await this.transitions.doPage({\n        data,\n        page,\n        transition,\n        wrapper: this._wrapper,\n      });\n\n      this._resetData();\n    } catch (error) {\n      // Something went wrong (rejected promise, error, 404, 505, other)\n      // TODO: manage / use cases for cancellation\n      // this.logger.debug('Transition cancelled');\n\n      // If transition error and no debug mode, force reload page.\n      /* istanbul ignore else */\n      if (Logger.getLevel() === 0) {\n        this.force(data.current.url.href);\n      }\n    }\n  }\n\n  /**\n   * When a request error occurs.\n   *\n   * Allow the user to manage request error. (E.g: 404)\n   */\n  public onRequestError(trigger: Trigger, ...args: any): boolean {\n    // Cancel transition status\n    this.transitions.isRunning = false;\n\n    const [href, response]: [string, RequestErrorOrResponse] = args;\n    const action = this.cache.getAction(href);\n    this.cache.delete(href);\n\n    // Custom requestError returning false will return here.\n    if (\n      this._requestCustomError &&\n      this._requestCustomError(trigger, action, href, response) === false\n    ) {\n      return false;\n    }\n\n    // Force page change\n    if (action === 'click') {\n      this.force(href);\n    }\n    return false;\n  }\n\n  /**\n   * Programmatically prefetch\n   */\n  public prefetch(href: string) {\n    // Already in cache\n    /* istanbul ignore next */\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, 'barba')\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'prefetch'\n    );\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _bind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.addEventListener('mouseover', this._onLinkEnter);\n      document.addEventListener('touchstart', this._onLinkEnter);\n    }\n    document.addEventListener('click', this._onLinkClick);\n    window.addEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _unbind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.removeEventListener('mouseover', this._onLinkEnter);\n      document.removeEventListener('touchstart', this._onLinkEnter);\n    }\n    document.removeEventListener('click', this._onLinkClick);\n    window.removeEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * When a element is entered.\n   *\n   * Get valid link element.\n   * Cache URL if needed.\n   */\n  private _onLinkEnter(e: LinkEvent): void {\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    const href = this.dom.getHref(link);\n\n    if (this.prevent.checkHref(href)) {\n      return;\n    }\n\n    // Already in cache\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, link)\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'enter'\n    );\n  }\n\n  /**\n   * When an element is clicked.\n   *\n   * Get valid link element.\n   * Prevent same URL.\n   * Go for a Barba transition.\n   */\n  private _onLinkClick(e: LinkEvent): void {\n    // This use `prevent.checkLink` under the hood to get eligible link.\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    if (this.transitions.isRunning && this.preventRunning) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      return;\n    }\n\n    this.go(this.dom.getHref(link), link, e);\n  }\n\n  /**\n   * When History state changes.\n   *\n   * Get \"href\" from URL\n   * Go for a Barba transition.\n   */\n  private _onStateChange(e: PopStateEvent): void {\n    this.go(this.url.getHref(), 'popstate', e);\n  }\n\n  /**\n   * Get a valid link ancestor.\n   *\n   * Check for a \"href\" attribute.\n   * Then check if eligible for Barba.\n   */\n  private _getLinkElement(e: LinkEvent): Link {\n    let el = e.target as Link;\n\n    while (el && !this.dom.getHref(el)) {\n      el = (el as HTMLElement).parentNode as Link;\n    }\n\n    // Check prevent\n    if (!el || this.prevent.checkLink(el, e, this.dom.getHref(el))) {\n      return;\n    }\n\n    return el;\n  }\n\n  /**\n   * Reset pages data.\n   *\n   * Set \"current\" and unset \"next\".\n   */\n  private _resetData() {\n    const href = this.url.getHref();\n    const current = {\n      container: this.dom.getContainer(),\n      html: this.dom.getHtml(),\n      namespace: this.dom.getNamespace(),\n      url: {\n        href,\n        ...this.url.parse(href),\n      },\n    };\n\n    this._data = {\n      current,\n      next: { ...this.schemaPage },\n      trigger: undefined,\n    };\n\n    this.hooks.do('reset', this.data);\n  }\n}\n\nconst core = new Core();\n\nexport default core;\n","import './menu.js';\nimport Parallax from  './parallax.js';\nimport fullpage from '../vendors/fullpage.js';\nimport Barba from '@barba/core';\nimport { revealImage, slideFromLeft, leavePage } from './animations.js';\n\n\n\nimport '../sass/style.scss';\n\n\nconst SCROLL_SPEED = 1200;\nlet prevAnimation;\n\n// Initialize parallax\nconst moonParallax = new Parallax({\n    wrapper: '.js-parallax-moon',\n    layers: '.moon__layer',\n});\n\n// Initialize fullpage js\nconst fullPage = new fullpage('#fullpage', {\n    scrollingSpeed: SCROLL_SPEED,\n    recordHistory: false,\n    easing: 'easeIn',\n    onLeave(origin, destination, direction) {\n    \tif (prevAnimation) {\n    \t\tsetTimeout(() => {\n    \t\t\tprevAnimation.seek(0)\n    \t\t},SCROLL_SPEED);\n    \t}\n    },\n\n    afterLoad(origin, destination, direction) {\n        const section = destination.item;\n        const imageElement = section.querySelector('.image--over');\n        const elementsToSlide = section.querySelectorAll('.js-slide-left');\n        if (imageElement) {\n            prevAnimation = revealImage(imageElement, '.image__cover', elementsToSlide);\n        }\n        // if (elementsToSlide) {\n        //     slideFromLeft(elementsToSlide);\n        // }\n    }\n});\n\n// Initialize Barba js\n// const barba = new Barba({\n// \tname: 'default',\n// \tleave() {\n// \t\tleavePage(document.querySelector('.curtain'));\n// \t},\n// \tenter() {\n// \t\tleavePage(document.querySelector('.curtain'));\n// \t}\n// });","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}